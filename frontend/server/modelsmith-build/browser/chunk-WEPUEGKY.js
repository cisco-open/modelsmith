import{a as d}from"./chunk-C72SHGY6.js";import{a as u}from"./chunk-7HZCFN6L.js";import"./chunk-JZLUCDH7.js";import"./chunk-OWZJXMSU.js";import{a as f}from"./chunk-VN6ZKIV6.js";import"./chunk-4KWEJN4U.js";import"./chunk-NO2PD4LU.js";import{b as B}from"./chunk-MPLQ54VQ.js";import{Aa as I,Ca as N,Cc as D,Cd as k,Da as E,Id as T,Ja as V,Ka as L,La as j,Md as q,Na as S,P as p,T as Q,U as l,Z as P,Zb as A,_ as F,a as g,b as y,ja as m,ka as v,m as b,oc as R,pb as G,rd as O,sa as a,sd as _,uc as W,ud as U,wa as s,wd as M,xa as c,ya as C,za as w,zc as z}from"./chunk-AIAH5BT5.js";var $=["panelParameters"],o,h=(o=class{constructor(t,i){this.fb=t,this.scriptFacadeService=i,this.AlgorithmType=k,this.AWQAlgorithmsEnum=T,this.isScriptActive=!1}ngOnInit(){this.initForm(),this.listenToScriptStateChanges()}listenToScriptStateChanges(){this.scriptFacadeService.scriptStatus$.pipe(_(this)).subscribe(t=>{this.isScriptActive=M(t),M(t)?this.form.disable():this.form.enable()})}initForm(){this.form=this.fb.group({algorithm:this.fb.group({alg:[]})}),setTimeout(()=>{this.form.get("algorithm.alg")?.setValue(T.AWQ_QUANTIZATION)},0)}submit(){if(this.isScriptActive)return;let{algorithm:t,model:i}=this.form.getRawValue(),{model:e}=i,r=y(g({},t),{params:y(g({},this.panelParametersComponent.parametersFormatted),{model:e})});this.scriptFacadeService.dispatch(U.callScript({configs:r}))}},o.\u0275fac=function(i){return new(i||o)(v(z),v(q))},o.\u0275cmp=Q({type:o,selectors:[["ms-llm-quantization"]],viewQuery:function(i,e){if(i&1&&V($,5),i&2){let r;L(r=j())&&(e.panelParametersComponent=r.first)}},decls:13,vars:6,consts:[["panelParameters",""],[1,"heading-primary-title","title"],[1,"page-wrapper",3,"formGroup"],[1,"left"],[3,"formGroup"],["controlKey","model",3,"algorithmType","isTrainModelsPageRouteVisible"],["controlKey","params",3,"algorithm"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"right"]],template:function(i,e){if(i&1){let r=N();s(0,"p",1),S(1,"LLM Quantization"),c(),s(2,"div",2)(3,"div",3),w(4,4),C(5,"ms-panel-model",5)(6,"ms-panel-parameters",6,0),I(),s(8,"div")(9,"button",7),E("click",function(){return P(r),F(e.submit())}),S(10," Run "),c()()(),s(11,"div",8),C(12,"ms-terminal"),c()()}i&2&&(m(2),a("formGroup",e.form),m(2),a("formGroup",e.form),m(),a("algorithmType",e.AlgorithmType.AWQ)("isTrainModelsPageRouteVisible",!1),m(),a("algorithm",e.AWQAlgorithmsEnum.AWQ_QUANTIZATION),m(3),a("disabled",e.isScriptActive||e.form.invalid))},dependencies:[D,R,W,d,u,f],styles:[".title[_ngcontent-%COMP%]{margin-bottom:13px}"]}),o);h=b([O()],h);var x=[{path:"",component:h}],Z=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=l({type:t}),t.\u0275inj=p({imports:[A.forChild(x),A]});let n=t;return n})();var At=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=l({type:t}),t.\u0275inj=p({imports:[G,B,Z,d,u,f]});let n=t;return n})();export{At as LlmQuantizationModule};
