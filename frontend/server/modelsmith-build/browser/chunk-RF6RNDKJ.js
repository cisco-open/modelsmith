import{a as h}from"./chunk-4LBYIHBY.js";import"./chunk-D7DPXC3A.js";import"./chunk-R5LGWJKV.js";import{a as it,b as rt}from"./chunk-WGAUYJ4P.js";import"./chunk-UIR5RKCN.js";import{a as u}from"./chunk-WSCYSYQI.js";import{a as tt,b as et}from"./chunk-FODXYRF6.js";import"./chunk-JBGOI3PV.js";import"./chunk-CRYH3KM4.js";import{b,f as c}from"./chunk-C4NPICWQ.js";import"./chunk-Z6QRPUWD.js";import"./chunk-I7VABAG6.js";import"./chunk-JG6SCBOL.js";import"./chunk-XX6ZYDLH.js";import"./chunk-UWC6A2K5.js";import{a as Y,b as Z}from"./chunk-MCE6M2DX.js";import{a as x,b as y}from"./chunk-O6HMI7CW.js";import"./chunk-WXERLI5K.js";import{h as J}from"./chunk-BTHDGCD5.js";import{$a as n,Da as a,Ea as v,Ra as l,Rd as B,Za as N,Zb as U,_ as f,_a as O,a as S,ab as s,b as I,bb as M,be as V,cb as G,ce as $,db as P,fb as w,ga as A,ha as d,ib as L,je as H,ke as W,me as X,oa as D,oe as q,p as _,pa as E,pb as Q,pc as C,pe as T,qb as R,qe as F,rb as k,re as z,tb as p,ue as K,vb as j}from"./chunk-MDAOMI2L.js";var nt=["panelParameters"],at=(i,t)=>t.key;function st(i,t){if(i&1&&(n(0,"mat-option",10),p(1),s()),i&2){let e=t.$implicit;l("value",e.key),a(),j(" ",e.value," ")}}var o,g=(o=class{constructor(t,e){this.fb=t,this.scriptFacadeService=e,this.DiffusionModelAlgorithmsEnum=c,this.isScriptActive=!1,this.selectedAlgorithm=c.PTQ4DIT_GET_CALIBRATION_SET,this.DIFFUSION_MODEL_ALGORITHMS_LIST=[{key:c.PTQ4DIT_GET_CALIBRATION_SET,value:"Get calibration set"},{key:c.PTQ4DIT_QUANT_SAMPLE,value:"Quant sample"}]}ngOnInit(){this.initForm(),this.listenToScriptStateChanges()}initForm(){this.form=this.fb.group({algorithm:this.fb.group({alg:[this.selectedAlgorithm]})}),this.form.get("algorithm.alg")?.valueChanges.pipe(y(this)).subscribe(t=>{this.selectedAlgorithm=t})}listenToScriptStateChanges(){this.scriptFacadeService.scriptStatus$.pipe(y(this)).subscribe(t=>{this.isScriptActive=b(t),b(t)?this.form.disable():this.form.enable()})}submit(){if(this.isScriptActive)return;let{algorithm:t}=this.form.getRawValue(),e=I(S({},t),{params:S({},this.panelParametersComponent.parametersFormatted)});this.scriptFacadeService.dispatch(Y.callScript({configs:e}))}},o.\u0275fac=function(e){return new(e||o)(v(q),v(Z))},o.\u0275cmp=A({type:o,selectors:[["ms-difussion-model"]],viewQuery:function(e,r){if(e&1&&Q(nt,5),e&2){let m;R(m=k())&&(r.panelParametersComponent=m.first)}},decls:20,vars:4,consts:[["panelParameters",""],[1,"heading-primary-title","title"],[1,"page-wrapper",3,"formGroup"],[1,"left"],[3,"formGroup"],[1,"ms-card","algorithm-card"],[1,"heading-sub-section-title"],["formGroupName","algorithm",1,"form-field-container"],["appearance","outline","subscriptSizing","dynamic"],["formControlName","alg"],[3,"value"],["controlKey","params",3,"algorithm"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"right"]],template:function(e,r){if(e&1){let m=w();n(0,"p",1),p(1,"Diffusion Model"),s(),n(2,"div",2)(3,"div",3),G(4,4),n(5,"mat-card",5)(6,"p",6),p(7,"Algorithm"),s(),n(8,"div",7)(9,"mat-form-field",8)(10,"mat-select",9),N(11,st,2,2,"mat-option",10,at),s()()()(),M(13,"ms-panel-parameters",11,0),P(),n(15,"div")(16,"button",12),L("click",function(){return D(m),E(r.submit())}),p(17," Run "),s()()(),n(18,"div",13),M(19,"ms-terminal-xterm-with-toolbar"),s()()}e&2&&(a(2),l("formGroup",r.form),a(2),l("formGroup",r.form),a(7),O(r.DIFFUSION_MODEL_ALGORITHMS_LIST),a(2),l("algorithm",r.selectedAlgorithm),a(3),l("disabled",r.isScriptActive||r.form.invalid))},dependencies:[h,u,V,$,H,X,W,z,J,it,B,tt],styles:[".title[_ngcontent-%COMP%]{margin-bottom:13px}"]}),o);g=_([x()],g);var lt=[{path:"",component:g}],mt=(()=>{let t=class t{};t.\u0275fac=function(m){return new(m||t)},t.\u0275mod=d({type:t}),t.\u0275inj=f({imports:[C.forChild(lt),C]});let i=t;return i})();var Ut=(()=>{let t=class t{};t.\u0275fac=function(m){return new(m||t)},t.\u0275mod=d({type:t}),t.\u0275inj=f({imports:[mt,U,h,u,T,F,K,T,F,rt,et]});let i=t;return i})();export{Ut as DiffusionModelModule};
