import{a as d}from"./chunk-7HZCFN6L.js";import"./chunk-OWZJXMSU.js";import{a as f}from"./chunk-VN6ZKIV6.js";import"./chunk-4KWEJN4U.js";import"./chunk-NO2PD4LU.js";import{b as q}from"./chunk-MPLQ54VQ.js";import{Aa as P,Ca as I,Cc as V,Cd as B,Da as N,Fd as y,Ja as O,Ka as j,La as D,Md as W,Na as S,P as p,T as F,U as l,Z as A,Zb as C,_ as T,a as h,b,ja as m,ka as g,m as w,oc as L,pb as G,rd as _,sa as a,sd as Q,uc as R,ud as k,wa as s,wd as M,xa as c,ya as v,za as E,zc as U}from"./chunk-AIAH5BT5.js";var Z=["panelParameters"],r,u=(r=class{constructor(t,i){this.fb=t,this.scriptFacadeService=i,this.AlgorithmType=B,this.MultiflowAlgorithmsEnum=y,this.isScriptActive=!1}ngOnInit(){this.initForm(),this.listenToScriptStateChanges()}initForm(){this.form=this.fb.group({algorithm:this.fb.group({alg:[]})}),setTimeout(()=>{this.form.get("algorithm.alg")?.setValue(y.MULTIFLOW_PRUNE)},0)}listenToScriptStateChanges(){this.scriptFacadeService.scriptStatus$.pipe(Q(this)).subscribe(t=>{this.isScriptActive=M(t),M(t)?this.form.disable():this.form.enable()})}submit(){if(this.isScriptActive)return;let{algorithm:t}=this.form.getRawValue(),i=b(h({},t),{params:h({},this.panelParametersComponent.parametersFormatted)});this.scriptFacadeService.dispatch(k.callScript({configs:i}))}},r.\u0275fac=function(i){return new(i||r)(g(U),g(W))},r.\u0275cmp=F({type:r,selectors:[["ms-multi-modal"]],viewQuery:function(i,e){if(i&1&&O(Z,5),i&2){let o;j(o=D())&&(e.panelParametersComponent=o.first)}},decls:12,vars:4,consts:[["panelParameters",""],[1,"heading-primary-title","title"],[1,"page-wrapper",3,"formGroup"],[1,"left"],[3,"formGroup"],["controlKey","params",3,"algorithm"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"right"]],template:function(i,e){if(i&1){let o=I();s(0,"p",1),S(1,"Multi-modal"),c(),s(2,"div",2)(3,"div",3),E(4,4),v(5,"ms-panel-parameters",5,0),P(),s(7,"div")(8,"button",6),N("click",function(){return A(o),T(e.submit())}),S(9," Run "),c()()(),s(10,"div",7),v(11,"ms-terminal"),c()()}i&2&&(m(2),a("formGroup",e.form),m(2),a("formGroup",e.form),m(),a("algorithm",e.MultiflowAlgorithmsEnum.MULTIFLOW_PRUNE),m(3),a("disabled",e.isScriptActive||e.form.invalid))},dependencies:[V,L,R,d,f],styles:[".title[_ngcontent-%COMP%]{margin-bottom:13px}"]}),r);u=w([_()],u);var $=[{path:"",component:u}],K=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=l({type:t}),t.\u0275inj=p({imports:[C.forChild($),C]});let n=t;return n})();var St=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=l({type:t}),t.\u0275inj=p({imports:[G,q,d,f,K]});let n=t;return n})();export{St as MultiModalModule};
