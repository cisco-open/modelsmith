import{a as ot,e as nt,g as ki,h as Se,i as we}from"./chunk-NZHSXBAK.js";import{a as Fi,b as rt,c as Hi}from"./chunk-LDXPHWSX.js";import{a as it}from"./chunk-4Y5V7P2X.js";import{a as Li,b as ji,c as Vi}from"./chunk-MUPMLN7K.js";import{a as St,d as ui,e as fi,f as Bi,g as Gi}from"./chunk-WIINTOAC.js";import{a as bi,b as yi,c as Si,d as wi,e as Di,f as Ai,g as Ti,h as Mi,i as Ei,j as Ri,k as Ii,l as Pi,m as Oi,n as oe,o as Ni,p as tt,q as ye}from"./chunk-24DGCYWU.js";import{a as vi,b as xi}from"./chunk-FHAZQDJ7.js";import{a as pi,b as hi}from"./chunk-ZXCN5FFG.js";import{a as et,b as Ci}from"./chunk-UN2RPIW6.js";import{a as ze,b as Yt}from"./chunk-G4C6XJNS.js";import{a as gi,b as _i}from"./chunk-ZMBRGUAM.js";import{c as A}from"./chunk-C4NPICWQ.js";import{a as Xe}from"./chunk-THWFY62J.js";import{a as be,c as Je,d as yt}from"./chunk-XX6ZYDLH.js";import"./chunk-2NQ5HBSG.js";import{a as te,b as T}from"./chunk-HYZKEUDG.js";import{c as di,e as ci,f as mi,m as Ze}from"./chunk-RI64VF5Y.js";import{a as Ke,h as Ye,i as ri,j as si,k as li}from"./chunk-HDQHN5AB.js";import{$ as q,$a as O,$b as Gt,Ac as Pe,Ba as ut,Bb as k,Bd as Wt,Be as xe,C as mt,Cb as Ge,Cc as xt,Ce as ai,D as ae,Ea as l,Fa as d,Fd as Qt,Ga as Ft,H as Rt,Hb as C,I as Q,Ib as x,Jb as Lt,Jd as qt,Kd as Kt,Ld as bt,Na as Ht,Nb as ge,Oa as ft,P as pt,Pa as j,Pb as F,Q as ht,Qa as h,Qb as jt,Ra as je,Sa as f,Sb as Vt,Ta as Ve,Ua as he,Vd as $e,Wc as zt,Ya as _,Z as Te,Za as V,Zb as _e,_ as H,_a as P,_b as Bt,a as ne,ab as s,ac as $t,ae as Zt,b as Ae,ba as He,bb as a,ca as It,cb as p,ce as le,db as Ee,de as Oe,eb as Re,fe as ie,g as Fe,ga as y,gb as se,ge as Ce,ha as L,he as Ue,ia as I,j as re,ja as Le,jb as b,k as ct,ke as Xt,l as Mt,lb as u,le as We,mb as Be,na as pe,nb as K,o as Et,oa as w,oe as Qe,p as W,pa as D,pb as gt,pe as Jt,qa as Pt,qb as ue,rb as Y,re as ve,sa as Ot,sb as Z,sc as _t,ta as Nt,td as Ut,te as qe,ub as c,ue as ei,vb as fe,vc as Ct,ve as ti,wb as v,wc as vt,we as ii,xa as Me,xb as X,ya as N,yb as J,ye as oi,za as kt,zb as ee,zc as Ie,ze as ni}from"./chunk-KEE6Z3KT.js";var $i=(()=>{let e=class e{get lineClamp(){return this.maxEllipsisLines}onMouseEnter(){this.isTextOverflowing?this.tooltip.show():this.tooltip.hide()}onMouseLeave(){this.tooltip.hide()}constructor(t,o){this.tooltip=t,this.elementRef=o,this.maxEllipsisLines=2,this.display="-webkit-box",this.overflow="hidden",this.boxOrient="vertical",this.textOverflow="ellipsis",this.whiteSpace="normal",this.wordBreak="break-all"}ngAfterViewInit(){setTimeout(()=>{this.tooltip.message=this.elementRef.nativeElement.textContent.trim(),this.tooltip.position="above"},0)}get isTextOverflowing(){let t=parseInt(window.getComputedStyle(this.elementRef.nativeElement).lineHeight),o=this.maxEllipsisLines*t;return this.elementRef.nativeElement.scrollHeight>o}};e.\u0275fac=function(o){return new(o||e)(d(Xe),d(Me))},e.\u0275dir=I({type:e,selectors:[["","msUseEllipsis",""]],hostVars:14,hostBindings:function(o,r){o&1&&b("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()}),o&2&&Ve("display",r.display)("overflow",r.overflow)("-webkit-box-orient",r.boxOrient)("-webkit-line-clamp",r.lineClamp)("text-overflow",r.textOverflow)("white-space",r.whiteSpace)("word-break",r.wordBreak)},inputs:{maxEllipsisLines:"maxEllipsisLines"},standalone:!0,features:[k([Xe])]});let i=e;return i})();var uo=0,wt=new q("CdkAccordion"),zi=(()=>{let e=class e{constructor(){this._stateChanges=new re,this._openCloseAllActions=new re,this.id=`cdk-accordion-${uo++}`,this.multi=!1}openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=I({type:e,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",F]},exportAs:["cdkAccordion"],standalone:!0,features:[k([{provide:wt,useExisting:e}]),j,pe]});let i=e;return i})(),fo=0,Ui=(()=>{let e=class e{get expanded(){return this._expanded}set expanded(t){if(this._expanded!==t){if(this._expanded=t,this.expandedChange.emit(t),t){this.opened.emit();let o=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,o)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}constructor(t,o,r){this.accordion=t,this._changeDetectorRef=o,this._expansionDispatcher=r,this._openCloseAllSubscription=Fe.EMPTY,this.closed=new N,this.opened=new N,this.destroyed=new N,this.expandedChange=new N,this.id=`cdk-accordion-child-${fo++}`,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((m,g)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===g&&this.id!==m&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}};e.\u0275fac=function(o){return new(o||e)(d(wt,12),d(ge),d(Ze))},e.\u0275dir=I({type:e,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",F],disabled:[2,"disabled","disabled",F]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[k([{provide:wt,useValue:void 0}]),j]});let i=e;return i})(),Wi=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=L({type:e}),e.\u0275inj=H({});let i=e;return i})();var Co=["body"],vo=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],xo=["mat-expansion-panel-header","*","mat-action-row"];function bo(i,e){}var yo=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],So=["mat-panel-title","mat-panel-description","*"];function wo(i,e){if(i&1&&(s(0,"span",1),Pt(),s(1,"svg",2),p(2,"path",3),a()()),i&2){let n=u();f("@indicatorRotate",n._getExpandedState())}}var Dt=new q("MAT_ACCORDION"),Qi="225ms cubic-bezier(0.4,0.0,0.2,1)",Ki={indicatorRotate:Ct("indicatorRotate",[Pe("collapsed, void",Ie({transform:"rotate(0deg)"})),Pe("expanded",Ie({transform:"rotate(180deg)"})),xt("expanded <=> collapsed, void => collapsed",vt(Qi))]),bodyExpansion:Ct("bodyExpansion",[Pe("collapsed, void",Ie({height:"0px",visibility:"hidden"})),Pe("expanded",Ie({height:"*",visibility:""})),xt("expanded <=> collapsed, void => collapsed",vt(Qi))])},Yi=new q("MAT_EXPANSION_PANEL"),Do=(()=>{let e=class e{constructor(t,o){this._template=t,this._expansionPanel=o}};e.\u0275fac=function(o){return new(o||e)(d(Ft),d(Yi,8))},e.\u0275dir=I({type:e,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0});let i=e;return i})(),Ao=0,Zi=new q("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),B=(()=>{let e=class e extends Ui{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=t}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,o,r,m,g,R,ke){super(t,o,r),this._viewContainerRef=m,this._animationMode=R,this._hideToggle=!1,this.afterExpand=new N,this.afterCollapse=new N,this._inputChanges=new re,this._headerId=`mat-expansion-panel-header-${Ao++}`,this.accordion=t,this._document=g,this._animationsDisabled=R==="NoopAnimations",ke&&(this.hideToggle=ke.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(ht(null),ae(()=>this.expanded&&!this._portal),Q(1)).subscribe(()=>{this._portal=new di(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){let t=this._document.activeElement,o=this._body.nativeElement;return t===o||o.contains(t)}return!1}_animationStarted(t){!qi(t)&&!this._animationsDisabled&&this._body&&this._body?.nativeElement.setAttribute("inert","")}_animationDone(t){qi(t)||(t.toState==="expanded"?this.afterExpand.emit():t.toState==="collapsed"&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}};e.\u0275fac=function(o){return new(o||e)(d(Dt,12),d(ge),d(Ze),d(Ht),d(Vt),d(ut,8),d(Zi,8))},e.\u0275cmp=y({type:e,selectors:[["mat-expansion-panel"]],contentQueries:function(o,r,m){if(o&1&&gt(m,Do,5),o&2){let g;Y(g=Z())&&(r._lazyContent=g.first)}},viewQuery:function(o,r){if(o&1&&ue(Co,5),o&2){let m;Y(m=Z())&&(r._body=m.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(o,r){o&2&&he("mat-expanded",r.expanded)("_mat-animation-noopable",r._animationsDisabled)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",F],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[k([{provide:Dt,useValue:void 0},{provide:Yi,useExisting:e}]),j,ft,pe,Ge],ngContentSelectors:xo,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(o,r){if(o&1){let m=se();Be(vo),K(0),s(1,"div",1,0),b("@bodyExpansion.start",function(R){return w(m),D(r._animationStarted(R))})("@bodyExpansion.done",function(R){return w(m),D(r._animationDone(R))}),s(3,"div",2),K(4,1),h(5,bo,0,0,"ng-template",3),a(),K(6,2),a()}o&2&&(l(),f("@bodyExpansion",r._getExpandedState())("id",r.id),je("aria-labelledby",r._headerId),l(4),f("cdkPortalOutlet",r._portal))},dependencies:[ci],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[Ki.bodyExpansion]},changeDetection:0});let i=e;return i})();function qi(i){return i.fromState==="void"}var de=(()=>{let e=class e{constructor(t,o,r,m,g,R,ke){this.panel=t,this._element=o,this._focusMonitor=r,this._changeDetectorRef=m,this._animationMode=R,this._parentChangeSubscription=Fe.EMPTY,this.tabIndex=0;let mo=t.accordion?t.accordion._stateChanges.pipe(ae(me=>!!(me.hideToggle||me.togglePosition))):Et;this.tabIndex=parseInt(ke||"")||0,this._parentChangeSubscription=mt(t.opened,t.closed,mo,t._inputChanges.pipe(ae(me=>!!(me.hideToggle||me.disabled||me.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(ae(()=>t._containsFocus())).subscribe(()=>r.focusVia(o,"program")),g&&(this.expandedHeight=g.expandedHeight,this.collapsedHeight=g.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:Ut(t)||(t.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t);return}}focus(t,o){t?this._focusMonitor.focusVia(this._element,t,o):this._element.nativeElement.focus(o)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}};e.\u0275fac=function(o){return new(o||e)(d(B,1),d(Me),d(Qt),d(ge),d(Zi,8),d(ut,8),Nt("tabindex"))},e.\u0275cmp=y({type:e,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(o,r){o&1&&b("click",function(){return r._toggle()})("keydown",function(g){return r._keydown(g)}),o&2&&(je("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),Ve("height",r._getHeaderHeight()),he("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after",r._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",r._getTogglePosition()==="before")("_mat-animation-noopable",r._animationMode==="NoopAnimations"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:jt(t)]},standalone:!0,features:[j,Ge],ngContentSelectors:So,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(o,r){o&1&&(Be(yo),s(0,"span",0),K(1),K(2,1),K(3,2),a(),h(4,wo,3,1,"span",1)),o&2&&(he("mat-content-hide-toggle",!r._showToggle()),l(4),_(r._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color);display:inline-block;display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color);display:none;display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[Ki.indicatorRotate]},changeDetection:0});let i=e;return i})();var De=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=I({type:e,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0});let i=e;return i})(),Xi=(()=>{let e=class e extends zi{constructor(){super(...arguments),this._ownHeaders=new kt,this.hideToggle=!1,this.displayMode="default",this.togglePosition="after"}ngAfterContentInit(){this._headers.changes.pipe(ht(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(o=>o.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Wt(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ot(e)))(r||e)}})(),e.\u0275dir=I({type:e,selectors:[["mat-accordion"]],contentQueries:function(o,r,m){if(o&1&&gt(m,de,5),o&2){let g;Y(g=Z())&&(r._headers=g)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(o,r){o&2&&he("mat-accordion-multi",r.multi)},inputs:{hideToggle:[2,"hideToggle","hideToggle",F],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],standalone:!0,features:[k([{provide:Dt,useExisting:e}]),j,ft]});let i=e;return i})(),Ji=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=L({type:e}),e.\u0275inj=H({imports:[bt,Wi,mi]});let i=e;return i})();var eo=(()=>{let e=class e{transform(t){return typeof t=="string"&&t&&t!="None"||typeof t=="number"&&!isNaN(t)?t.toString():"-"}};e.\u0275fac=function(o){return new(o||e)},e.\u0275pipe=Le({name:"emptyTableField",type:e,pure:!0,standalone:!0});let i=e;return i})();var to=(()=>{let e=class e{transform(t){return t&&typeof t=="object"&&Object.keys(t).length>0}};e.\u0275fac=function(o){return new(o||e)},e.\u0275pipe=Le({name:"hasKeys",type:e,pure:!0,standalone:!0});let i=e;return i})();var M=function(i){return i.ADD="add",i.EDIT="edit",i.VIEW="view",i}(M||{});var at=(()=>{let e=class e{constructor(t){this.store=t,this.filenames$=this.store.select(ui),this.summarizedRecord$=this.store.select(fi)}dispatch(t){this.store.dispatch(t)}};e.\u0275fac=function(o){return new(o||e)(He(zt))},e.\u0275prov=Te({token:e,factory:e.\u0275fac});let i=e;return i})();var E=(()=>{let e=class e{get algorithmType(){return this._algorithmType.value}get algorithmType$(){return this._algorithmType.asObservable()}set algorithmType(t){this._recordsMap.set(this._algorithmType.value,this._records.value),this._algorithmType.next(t);let o=this._recordsMap.get(t)||[];this._records.next(o)}get records(){return this._records.value}get records$(){return this._records.asObservable()}addRecord(t){this.stopTooltips();let r=[...this._records.value,t];this._records.next(r),this._recordsMap.set(this._algorithmType.value,r)}updateRecord(t,o){this.stopTooltips();let r=this._records.value;if(t>=0&&t<r.length){let m=[...r];m[t]=o,this._records.next(m),this._recordsMap.set(this._algorithmType.value,m)}}removeRecord(t){this.stopTooltips();let o=this._records.value;if(t>=0&&t<o.length){let r=o.filter((m,g)=>g!==t);this._records.next(r),this._recordsMap.set(this._algorithmType.value,r)}}stopTooltips(){this.chartToolsGlobalSignalsService.toggleTooltips=!1,this.chartToolsGlobalSignalsService.toggleZoom=!1}constructor(t){this.chartToolsGlobalSignalsService=t,this._recordsMap=new Map,this._records=new ct([]),this._algorithmType=new ct(A.PRUNING)}};e.\u0275fac=function(o){return new(o||e)(He(Se))},e.\u0275prov=Te({token:e,factory:e.\u0275fac});let i=e;return i})();var oo=(()=>{let e=class e{get parentFormGroup(){return this.controlContainer.control}get chartFormGroup(){return this.parentFormGroup.get(this.controlKey)}get borderColorControl(){return this.chartFormGroup.get(this.CHART_BODER_COLOR_CONTROL_NAME)}get backgroundColorControl(){return this.chartFormGroup.get(this.CHART_BACKGROUND_COLOR_CONTROL_NAME)}constructor(t){this.controlContainer=t,this.controlKey="",this.CHART_BODER_COLOR_CONTROL_NAME="borderColor",this.CHART_BACKGROUND_COLOR_CONTROL_NAME="backgroundColor"}ngOnInit(){}};e.\u0275fac=function(o){return new(o||e)(d(Oe))},e.\u0275cmp=y({type:e,selectors:[["ms-chart-colors-form-controls"]],inputs:{controlKey:"controlKey"},features:[k([],[{provide:Oe,useFactory:()=>It(Oe,{skipSelf:!0})}])],decls:15,vars:5,consts:[[3,"formGroupName"],[1,"form-field-container"],[1,"flex","items-center"],[1,"mr-2"],["ngx-colors-trigger","",3,"formControlName"]],template:function(o,r){o&1&&(Ee(0,0),s(1,"div",1)(2,"mat-label"),c(3,"Chart border color"),a(),s(4,"div",2)(5,"div",3),p(6,"ngx-colors",4),a(),c(7),a()(),s(8,"div",1)(9,"mat-label"),c(10,"Chart background color"),a(),s(11,"div",2)(12,"div",3),p(13,"ngx-colors",4),a(),c(14),a()(),Re()),o&2&&(f("formGroupName",r.controlKey),l(6),f("formControlName",r.CHART_BODER_COLOR_CONTROL_NAME),l(),v(" ",r.borderColorControl==null?null:r.borderColorControl.value," "),l(6),f("formControlName",r.CHART_BACKGROUND_COLOR_CONTROL_NAME),l(),v(" ",r.backgroundColorControl==null?null:r.backgroundColorControl.value," "))},dependencies:[ji,Li,ie,Ce,ve,Jt,Ke]});let i=e;return i})();function Lo(i,e){if(i&1&&(s(0,"mat-option",5),c(1),a()),i&2){let n=u();l(),v(" No algorithm was yet run. Please run a ",n.algorithmTypeLabel," algorithm. ")}}function jo(i,e){if(i&1&&(s(0,"mat-option",6),c(1),a()),i&2){let n=e.$implicit;f("value",n.name)("disabled",n.disabled),l(),v(" ",n.name," ")}}function Vo(i,e){if(i&1&&P(0,jo,2,3,"mat-option",6,V),i&2){let n=u();O(n.files)}}function Bo(i,e){i&1&&(s(0,"div")(1,"div",7),p(2,"mat-spinner",8),a()())}function Go(i,e){if(i&1&&(c(0),C(1,"readableDuration")),i&2){let n=u().$implicit;v(" ",x(1,1,n.value)," ")}}function $o(i,e){if(i&1&&c(0),i&2){let n=u().$implicit;v(" ",n.value," ")}}function zo(i,e){i&1&&(s(0,"div",20),p(1,"mat-divider"),a())}function Uo(i,e){if(i&1&&(s(0,"div",16)(1,"div",17)(2,"div",18),c(3),C(4,"parametersLabel"),a(),s(5,"div",19),h(6,Go,2,3)(7,$o,1,1),a()(),h(8,zo,2,0,"div",20),a()),i&2){let n,t=e.$implicit,o=e.$index,r=e.$count;l(3),v("",x(4,3,t.key),":"),l(3),_((n=t.key)==="duration_seconds"?6:7),l(2),_(o!==r-1?8:-1)}}function Wo(i,e){i&1&&P(0,Uo,9,5,"div",16,V),i&2&&O(e)}function Qo(i,e){i&1&&(s(0,"div",15),c(1,"No data available"),a())}function qo(i,e){if(i&1&&(c(0),C(1,"adaptiveFileSize")),i&2){let n=u().$implicit;v(" ",x(1,1,n.value)," ")}}function Ko(i,e){if(i&1&&(c(0),C(1,"date")),i&2){let n=u().$implicit;v(" ",Lt(1,1,n.value,"medium")," ")}}function Yo(i,e){if(i&1&&(c(0),C(1,"readableDuration")),i&2){let n=u().$implicit;v(" ",x(1,1,n.value)," ")}}function Zo(i,e){if(i&1&&c(0),i&2){let n=u().$implicit;v(" ",n.value," ")}}function Xo(i,e){i&1&&(s(0,"div",20),p(1,"mat-divider"),a())}function Jo(i,e){if(i&1&&(s(0,"div",16)(1,"div",17)(2,"div",18),c(3),C(4,"parametersLabel"),a(),s(5,"div",19),h(6,qo,2,3)(7,Ko,2,4)(8,Yo,2,3)(9,Zo,1,1),a()(),h(10,Xo,2,0,"div",20),a()),i&2){let n,t=e.$implicit,o=e.$index,r=e.$count;l(3),v("",x(4,3,t.key),":"),l(3),_((n=t.key)==="file_size_bytes"?6:n==="creation_date"?7:n==="training_duration_seconds"?8:9),l(4),_(o!==r-1?10:-1)}}function en(i,e){if(i&1&&(P(0,Jo,11,5,"div",16,V),C(2,"keyvalue")),i&2){let n=u(3);O(x(2,0,n.summarizedRecord.modelTrainingDetails))}}function tn(i,e){i&1&&(s(0,"div",15),c(1,"No data available"),a())}function on(i,e){i&1&&(s(0,"div",20),p(1,"mat-divider"),a())}function nn(i,e){if(i&1&&(s(0,"div",16)(1,"div",17)(2,"div",18),c(3),C(4,"parametersLabel"),a(),s(5,"div",19),c(6),a()(),h(7,on,2,0,"div",20),a()),i&2){let n=e.$implicit,t=e.$index,o=e.$count;l(3),v("",x(4,3,n.key),":"),l(3),fe(n.value),l(),_(t!==o-1?7:-1)}}function rn(i,e){i&1&&P(0,nn,8,5,"div",16,V),i&2&&O(e)}function an(i,e){i&1&&(s(0,"div",15),c(1,"No data available"),a())}function sn(i,e){if(i&1&&p(0,"ms-chart-colors-form-controls",21)(1,"ms-line-chart",22),i&2){let n=u(3);l(),f("data",n.lastRunAccuracyTestingChartData)("settings",n.testingAccuracyChartDisplaySettings)}}function ln(i,e){i&1&&(s(0,"div",15),c(1,"No data available"),a())}function dn(i,e){if(i&1){let n=se();p(0,"mat-divider"),s(1,"div",10)(2,"mat-label"),c(3,"Set run name"),a(),s(4,"mat-form-field",3),p(5,"input",11),a()(),s(6,"mat-accordion",12)(7,"mat-expansion-panel",13),ee("expandedChange",function(o){w(n);let r=u(2);return J(r.panelStates.statistics,o)||(r.panelStates.statistics=o),D(o)}),s(8,"mat-expansion-panel-header")(9,"mat-panel-title",14),c(10," Statistics "),a()(),h(11,Wo,2,0),C(12,"keyvalue"),h(13,Qo,2,0,"div",15),a(),s(14,"mat-expansion-panel",13),ee("expandedChange",function(o){w(n);let r=u(2);return J(r.panelStates.modelTrainingDetails,o)||(r.panelStates.modelTrainingDetails=o),D(o)}),s(15,"mat-expansion-panel-header")(16,"mat-panel-title",14),c(17," Model training details "),a()(),h(18,en,3,2),C(19,"hasKeys"),h(20,tn,2,0,"div",15),a(),s(21,"mat-expansion-panel",13),ee("expandedChange",function(o){w(n);let r=u(2);return J(r.panelStates.parameters,o)||(r.panelStates.parameters=o),D(o)}),s(22,"mat-expansion-panel-header")(23,"mat-panel-title",14),c(24," Parameters "),a()(),h(25,rn,2,0),C(26,"keyvalue"),h(27,an,2,0,"div",15),a(),s(28,"mat-expansion-panel",13),ee("expandedChange",function(o){w(n);let r=u(2);return J(r.panelStates.accuracy,o)||(r.panelStates.accuracy=o),D(o)}),s(29,"mat-expansion-panel-header")(30,"mat-panel-title",14),c(31," Last Accuracy Test Run "),a()(),h(32,sn,2,2),C(33,"keyvalue"),h(34,ln,2,0,"div",15),a()()}if(i&2){let n,t,o,r=u(2);l(7),X("expanded",r.panelStates.statistics),l(4),_((n=x(12,8,r.summarizedRecord.statistics))?11:13,n),l(3),X("expanded",r.panelStates.modelTrainingDetails),l(4),_(x(19,10,r.summarizedRecord.modelTrainingDetails)?18:20),l(3),X("expanded",r.panelStates.parameters),l(4),_((t=x(26,12,r.summarizedRecord.parameters))?25:27,t),l(3),X("expanded",r.panelStates.accuracy),l(4),_((o=x(33,14,r.summarizedRecord.parameters))?32:34,o)}}function cn(i,e){i&1&&p(0,"ms-empty-state",9)}function mn(i,e){if(i&1&&h(0,dn,35,16)(1,cn,1,0,"ms-empty-state",9),i&2){let n=u();_(n.summarizedRecord?0:1)}}var G,ce=(G=class{get chartFormGroup(){return this.form.get("chart")}get selectRunFormControl(){return this.form.get("selectRun")}get runNameFormControl(){return this.form.get("runName")}constructor(e,n,t,o,r,m){this.drawerRef=e,this.drawerConfig=n,this.fb=t,this.recordsFacadeService=o,this.recordsDataService=r,this.customAPILoadingService=m,this.panelStates={statistics:!0,parameters:!0,accuracy:!0,modelTrainingDetails:!0},this.form=new Ue({}),this.algorithmTypeLabel="",this.files=[],this.isSummarizedRecordLoading$=this.customAPILoadingService.getLoadingObservableForKey(Bi.RUN_RECORDS_SUMMARIZED_DATA),this.testingAccuracyChartDisplaySettings={},this.lastRunAccuracyTestingChartData=[]}ngAfterViewInit(){this.restorePanelStates()}ngOnInit(){switch(this.initForm(),this.initChartDisplaySettings(),this.listenToChartColorChanges(),this.algorithmTypeLabel=this.getAlgorithmTypeString(),this.drawerConfig.actionType){case M.ADD:{this.loadData(),this.configureAddTypeActions();break}case M.EDIT:case M.VIEW:{this.configureEditOrViewTypeActions();break}}}getAlgorithmTypeString(){switch(this.recordsDataService.algorithmType){case A.PRUNING:return"pruning";case A.QUANTIZATION:return"quantization";case A.MACHINE_UNLEARNING:return"machine unlearning";default:return"specified"}}initChartDisplaySettings(){let e=0;switch(this.recordsDataService.algorithmType){case A.PRUNING:{e=100;break}case A.QUANTIZATION:{e=79;break}case A.MACHINE_UNLEARNING:{e=36;break}default:break}this.testingAccuracyChartDisplaySettings={yAxisMinimumValue:0,yAxisTickInterval:20,chartDataStructure:nt.SINGLE_PHASE_X_AXIS,xAxisDataPointsCount:e,yAxisMaximumValue:100,isXAxisVisible:!0,isXAxisDynamic:!0,areTooltipsEnabled:!0,xAxisInitialLabelValue:1,xAxisLabelPrefix:"Step:",datasetLabelPrefix:"Test:",isChartWithCustomColorSettings:!0,customChartColors:{datasetColors:[{backgroundColor:"rgba(241, 196, 15, 0.2)",borderColor:"#f1c40f"}]}}}listenToChartColorChanges(){this.chartFormGroup.valueChanges.pipe(Rt(300),T(this)).subscribe(e=>{if(be(e))return;let{backgroundColor:n,borderColor:t}=e;this.testingAccuracyChartDisplaySettings=Ae(ne({},this.testingAccuracyChartDisplaySettings),{customChartColors:{datasetColors:[{backgroundColor:n,borderColor:t}]}}),this.lastRunAccuracyTestingChartData=[...this.lastRunAccuracyTestingChartData]})}configureEditOrViewTypeActions(){let{recordName:e,recordFilename:n,record:t,chartColors:o}=this.drawerConfig.data;this.drawerConfig.actionType===M.VIEW?this.form.disable():this.drawerConfig.actionType===M.EDIT&&this.selectRunFormControl.disable(),this.files=[{name:n,disabled:!0}],this.form.patchValue({selectRun:n,runName:e,chart:{borderColor:o.borderColor,backgroundColor:o.backgroundColor}}),this.summarizedRecord=t,this.lastRunAccuracyTestingChartData=this.configureChartDataset(t),this.testingAccuracyChartDisplaySettings=Ae(ne({},this.testingAccuracyChartDisplaySettings),{hasCustomDatasetsLabels:!0,customDatasetsLabels:[e],customChartColors:{datasetColors:[{backgroundColor:o.backgroundColor||"rgba(241, 196, 15, 0.2)",borderColor:o.borderColor||"#f1c40f"}]}})}configureAddTypeActions(){this.listenToSelectRunFormValueChanges(),this.listenToSummarizedRecordChanges()}listenToSelectRunFormValueChanges(){this.selectRunFormControl.valueChanges.pipe(T(this),ae(e=>!Je(e))).subscribe(e=>{this.runNameFormControl.reset(),this.recordsFacadeService.dispatch(St.getRunRecordSummarizedData({algorithmType:this.recordsDataService.algorithmType,filename:e}))})}listenToSummarizedRecordChanges(){this.recordsFacadeService.summarizedRecord$.pipe(T(this),pt(1)).subscribe(e=>{this.summarizedRecord=e,this.lastRunAccuracyTestingChartData=this.configureChartDataset(e);let n=this.summarizedRecord?.statistics.algorithm_key,t=this.summarizedRecord?.parameters.arch;!Je(n)&&!Je(t)&&this.runNameFormControl.setValue(`${n}_${t}`),this.savePanelStates(),this.restorePanelStates()})}configureChartDataset(e){return[{datasetIndex:0,values:e.lastRunTestingAccuracyData||[]}]}loadData(){this.recordsFacadeService.dispatch(St.getRunRecordsFilenames({algorithmType:this.recordsDataService.algorithmType})),this.recordsFacadeService.filenames$.pipe(pt(1),Q(1)).subscribe(e=>{let n=new Set(this.recordsDataService.records.map(t=>t.recordFilename));this.files=e.map(t=>({name:t,disabled:n.has(t)}))})}initForm(){let e=this.getDefaultChartColors();this.form=this.fb.group({selectRun:[null,le.required],runName:[null,le.required],chart:this.fb.group({borderColor:[e.borderColor,le.required],backgroundColor:[e.backgroundColor,le.required]})})}getDefaultChartColors(){let e=Math.max(this.recordsDataService.records.length,0),n=ki[ot.YELLOW].datasetColors[e];return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}}save(e){if(e!==oe.SAVE)return;let{backgroundColor:n,borderColor:t}=this.form.get("chart")?.getRawValue();this.drawerRef.close({result:{recordName:this.runNameFormControl.value,recordFilename:this.selectRunFormControl.value,record:this.summarizedRecord,chartColors:{backgroundColor:n,borderColor:t}},status:e})}close(){this.drawerRef.close()}savePanelStates(){this.panels.forEach((e,n)=>{this.panelStates[n]=e.expanded})}restorePanelStates(){this.panels.forEach((e,n)=>{this.panelStates[n]!==void 0&&(e.expanded=this.panelStates[n])})}},G.\u0275fac=function(n){return new(n||G)(d(Ni),d(Oi),d(qe),d(at),d(E),d(Gi))},G.\u0275cmp=y({type:G,selectors:[["ms-run-drawer-actions"]],viewQuery:function(n,t){if(n&1&&ue(B,5),n&2){let o;Y(o=Z())&&(t.panels=o)}},decls:12,vars:7,consts:[[3,"actionEvent","isSaveDisabled"],[3,"formGroup"],[1,"form-field-container"],["appearance","outline"],["formControlName","selectRun","placeholder","Select a run record"],["disabled",""],[3,"value","disabled"],[1,"spinner-wrapper","mt-4"],["diameter","80"],["title","Awaiting Run Record Selection","message","Select a run record from the dropdown to view details and statistics."],[1,"form-field-container","mt-4"],["matInput","","formControlName","runName","placeholder","Set run name"],["multi",""],[3,"expandedChange","expanded"],[1,"paragraph-bold-p3-small-bold"],[1,"no-data-container"],[1,"key-value-container","single"],[1,"key-value-pair","space-between"],[1,"key-value-key"],[1,"key-value-value"],[1,"pt-2"],["controlKey","chart"],[3,"data","settings"]],template:function(n,t){n&1&&(s(0,"ms-drawer",0),b("actionEvent",function(r){return t.save(r)}),s(1,"form",1)(2,"div",2)(3,"mat-label"),c(4,"Select run record"),a(),s(5,"mat-form-field",3)(6,"mat-select",4),h(7,Lo,2,1,"mat-option",5)(8,Vo,2,0),a()()(),h(9,Bo,3,0,"div"),C(10,"async"),h(11,mn,2,1),a()()),n&2&&(f("isSaveDisabled",t.form.invalid),l(),f("formGroup",t.form),l(6),_(t.files.length===0?7:-1),l(),_(t.files.length>0?8:-1),l(),_(x(10,5,t.isSummarizedRecordLoading$)?9:11))},dependencies:[tt,we,it,Xi,B,de,De,We,Zt,ie,Ce,Qe,ve,Ye,Ke,et,$e,ze,pi,si,oo,_e,Bt,Gt,Hi,rt,Fi,to],styles:[".spinner-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),G);ce=W([te()],ce);function hn(i,e){if(i&1){let n=se();s(0,"mat-card",1)(1,"div",2)(2,"div",3),c(3),a(),s(4,"div",4)(5,"button",5),b("click",function(){let o=w(n).$implicit,r=u(2);return D(r.viewRecord(o))}),p(6,"mat-icon",6),a(),s(7,"button",5),b("click",function(){let o=w(n),r=o.$implicit,m=o.$index,g=u(2);return D(g.editRecord(m,r))}),p(8,"mat-icon",7),a(),s(9,"button",8),b("click",function(){let o=w(n).$index,r=u(2);return D(r.removeRecord(o))}),s(10,"mat-icon",9),c(11,"delete"),a()()()()()}if(i&2){let n=e.$implicit;l(3),fe(n.recordName)}}function un(i,e){i&1&&P(0,hn,12,1,"mat-card",1,V),i&2&&O(e)}var so=(()=>{let e=class e{constructor(t,o){this.recordsDataService=t,this.drawerService=o}removeRecord(t){this.recordsDataService.removeRecord(t)}viewRecord(t){this.drawerService.open(ce,{title:"View Run",showSaveButton:!1,showCloseButton:!0,closeButtonLabel:"Close",actionType:M.VIEW,data:t})}editRecord(t,o){this.drawerService.open(ce,{title:"Edit Run",saveButtonLabel:"Update",showCloseButton:!0,closeButtonLabel:"Close",actionType:M.EDIT,data:o}).afterClosed().pipe(Q(1)).subscribe(m=>{let{status:g}=m;if(g===oe.DISMISS||g===oe.CLOSE)return;let{result:R}=m;be(R)||this.recordsDataService.updateRecord(t,R)})}};e.\u0275fac=function(o){return new(o||e)(d(E),d(ye))},e.\u0275cmp=y({type:e,selectors:[["ms-algorithm-comparison-list"]],decls:3,vars:3,consts:[[1,"items-wrapper"],[1,"ms-card","comparison-item"],[1,"item-wrapper"],["msUseEllipsis",""],[1,"record-summary-buttons-wrapper"],["mat-icon-button","","color","primary",3,"click"],["fontSet","ms","fontIcon","icon-Eye",1,"mat-primary"],["fontSet","ms","fontIcon","icon-PencilSimple",1,"mat-primary"],["mat-icon-button","","color","error",3,"click"],[1,"mat-error"]],template:function(o,r){if(o&1&&(s(0,"div",0),h(1,un,2,0),C(2,"async"),a()),o&2){let m;l(),_((m=x(2,1,r.recordsDataService.records$))?1:-1,m)}},dependencies:[$i,xe,gi,oi,_e],styles:[".items-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));grid-gap:20px;padding:20px 0}.items-wrapper[_ngcontent-%COMP%]   .ms-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #0003}.items-wrapper[_ngcontent-%COMP%]   .comparison-item[_ngcontent-%COMP%]   .item-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.items-wrapper[_ngcontent-%COMP%]   .comparison-item[_ngcontent-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .record-summary-buttons-wrapper[_ngcontent-%COMP%]{display:flex}"]});let i=e;return i})();var $,st=($=class{constructor(e,n){this.recordsDataService=e,this.chartToolsGlobalSignalsService=n,this.testingAccuracyChartDisplaySettings={yAxisMinimumValue:0,yAxisMaximumValue:100,yAxisTickInterval:20,chartDataStructure:nt.SINGLE_PHASE_X_AXIS,datasetColorSettingsKey:ot.YELLOW,isXAxisVisible:!0,xAxisLabelPrefix:"Step:",zoomRangeLimits:{min:0,max:100},isXAxisDynamic:!0,hasCustomDatasetsLabels:!0},this.lastRunsAccuracyTestingChartData=[],this.enableTooltips=!1,this.enableZoom=!1}ngOnInit(){this.listenToRecordsChanges(),this.subscribeToChartToolsSignals()}listenToRecordsChanges(){this.recordsDataService.records$.pipe(T(this)).subscribe(e=>{yt(e)||(this.lastRunsAccuracyTestingChartData=this.configureChartDatasets(e),this.testingAccuracyChartDisplaySettings=Ae(ne({},this.testingAccuracyChartDisplaySettings),{customDatasetsLabels:e.map(n=>n.recordName),xAxisDataPointsCount:e[0].record.lastRunTestingAccuracyData.length,isChartWithCustomColorSettings:!0,customChartColors:{datasetColors:e.map(n=>n.chartColors)}}))})}subscribeToChartToolsSignals(){this.chartToolsGlobalSignalsService.toggleTooltips$.pipe(T(this)).subscribe(e=>{this.enableTooltips=e}),this.chartToolsGlobalSignalsService.toggleZoom$.pipe(T(this)).subscribe(e=>{this.enableZoom=e})}configureChartDatasets(e){let n=[];return e.forEach((t,o)=>{let{record:r}=t;n.push({datasetIndex:o,values:r.lastRunTestingAccuracyData||[]})}),n}toggleTooltip(e){this.chartToolsGlobalSignalsService.toggleTooltips=e.checked}toggleZoom(e){this.chartToolsGlobalSignalsService.toggleZoom=e.checked}},$.\u0275fac=function(n){return new(n||$)(d(E),d(Se))},$.\u0275cmp=y({type:$,selectors:[["ms-algorithm-comparison-chart"]],decls:14,vars:4,consts:[["expanded","true"],[1,"paragraph-bold-p3-small-bold"],[1,"mt-2","flex"],["color","primary",3,"ngModelChange","change","ngModel"],[1,"flex"],["color","primary",1,"ml-2",3,"ngModelChange","change","ngModel"],[1,"ml-1"],["fontSet","ms","fontIcon","icon-Info","matTooltip","Use mouse wheel or touchpad pinch to zoom in/out. Drag to select an area for specific zoom, or use touchpad gestures to navigate."],[3,"data","settings"]],template:function(n,t){n&1&&(s(0,"mat-expansion-panel",0)(1,"mat-expansion-panel-header")(2,"mat-panel-title",1),c(3," Last Accuracy Test Run "),a()(),s(4,"div",2)(5,"div")(6,"mat-slide-toggle",3),ee("ngModelChange",function(r){return J(t.enableTooltips,r)||(t.enableTooltips=r),r}),b("change",function(r){return t.toggleTooltip(r)}),c(7," Enable tooltips "),a()(),s(8,"div",4)(9,"mat-slide-toggle",5),ee("ngModelChange",function(r){return J(t.enableZoom,r)||(t.enableZoom=r),r}),b("change",function(r){return t.toggleZoom(r)}),c(10," Enable zoom "),a(),s(11,"div",6),p(12,"mat-icon",7),a()()(),p(13,"ms-line-chart",8),a()),n&2&&(l(6),X("ngModel",t.enableTooltips),l(3),X("ngModel",t.enableZoom),l(4),f("data",t.lastRunsAccuracyTestingChartData)("settings",t.testingAccuracyChartDisplaySettings))},dependencies:[we,B,de,De,ie,Xt,xe,vi]}),$);st=W([te()],st);var _n=new q("MAT_SORT_DEFAULT_OPTIONS"),lo=(()=>{let e=class e{get direction(){return this._direction}set direction(t){this._direction=t}constructor(t){this._defaultOptions=t,this._initializedStream=new Mt(1),this.sortables=new Map,this._stateChanges=new re,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new N,this.initialized=this._initializedStream}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let o=t?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,r=Cn(t.start||this.start,o),m=r.indexOf(this.direction)+1;return m>=r.length&&(m=0),r[m]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}};e.\u0275fac=function(o){return new(o||e)(d(_n,8))},e.\u0275dir=I({type:e,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",F],disabled:[2,"matSortDisabled","disabled",F]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[j,pe]});let i=e;return i})();function Cn(i,e){let n=["asc","desc"];return i=="desc"&&n.reverse(),e||n.push(""),n}var wa=Kt.ENTERING+" "+qt.STANDARD_CURVE;function vn(i,e){i&1&&(s(0,"th",10),c(1,"Record Name"),a())}function xn(i,e){if(i&1&&(s(0,"td",11),c(1),a()),i&2){let n=e.$implicit;l(),fe(n.recordName)}}function bn(i,e){if(i&1&&(s(0,"th",10),c(1),C(2,"parametersLabel"),a()),i&2){let n=u().$implicit;l(),v(" ",x(2,1,n)," ")}}function yn(i,e){if(i&1&&(s(0,"td",11),c(1),C(2,"emptyTableField"),a()),i&2){let n=e.$implicit,t=u().$implicit;l(),v(" ",x(2,1,n[t])," ")}}function Sn(i,e){if(i&1&&(Ee(0,7),h(1,bn,3,3,"th",5)(2,yn,3,3,"td",6),Re()),i&2){let n=e.$implicit;f("matColumnDef",n)}}function wn(i,e){i&1&&p(0,"tr",12)}function Dn(i,e){i&1&&p(0,"tr",13)}var z,lt=(z=class{constructor(e){this.recordsDataService=e,this.dataSource=new Pi,this.displayedColumns=[]}ngOnInit(){this.recordsDataService.records$.pipe(T(this)).subscribe(e=>{this.updateDisplayedColumns(e),this.updateDataSource(e)})}ngAfterViewInit(){be(this.sort)||setTimeout(()=>{this.dataSource.sort=this.sort},1200)}updateDisplayedColumns(e){let n=new Set;e.forEach(t=>{Object.keys(t.record.parameters).forEach(o=>{o!=="save_dir"&&o!=="data"&&n.add(o)})}),this.displayedColumns=["recordName",...Array.from(n)]}updateDataSource(e){let n=e.map(t=>{let o=t.record.parameters;return ne({recordName:t.recordName},o)});this.dataSource.data=n}},z.\u0275fac=function(n){return new(n||z)(d(E))},z.\u0275cmp=y({type:z,selectors:[["ms-algorithm-comparison-table"]],viewQuery:function(n,t){if(n&1&&ue(lo,5),n&2){let o;Y(o=Z())&&(t.sort=o.first)}},decls:13,vars:3,consts:[["expanded","true"],[1,"paragraph-bold-p3-small-bold"],[1,"table-container"],["mat-table","","matSort","",1,"mat-table",3,"dataSource"],["matColumnDef","recordName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[3,"matColumnDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","hover-highlight",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row","",1,"hover-highlight"]],template:function(n,t){n&1&&(s(0,"mat-expansion-panel",0)(1,"mat-expansion-panel-header")(2,"mat-panel-title",1),c(3," Parameters "),a()(),s(4,"div",2)(5,"table",3),Ee(6,4),h(7,vn,2,0,"th",5)(8,xn,2,1,"td",6),Re(),P(9,Sn,3,1,"ng-container",7,V),h(11,wn,1,0,"tr",8)(12,Dn,1,0,"tr",9),a()()()),n&2&&(l(5),f("dataSource",t.dataSource),l(4),O(t.displayedColumns.slice(1)),l(2),f("matHeaderRowDef",t.displayedColumns),l(),f("matRowDefColumns",t.displayedColumns))},dependencies:[B,de,De,bi,Si,Ti,wi,yi,Mi,Di,Ai,Ei,Ri,rt,eo],styles:[".table-container[_ngcontent-%COMP%]{overflow:auto}.hover-highlight[_ngcontent-%COMP%]:hover{background-color:var(--backgrounds-80)}.mat-column-disable_8bit_head_stem[_ngcontent-%COMP%]{min-width:200px}.mat-column-workers[_ngcontent-%COMP%], .mat-column-n_bits_w[_ngcontent-%COMP%], .mat-column-channel_wise[_ngcontent-%COMP%], .mat-column-n_bits_a[_ngcontent-%COMP%]{min-width:160px}.mat-column-act_quant[_ngcontent-%COMP%]{min-width:180px}.mat-column-num_samples[_ngcontent-%COMP%], .mat-column-iters_w[_ngcontent-%COMP%]{min-width:160px}.mat-column-keep_cpu[_ngcontent-%COMP%], .mat-column-awq[_ngcontent-%COMP%]{min-width:180px}.mat-column-aaq[_ngcontent-%COMP%], .mat-column-init_wmode[_ngcontent-%COMP%], .mat-column-init_amode[_ngcontent-%COMP%]{min-width:200px}.mat-column-num_indexes_to_replace[_ngcontent-%COMP%]{min-width:185px}.mat-column-unlearn_lr[_ngcontent-%COMP%], .mat-column-alpha[_ngcontent-%COMP%], .mat-column-unlearn_epochs[_ngcontent-%COMP%], .mat-column-train_seed[_ngcontent-%COMP%], .mat-column-class_to_replace[_ngcontent-%COMP%], .mat-column-indexes_to_replace[_ngcontent-%COMP%], .mat-column-no_aug[_ngcontent-%COMP%]{min-width:200px}.mat-column-imagenet_arch[_ngcontent-%COMP%]{min-width:220px}.mat-column-num_workers[_ngcontent-%COMP%]{min-width:180px}"]}),z);lt=W([te()],lt);var Tn=(i,e)=>e.key;function Mn(i,e){if(i&1&&(s(0,"mat-option",6),c(1),a()),i&2){let n=e.$implicit;f("value",n.key),l(),v(" ",n.value," ")}}function En(i,e){i&1&&(p(0,"ms-algorithm-comparison-list"),s(1,"div",7),p(2,"mat-divider"),a(),p(3,"ms-algorithm-comparison-table"),s(4,"div",7),p(5,"mat-divider"),a(),p(6,"ms-algorithm-comparison-chart"))}function Rn(i,e){i&1&&(s(0,"div",11),p(1,"ms-empty-state",12),a())}var U,dt=(U=class{get algorithmTypeFormControl(){return this.form.get(this.ALGORITHM_TYPE_CONTROL_NAME)}constructor(e,n,t){this.drawerService=e,this.recordsDataService=n,this.fb=t,this.form=new Ue({}),this.algorithmTypesOptions=[{key:A.QUANTIZATION,value:"Quantization"},{key:A.PRUNING,value:"Pruning"},{key:A.MACHINE_UNLEARNING,value:"Machine Unlearning"}],this.ALGORITHM_TYPE_CONTROL_NAME="algorithmType"}openAddRunDrawer(){this.drawerService.open(ce,{title:"Add Run",saveButtonLabel:"Add",showCloseButton:!0,closeButtonLabel:"Close",actionType:M.ADD,width:"40vw"}).afterClosed().pipe(Q(1)).subscribe(n=>{let{status:t}=n;if(t===oe.DISMISS||t===oe.CLOSE)return;let{result:o}=n;this.recordsDataService.addRecord(o)})}ngOnInit(){this.initForm(),this.listenToAlgorithmTypeChanges()}initForm(){this.form=this.fb.group({[this.ALGORITHM_TYPE_CONTROL_NAME]:[this.recordsDataService.algorithmType,le.required]})}listenToAlgorithmTypeChanges(){this.algorithmTypeFormControl.valueChanges.pipe(T(this)).subscribe(e=>{this.recordsDataService.algorithmType=e})}},U.\u0275fac=function(n){return new(n||U)(d(ye),d(E),d(qe))},U.\u0275cmp=y({type:U,selectors:[["ms-algorithm-comparison"]],decls:19,vars:5,consts:[[1,"title-wrapper"],[1,"heading-primary-title","title"],[1,"ml-2",3,"formGroup"],[1,"form-field-container","w-56","mt-2"],["appearance","outline"],["placeholder","Select a run record",3,"formControlName"],[3,"value"],[1,"mt-4","mb-4"],["mat-stroked-button","","color","primary",3,"click"],["fontSet","ms","fontIcon","icon-Plus"],[1,"mt-4"],[1,"no-data-wrapper"],["title","No data selected"]],template:function(n,t){n&1&&(s(0,"div",0)(1,"p",1),c(2,"Algorithm Comparison for"),a(),s(3,"form",2)(4,"div",3)(5,"mat-form-field",4)(6,"mat-select",5),P(7,Mn,2,2,"mat-option",6,Tn),a()()()()(),s(9,"div",7),p(10,"mat-divider"),a(),s(11,"button",8),b("click",function(){return t.openAddRunDrawer()}),p(12,"mat-icon",9),c(13,` Add run
`),a(),s(14,"div",10),p(15,"mat-divider"),a(),h(16,En,7,0),C(17,"async"),h(18,Rn,2,0,"div",11)),n&2&&(l(3),f("formGroup",t.form),l(3),f("formControlName",t.ALGORITHM_TYPE_CONTROL_NAME),l(),O(t.algorithmTypesOptions),l(9),_(x(17,3,t.recordsDataService.records$).length>0?16:18))},dependencies:[it,We,ie,Ce,Qe,ve,Ye,et,$e,ze,xe,ii,so,st,lt,_e],styles:[".no-data-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center}.title-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}"]}),U);dt=W([te()],dt);var In=[{path:"",component:dt}],co=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=L({type:e}),e.\u0275inj=H({imports:[_t.forChild(In),_t]});let i=e;return i})();var js=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=L({type:e}),e.\u0275inj=H({providers:[ye,at,E,Se],imports:[$t,co,tt,Vi,we,Ji,ei,ti,ri,Ci,Yt,hi,ai,_i,Ii,xi,ni,li]});let i=e;return i})();export{js as AlgorithmComparisonModule};
