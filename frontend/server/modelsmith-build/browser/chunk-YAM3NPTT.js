import{a as Y,b as Z,c as tt,d as et,e as it,f as nt,g as ot}from"./chunk-ACDWMEPA.js";import"./chunk-6FKYFGRM.js";import{a as C}from"./chunk-5TKSYKLD.js";import{a as v}from"./chunk-63LCZYLQ.js";import{b as X}from"./chunk-X4G3WW7I.js";import"./chunk-EWCYLHFH.js";import"./chunk-AQXO3PTH.js";import"./chunk-K7FQHXIQ.js";import{b as J}from"./chunk-EL4FLL4A.js";import"./chunk-36MMDLJ6.js";import{a as h}from"./chunk-YTNPENYO.js";import{b as H}from"./chunk-OCTHNKRP.js";import"./chunk-6LWV3YLD.js";import"./chunk-OGR7OULT.js";import"./chunk-LS3MZLOQ.js";import{b as $,f as M}from"./chunk-OSQ72SWC.js";import"./chunk-ZTF7MLCF.js";import"./chunk-YRSJWEPX.js";import"./chunk-XX6ZYDLH.js";import"./chunk-4HSOKWHU.js";import"./chunk-47NJWMMS.js";import{a as K,b as W}from"./chunk-7Q6ZV4YJ.js";import"./chunk-NCOEO6LZ.js";import"./chunk-3DEWYFT2.js";import{Aa as f,Cb as Q,Db as R,Ec as j,La as _,Na as d,Ta as b,Ub as k,X as S,Xa as a,Xb as G,Ya as r,Za as u,bb as P,be as B,ca as L,da as g,eb as E,gb as c,je as U,ka as T,la as x,lb as I,mb as y,nb as D,nc as O,oe as V,pb as l,pe as F,qe as N,re as z,sa as w,ue as q,vb as A,za as p}from"./chunk-ED6LLMLR.js";var st=["panelParametersCalibrationSet"],pt=["panelParametersQuantSample"];function lt(e,t){e&1&&(a(0,"div",11),u(1,"ms-spining-indicator"),r())}function ct(e,t){if(e&1&&(a(0,"div",9)(1,"div",10),l(2,"Step 1: Calibration Data"),r(),A(3),Q(4,"async"),_(5,lt,2,0,"div",11),r()),e&2){let o=c(),n=R(4,1,o.pageRunningScriptSpiningIndicatorService.currentRunningPageInfo$);p(5),b((n==null?null:n.algKey)===o.DiffusionModelAlgorithmsEnum.PTQ4DIT_GET_CALIBRATION_SET?5:-1)}}function dt(e,t){if(e&1){let o=P();a(0,"div",12),u(1,"ms-panel-parameters",13,0),r(),a(3,"div",14)(4,"div",15)(5,"button",16),l(6,"Next"),r()(),a(7,"div")(8,"button",17),E("click",function(){T(o);let i=c();return x(i.submit(i.DiffusionModelAlgorithmsEnum.PTQ4DIT_GET_CALIBRATION_SET,"params_calibration_set"))}),l(9," Run "),r()()()}if(e&2){let o=c();p(),d("algorithm",o.DiffusionModelAlgorithmsEnum.PTQ4DIT_GET_CALIBRATION_SET),p(7),d("disabled",o.isScriptActive||o.form.invalid)}}function ut(e,t){e&1&&(a(0,"div",11),u(1,"ms-spining-indicator"),r())}function ft(e,t){if(e&1&&(a(0,"div",9)(1,"div",10),l(2,"Step 2: Quantization"),r(),A(3),Q(4,"async"),_(5,ut,2,0,"div",11),r()),e&2){let o=c(),n=R(4,1,o.pageRunningScriptSpiningIndicatorService.currentRunningPageInfo$);p(5),b((n==null?null:n.algKey)===o.DiffusionModelAlgorithmsEnum.PTQ4DIT_QUANT_SAMPLE?5:-1)}}function _t(e,t){if(e&1){let o=P();a(0,"div",12),u(1,"ms-panel-parameters",18,1),r(),a(3,"div",14)(4,"div",15)(5,"button",19),l(6,"Previous"),r()(),a(7,"div")(8,"button",17),E("click",function(){T(o);let i=c();return x(i.submit(i.DiffusionModelAlgorithmsEnum.PTQ4DIT_QUANT_SAMPLE,"params_quant_sample"))}),l(9," Run "),r()()()}if(e&2){let o=c();p(),d("algorithm",o.DiffusionModelAlgorithmsEnum.PTQ4DIT_QUANT_SAMPLE),p(7),d("disabled",o.isScriptActive||o.form.invalid)}}var at=(()=>{let t=class t{constructor(n,i,m,s){this.destroyRef=n,this.fb=i,this.scriptFacadeService=m,this.pageRunningScriptSpiningIndicatorService=s,this.DiffusionModelAlgorithmsEnum=M,this.isScriptActive=!1,this.DIFFUSION_MODEL_ALGORITHMS_LIST=[{key:M.PTQ4DIT_GET_CALIBRATION_SET,value:"Get calibration set"},{key:M.PTQ4DIT_QUANT_SAMPLE,value:"Quant sample"}]}ngOnInit(){this.initForm(),this.listenToScriptStateChanges()}initForm(){this.form=this.fb.group({})}listenToScriptStateChanges(){this.scriptFacadeService.scriptStatus$.pipe(j(this.destroyRef)).subscribe(n=>{this.isScriptActive=$(n),this.isScriptActive?this.form.disable():this.form.enable()})}submit(n,i){if(this.isScriptActive)return;let m=i==="params_calibration_set"?this.panelParametersCalibrationSet.parametersFormatted:this.panelParametersQuantSample.parametersFormatted,s={alg:n,params:m};this.scriptFacadeService.dispatch(K.callScript({configs:s}))}};t.\u0275fac=function(i){return new(i||t)(f(w),f(V),f(W),f(X))},t.\u0275cmp=L({type:t,selectors:[["ms-difussion-model"]],viewQuery:function(i,m){if(i&1&&(I(st,5),I(pt,5)),i&2){let s;y(s=D())&&(m.panelParametersCalibrationSet=s.first),y(s=D())&&(m.panelParametersQuantSample=s.first)}},decls:13,vars:1,consts:[["panelParametersCalibrationSet",""],["panelParametersQuantSample",""],[1,"heading-primary-title","title"],[1,"page-wrapper",3,"formGroup"],[1,"left"],["orientation","horizontal",1,"ms-stepper"],["matStepLabel",""],["matStepContent",""],[1,"right"],[1,"step-custom-label"],[1,"step-name"],[1,"step-loader"],[1,"panel-parameters"],["controlKey","params_calibration_set",3,"algorithm"],[1,"mt-6","flex"],[1,"mr-2"],["mat-stroked-button","","matStepperNext",""],["mat-raised-button","","color","primary",3,"click","disabled"],["controlKey","params_quant_sample",3,"algorithm"],["mat-stroked-button","","matStepperPrevious",""]],template:function(i,m){i&1&&(a(0,"p",2),l(1,"Diffusion Model (PTQ4DiT)"),r(),a(2,"div",3)(3,"div",4)(4,"mat-stepper",5)(5,"mat-step"),_(6,ct,6,3,"ng-template",6)(7,dt,10,2,"ng-template",7),r(),a(8,"mat-step"),_(9,ft,6,3,"ng-template",6)(10,_t,10,2,"ng-template",7),r()()(),a(11,"div",8),u(12,"ms-terminal-xterm-with-toolbar"),r()()),i&2&&(p(2),d("formGroup",m.form))},dependencies:[C,h,B,U,z,tt,Y,et,it,nt,Z,v,k],styles:[".title[_ngcontent-%COMP%]{margin-bottom:13px}.mat-stepper-horizontal[_ngcontent-%COMP%]{background:none}.mat-stepper-horizontal[_ngcontent-%COMP%]   .mat-horizontal-content-container[_ngcontent-%COMP%]{padding-bottom:2px}.step-custom-label[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.step-custom-label[_ngcontent-%COMP%]   .step-loader[_ngcontent-%COMP%]{margin-left:10px}.panel-parameters[_ngcontent-%COMP%]{margin-top:20px}"]});let e=t;return e})();var St=[{path:"",component:at}],mt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=g({type:t}),t.\u0275inj=S({imports:[O.forChild(St),O]});let e=t;return e})();var Kt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=g({type:t}),t.\u0275inj=S({imports:[mt,G,C,h,F,N,q,F,N,J,H,ot,v]});let e=t;return e})();export{Kt as DiffusionModelModule};
