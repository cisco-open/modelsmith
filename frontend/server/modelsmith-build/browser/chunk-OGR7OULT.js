import{i as Ot}from"./chunk-ZTF7MLCF.js";import{i as ht,m as vt,s as Pt}from"./chunk-NCOEO6LZ.js";import{a as at,d as pt,h as ct,i as lt,j as dt,k as ut}from"./chunk-3DEWYFT2.js";import{Aa as a,Cb as z,Eb as $,Ec as M,H as V,Na as C,Pb as K,Sb as W,W as g,Xa as c,Xb as D,Xd as J,Y as k,Ya as m,Z as d,Za as u,a as R,ae as Q,be as Z,ca as y,ce as tt,ea as N,eb as A,fa as U,hb as X,ib as H,j as T,je as et,me as ot,oe as rt,pb as G,qa as S,qc as q,qe as it,rc as F,sa as I,ta as E,te as nt,ua as Y,uc as h,ue as st,vc as x,we as mt,xa as B,xb as b,xc as _,xe as ft,za as L}from"./chunk-ED6LLMLR.js";var l={OPEN:"open",DISMISS:"dismiss",SAVE:"save",CLOSE:"close"};var gt={TOP:"top",LEFT:"left",RIGHT:"right",BOTTOM:"bottom"};var yt="200px",St="80px",w=gt.TOP,v=150,It={top:{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-24,offsetX:-9},bottom:{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:4,offsetX:-7},left:{originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:-22,offsetY:-12},right:{originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:8,offsetY:-10}};var p=class{constructor(t){this.overlayRef=t,this.isClosing=!1,this.afterClosedSubject=new T,this.dataSubject=new T,this.data$=this.dataSubject.asObservable()}emitData(t){this.dataSubject.next(t)}backdropClick(){return this.overlayRef.backdropClick()}close(t,s=!0){this.isClosing=!0,this.afterClosedSubject.next(t),this.afterClosedSubject.complete(),this.dataSubject.complete(),setTimeout(()=>{this.overlayRef.dispose()},s?v:0)}afterClosed(){return this.afterClosedSubject.asObservable()}updatePosition(){this.overlayRef.updatePosition()}};var f=new k("POPOVER");var Et=(()=>{let t=class t{constructor(){this.activePopovers=new Map}registerPopover(e,o){this.activePopovers.set(e,o)}deregisterPopover(e){this.activePopovers.delete(e)}closePopoverById(e,o,i=!0){let n=this.activePopovers.get(e);n&&(n.close(o,i),this.activePopovers.delete(e))}closeAllPopovers(){this.activePopovers.forEach(e=>e.close()),this.activePopovers.clear()}hasActivePopover(e){return this.activePopovers.has(e)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var bt=(r,t)=>{let s={};return r&&Ct(s,r,"width"),t&&Ct(s,t,"height"),s},Ct=(r,t,s)=>{let e=kt(t);e==="px"||e==="rem"||e==="em"?r[`${s}.${e}`]=parseFloat(t):r[s]=t},kt=r=>{let s=(typeof r=="string"?r:"").match(/(px|rem|em|vw|vh|%)$/);return s?s[0]:"px"},Dt=()=>"popover-"+Math.random().toString(36).slice(2,11);var se=(()=>{let t=class t{constructor(e,o,i,n){this.overlay=e,this.injector=o,this.scrollDispatcher=i,this.popoverManager=n}open(e,o,i,n){let Tt=this.getPositionStrategy(o,i?.position??w),j=this.overlay.create(R({positionStrategy:Tt},i||{})),O=new p(j),At=S.create({parent:this.injector,providers:[{provide:p,useValue:O},{provide:f,useValue:R({position:w,closePopoverOnBackdropClick:!1,closePopoverOnEscKeyUp:!0,width:i?.width||yt,height:i?.height||St},i)}]}),Ft=new vt(e,null,At);j.attach(Ft);let _t=n??Dt();return this.popoverManager.registerPopover(_t,O),this.scrollDispatcher.scrolled().subscribe(()=>{O.updatePosition()}),O}getPositionStrategy(e,o){let i=e instanceof E?e.nativeElement:e,n=It[o];return this.overlay.position().flexibleConnectedTo(i).withFlexibleDimensions(!1).withPush(!1).withPositions([n]).withViewportMargin(0)}};t.\u0275fac=function(o){return new(o||t)(d(Pt),d(S),d(ht),d(Et))},t.\u0275prov=g({token:t,factory:t.\u0275fac});let r=t;return r})();var xt=(()=>{let t=class t{transform(e,o){return bt(e,o)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275pipe=U({name:"iconPanelSizeStyles",type:t,pure:!0,standalone:!0});let r=t;return r})();var Nt=["*"],Mt=(()=>{let t=class t{constructor(e,o,i){this.destroyRef=e,this.popoverRef=o,this.data=i,this.actionEvent=new Y,this.closeDrawerOnBackdropClick()}onClose(){this.actionEvent.emit(l.CLOSE),this.popoverRef.close({status:l.CLOSE})}onSave(){this.actionEvent.emit(l.SAVE),this.popoverRef.close({status:l.SAVE})}onDismiss(){this.actionEvent.emit(l.DISMISS),this.popoverRef.close({status:l.DISMISS})}closeDrawerOnBackdropClick(){this.data.closePopoverOnBackdropClick&&this.popoverRef.backdropClick().pipe(M(this.destroyRef)).subscribe(()=>{this.onDismiss()})}onEscKeyDown(){this.data.closePopoverOnEscKeyUp&&this.onDismiss()}};t.\u0275fac=function(o){return new(o||t)(a(I),a(p),a(f))},t.\u0275cmp=y({type:t,selectors:[["ms-popover"]],hostBindings:function(o,i){o&1&&A("keyup.esc",function(){return i.onEscKeyDown()},!1,B)},inputs:{contentTemplate:"contentTemplate"},outputs:{actionEvent:"actionEvent"},standalone:!0,features:[b],ngContentSelectors:Nt,decls:8,vars:6,consts:[[1,"tooltip-container","popover-element",3,"ngClass","ngStyle"],[1,"tooltip-arrow"],[1,"popover-content"],[1,"close-button"],["mat-icon-button","",3,"click"],["fontSet","ms","fontIcon","icon-X",1,"mat-error","size-20"]],template:function(o,i){o&1&&(X(),c(0,"div",0),z(1,"iconPanelSizeStyles"),u(2,"div",1),c(3,"div",2),H(4),m(),c(5,"div",3)(6,"button",4),A("click",function(){return i.onClose()}),u(7,"mat-icon",5),m()()()),o&2&&C("ngClass",i.data.position)("ngStyle",$(1,3,i.data.width,i.data.height))("@fadeInOut",i.popoverRef.isClosing)},dependencies:[D,K,W,ft,mt,st,nt,xt],styles:[".tooltip-container[_ngcontent-%COMP%]{position:relative;background-color:var(--tooltip);color:var(--popover-color);border-radius:6px;box-shadow:0 4px 8px #0000001a;padding:10px 8px}.tooltip-arrow[_ngcontent-%COMP%]{position:absolute;width:0;height:0;border-style:solid}.tooltip-content[_ngcontent-%COMP%]{padding:12px}.tooltip-container.top[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{bottom:-10px;left:50%;transform:translate(-50%);border-width:10px 10px 0 10px;border-color:var(--tooltip) transparent transparent transparent}.tooltip-container.bottom[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:-10px;left:50%;transform:translate(-50%);border-width:0 10px 10px 10px;border-color:transparent transparent var(--tooltip) transparent}.tooltip-container.left[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{right:-10px;top:50%;transform:translateY(-50%);border-width:10px 0 10px 10px;border-color:transparent transparent transparent var(--tooltip)}.tooltip-container.right[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{left:-10px;top:50%;transform:translateY(-50%);border-width:10px 10px 10px 0;border-color:transparent var(--tooltip) transparent transparent}.close-button[_ngcontent-%COMP%]{position:absolute;right:0;top:0}"],data:{animation:[q("fadeInOut",[x("void",h({opacity:0})),x("true",h({opacity:0})),x("false",h({opacity:1})),_(":enter",[F(`${v}ms ease-in`,h({opacity:1}))]),_("false => true",[F(`${v}ms ease-out`)])])]}});let r=t;return r})();var Rt=(()=>{let t=class t{constructor(e){this.el=e}ngAfterViewInit(){setTimeout(()=>{this.el.nativeElement.focus()},0)}};t.\u0275fac=function(o){return new(o||t)(a(E))},t.\u0275dir=N({type:t,selectors:[["","msAutofocus",""]],standalone:!0});let r=t;return r})();var He=(()=>{let t=class t{get searchFormControl(){return this.searchForm.get("search")}constructor(e,o,i,n){this.destroyRef=e,this.popoverRef=o,this.iconPanelConfig=i,this.fb=n,this.searchForm=new tt({})}ngOnInit(){this.initForm(),this.listenToSearchFormControlValueChanges()}initForm(){this.searchForm=this.fb.group({search:[""]})}listenToSearchFormControlValueChanges(){this.searchFormControl.valueChanges.pipe(M(this.destroyRef),V(200)).subscribe(e=>{this.popoverRef.emitData(e)})}};t.\u0275fac=function(o){return new(o||t)(a(I),a(p),a(f),a(rt))},t.\u0275cmp=y({type:t,selectors:[["ms-terminal-toolbar-search-popover"]],standalone:!0,features:[b],decls:7,vars:1,consts:[[1,"form-field-container","dark",3,"formGroup"],["subscriptSizing","dynamic"],["msErrorDisplay","","matInput","","msAutofocus","","formControlName","search"],["fontSet","ms","fontIcon","icon-MagnifyingGlass","matSuffix",""]],template:function(o,i){o&1&&(c(0,"ms-popover")(1,"div",0)(2,"mat-label"),G(3," Search... "),m(),c(4,"mat-form-field",1),u(5,"input",2)(6,"mat-icon",3),m()()()),o&2&&(L(),C("formGroup",i.searchForm))},dependencies:[D,ut,dt,ct,at,pt,lt,it,J,Q,Z,et,ot,Mt,Ot,Rt]});let r=t;return r})();export{l as a,gt as b,Et as c,se as d,He as e};
