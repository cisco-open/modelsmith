import{a as vt,e as xt,g as _n,h as ze,i as Ge}from"./chunk-2JZ6V3QN.js";import{a as Cn,b as bt,c as vn}from"./chunk-XD2XL32D.js";import{a as Ct}from"./chunk-3GNVUME3.js";import{a as Yt,d as Qi,e as Ki,f as xn,g as bn}from"./chunk-LBD5Y7YA.js";import{a as nn,b as on,c as rn,d as an,e as sn,f as ln,g as cn,h as dn,i as pn,j as mn,k as hn,l as gn,m as un,n as ye,o as fn,p as _t,q as je}from"./chunk-MJO2RBYE.js";import{a as en,b as tn}from"./chunk-W2GP6GR3.js";import{a as Ui,b as $i}from"./chunk-3S6QBQVM.js";import{a as ft,b as Ji}from"./chunk-G267DK6J.js";import{a as at,b as Pi}from"./chunk-VUPIOU6P.js";import{a as zi,b as Gi}from"./chunk-PP7DOJYP.js";import{a as gt}from"./chunk-SMKHMGDE.js";import{c as Le,e as ut,f as Gt,g as B}from"./chunk-W4U3FJPJ.js";import{a as qi,b as Zi}from"./chunk-2FJ2YO2M.js";import"./chunk-PSFPSLKI.js";import{a as be,b as z}from"./chunk-GMIVG7ET.js";import{c as Yi,e as Xi,f as Wi,m as ht}from"./chunk-NT2MTW7W.js";import{a as pt,h as mt,i as Li}from"./chunk-HG2O7P4S.js";import{$ as W,$b as wi,$d as ki,Ab as j,Ac as $e,Ad as Ei,Ae as ji,Ba as It,Bb as it,Bc as Lt,Ca as di,Cc as Ne,D as Pt,Da as Ot,Db as Vt,E as Me,Ea as s,Ec as Qe,Ed as Ai,Fa as m,Fb as E,Fc as jt,Ga as pi,Gb as M,Ha as mi,Hb as ui,I as ii,Ib as ne,Id as Mi,J as pe,Jb as fi,Jd as Ti,Kd as zt,Lb as Z,Na as hi,Nb as J,Oa as Rt,Ob as _i,Pa as ie,Q as Ft,Qa as u,Qb as Ci,R as kt,Ra as et,Sa as d,Ta as V,Tb as ee,Ua as K,Ub as oe,Ud as rt,Va as gi,Vb as vi,Vc as Si,Wb as xi,Xb as bi,Ya as Nt,Yb as nt,Z as ni,_ as me,_b as Oe,_d as Fi,a as Ee,aa as he,ab as l,ac as yi,b as We,bb as c,bc as ot,be as Te,ca as ge,cb as f,ce as Ke,da as oi,db as b,eb as w,ee as we,fe as Be,g as Ze,gb as D,ge as st,ha as A,ia as U,j as Ae,ja as F,jb as _,je as Ii,k as Tt,ka as Je,ke as lt,l as ei,lb as h,mb as tt,me as ct,nb as _e,ne as Oi,o as ti,oa as ue,p as de,pa as C,pb as Bt,pe as Ve,qa as v,qb as q,ra as Ie,rb as H,re as dt,sa as ri,sb as L,sc as Ht,sd as Di,se as Ri,ta as ai,tb as $,te as Ni,ua as si,ub as g,ue as Bi,va as li,vb as k,vc as Ue,wb as T,wc as Re,we as Vi,xa as fe,xb as Ce,xe as Hi,ya as S,yb as ve,za as ci,zb as xe,zc as I,ze as He}from"./chunk-NPZHNGVX.js";var Qn=["hueSlider"],Kn=["alphaSlider"];function qn(n,i){if(n&1){let e=D();l(0,"div",10),_("newValue",function(o){C(e);let r=h();return v(r.onSliderChange("saturation-lightness",o))}),l(1,"div",11),f(2,"div"),c()()}if(n&2){let e=h();V("background-color",e.hueSliderColor),d("rgX",1)("rgY",1),s(),V("top",e.slider==null?null:e.slider.v,"px")("left",e.slider==null?null:e.slider.s,"px")}}function Zn(n,i){if(n&1&&(l(0,"div",12),f(1,"div",13)(2,"div",14),c()),n&2){let e=h();s(2),V("background-color",e.selectedColor)}}function Jn(n,i){if(n&1){let e=D();l(0,"div",15,1),_("newValue",function(o){C(e);let r=h();return v(r.onSliderChange("hue",o))}),l(2,"div",16)(3,"div"),f(4,"div"),c()()()}if(n&2){let e=h();d("rgX",1),s(2),V("left",e.slider==null?null:e.slider.h,"px")}}function eo(n,i){if(n&1){let e=D();l(0,"div",17,2),_("newValue",function(o){C(e);let r=h();return v(r.onSliderChange("alpha",o))}),f(2,"div",18),l(3,"div",16)(4,"div"),f(5,"div"),c()()()}if(n&2){let e=h();d("rgX",1),s(2),d("ngStyle",e.getBackgroundColor(e.alphaSliderColor)),s(),V("left",e.slider==null?null:e.slider.a,"px")}}var to=["dialog"],Sn=n=>({background:n});function io(n,i){n&1&&f(0,"div",12)}function no(n,i){if(n&1){let e=D();b(0),l(1,"div",9)(2,"div",10),_("click",function(){let o=C(e).$implicit,r=h(2);return v(r.onColorClick(o))}),u(3,io,1,0,"div",11),c()(),w()}if(n&2){let e=i.$implicit,t=i.index,o=h(2);s(2),K("colornull",!e),d("ngStyle",o.getBackgroundColor(e)),s(),d("ngIf",t==o.indexSeleccionado)}}function oo(n,i){if(n&1&&f(0,"div",18),n&2){let e=h(3);d("ngStyle",e.getBackgroundColor(e.color))}}function ro(n,i){if(n&1){let e=D();l(0,"div",13),_("click",function(){C(e);let o=h(2);return v(o.addColor())}),u(1,oo,1,1,"div",14),Ie(),l(2,"svg",15),f(3,"path",16)(4,"path",17),c()()}if(n&2){let e=h(2);s(),d("ngIf",e.indexSeleccionado===void 0)}}function ao(n,i){if(n&1){let e=D();l(0,"color-picker",19),_("colorChange",function(o){C(e);let r=h(2);return v(r.onChangeColorPicker(o))})("onAlphaChange",function(o){C(e);let r=h(2);return v(r.onAlphaChange(o))}),c()}if(n&2){let e=h(2);d("controls",e.colorPickerControls)("color",e.hsva)}}function so(n,i){if(n&1&&(b(0),l(1,"div",5),u(2,no,4,4,"ng-container",6)(3,ro,5,1,"div",7)(4,ao,1,2,"color-picker",8),c(),w()),n&2){let e=h();s(),d("@colorsAnimation",e.colorsAnimationEffect),s(),d("ngForOf",e.palette),s(),d("ngIf",!e.hideColorPicker&&e.colorPickerControls!="only-alpha"),s(),d("ngIf",!e.hideColorPicker&&e.colorPickerControls=="only-alpha")}}function lo(n,i){n&1&&f(0,"div",12)}function co(n,i){if(n&1){let e=D();b(0),l(1,"div",9)(2,"div",25),_("click",function(){let o=C(e).$implicit,r=h(2);return v(r.changeColor(o))}),u(3,lo,1,0,"div",11),c()(),w()}if(n&2){let e=i.$implicit,t=h(2);s(2),K("colornull",!e),d("ngStyle",Vt(4,Sn,e)),s(),d("ngIf",t.isSelected(e))}}function po(n,i){if(n&1){let e=D();b(0),l(1,"div",5)(2,"div",20)(3,"div",21),_("click",function(){C(e);let o=h();return v(o.onClickBack())}),Ie(),l(4,"svg",22),f(5,"path",23)(6,"path",24),c()()(),u(7,co,4,6,"ng-container",6),c(),w()}if(n&2){let e=h();s(),d("@colorsAnimation",e.colorsAnimationEffect),s(6),d("ngForOf",e.variants)}}function mo(n,i){if(n&1){let e=D();b(0),l(1,"div",26)(2,"div",27),_("click",function(){C(e);let o=h();return v(o.onClickBack())}),Ie(),l(3,"svg",22),f(4,"path",23)(5,"path",24),c()(),ri(),l(6,"button",28),_("click",function(){C(e);let o=h();return v(o.emitClose("cancel"))}),g(7),c(),l(8,"button",28),_("click",function(){C(e);let o=h();return v(o.emitClose("accept"))}),g(9),c()(),l(10,"div",29)(11,"color-picker",30),_("sliderChange",function(o){C(e);let r=h();return v(r.onChangeColorPicker(o))}),c()(),w()}if(n&2){let e=h();s(7),T(" ",e.cancelLabel," "),s(2),T(" ",e.acceptLabel," "),s(2),d("controls",e.colorPickerControls)("color",e.hsva)}}function ho(n,i){if(n&1){let e=D();l(0,"div",31)(1,"p",32),_("click",function(){C(e);let o=h();return v(o.nextFormat())}),g(2),c(),l(3,"div",33)(4,"input",34,1),_("keyup",function(){C(e);let o=$(5),r=h();return v(r.changeColorManual(o.value))})("keydown.enter",function(){C(e);let o=h();return v(o.emitClose("accept"))}),c()()()}if(n&2){let e=h();s(2),k(e.colorFormats[e.format]),s(2),V("font-size",e.color&&e.color.length>23?9:10,"px")("letter-spacing",e.color&&e.color.length>16?0:1.5,"px"),d("placeholder",e.placeholder)("value",e.color)}}var Xt=["hex","rgba","hsla","cmyk"],O=function(n){return n[n.HEX=0]="HEX",n[n.RGBA=1]="RGBA",n[n.HSLA=2]="HSLA",n[n.CMYK=3]="CMYK",n}(O||{}),wn=[{color:"rojo",preview:"#E57373",variants:["#FFEBEE","#FFCDD2","#EF9A9A","#E57373","#EF5350","#F44336","#E53935","#D32F2F","#C62828"]},{color:"rosa",preview:"#F06292",variants:["#FCE4EC","#F8BBD0","#F48FB1","#F06292","#EC407A","#E91E63","#D81B60","#C2185B","#AD1457"]},{color:"purpura",preview:"#BA68C8",variants:["#F3E5F5","#E1BEE7","#CE93D8","#BA68C8","#AB47BC","#9C27B0","#8E24AA","#7B1FA2","#6A1B9A"]},{color:"purpura oscuro",preview:"#9575CD",variants:["#EDE7F6","#D1C4E9","#B39DDB","#9575CD","#7E57C2","#673AB7","#5E35B1","#512DA8","#4527A0"]},{color:"indigo",preview:"#7986CB",variants:["#E8EAF6","#C5CAE9","#9FA8DA","#7986CB","#5C6BC0","#3F51B5","#3949AB","#303F9F","#283593"]},{color:"azul",preview:"#64B5F6",variants:["#E3F2FD","#BBDEFB","#90CAF9","#64B5F6","#42A5F5","#2196F3","#1E88E5","#1976D2","#1565C0"]},{color:"celeste",preview:"#4FC3F7",variants:["#E1F5FE","#B3E5FC","#81D4FA","#4FC3F7","#29B6F6","#03A9F4","#039BE5","#0288D1","#0277BD"]},{color:"cyan",preview:"#4DD0E1",variants:["#E0F7FA","#B2EBF2","#80DEEA","#4DD0E1","#26C6DA","#00BCD4","#00ACC1","#0097A7","#00838F"]},{color:"color",preview:"#4DB6AC",variants:["#E0F2F1","#B2DFDB","#80CBC4","#4DB6AC","#26A69A","#009688","#00897B","#00796B","#00695C"]},{color:"verde",preview:"#81C784",variants:["#E8F5E9","#C8E6C9","#A5D6A7","#81C784","#66BB6A","#4CAF50","#43A047","#388E3C","#2E7D32"]},{color:"verde claro",preview:"#AED581",variants:["#F1F8E9","#DCEDC8","#C5E1A5","#AED581","#9CCC65","#8BC34A","#7CB342","#689F38","#558B2F"]},{color:"lima",preview:"#DCE775",variants:["#F9FBE7","#F0F4C3","#E6EE9C","#DCE775","#D4E157","#CDDC39","#C0CA33","#AFB42B","#9E9D24"]},{color:"amarillo",preview:"#FFF176",variants:["#FFFDE7","#FFF9C4","#FFF59D","#FFF176","#FFEE58","#FFEB3B","#FDD835","#FBC02D","#F9A825"]},{color:"ambar",preview:"#FFD54F",variants:["#FFF8E1","#FFECB3","#FFE082","#FFD54F","#FFCA28","#FFC107","#FFB300","#FFA000","#FF8F00"]},{color:"naranja",preview:"#FFB74D",variants:["#FFF3E0","#FFE0B2","#FFCC80","#FFB74D","#FFA726","#FF9800","#FB8C00","#F57C00","#EF6C00"]},{color:"naranja oscuro",preview:"#FF8A65",variants:["#FBE9E7","#FFCCBC","#FFAB91","#FF8A65","#FF7043","#FF5722","#F4511E","#E64A19","#D84315"]},{color:"marron",preview:"#A1887F",variants:["#EFEBE9","#D7CCC8","#BCAAA4","#A1887F","#8D6E63","#795548","#6D4C41","#5D4037","#4E342E"]},{color:"escala de grises",preview:"#E0E0E0",variants:["#FFFFFF","#FAFAFA","#F5F5F5","#EEEEEE","#E0E0E0","#BDBDBD","#9E9E9E","#757575","#616161","#424242","#000000"]},{color:"azul gris",preview:"#90A4AE",variants:["#ECEFF1","#CFD8DC","#B0BEC5","#90A4AE","#78909C","#607D8B","#546E7A","#455A64","#37474F"]}],te=class{constructor(i,e,t,o){this.r=i,this.g=e,this.b=t,this.a=o}denormalize(){return this.r=Math.round(this.r*255),this.g=Math.round(this.g*255),this.b=Math.round(this.b*255),this}toString(){return this.denormalize(),"rgb"+(this.a!=1?"a(":"(")+this.r+", "+this.g+", "+this.b+(this.a!=1?", "+this.a.toPrecision(2)+")":")")}},Q=class{constructor(i,e,t,o){this.h=i,this.s=e,this.v=t,this.a=o,this.onChange=new S(!0)}onColorChange(i){this.s=i.s/i.rgX,this.v=i.v/i.rgY}onHueChange(i){this.h=i.v/i.rgX}onValueChange(i){this.v=i.v/i.rgX}onAlphaChange(i){this.a=i.v/i.rgX}},Pe=class{constructor(i,e,t,o){this.h=i,this.s=e,this.l=t,this.a=o}denormalize(){return this.h=Math.round(this.h*360),this.s=Math.round(this.s*100),this.l=Math.round(this.l*100),this}toString(){return"hsl"+(this.a!=1?"a(":"(")+this.h+", "+this.s+"%, "+this.l+"%"+(this.a!=1?", "+this.a.toPrecision(2)+")":")")}},Se=class{constructor(i,e,t,o,r=1){this.c=i,this.m=e,this.y=t,this.k=o,this.a=r}denormalize(){return this.c=Math.round(this.c*100),this.m=Math.round(this.m*100),this.y=Math.round(this.y*100),this.k=Math.round(this.k*100),this}toString(){return this.denormalize(),"cmyk("+this.c+", "+this.m+", "+this.y+", "+this.k+")"}},Wt=class{constructor(i){i&&(this.preview=i.preview,this.variants=i.variants)}},St=(()=>{class n{constructor(){}toFormat(e,t){var o="";if(e)switch(t){case O.HEX:var a=this.hsvaToRgba(e);a.denormalize();var o=this.rgbaToHex(a,!0);break;case O.HSLA:var r=this.hsva2hsla(e);r.denormalize();var o=r.toString();break;case O.RGBA:var a=this.hsvaToRgba(e),o=a.toString();break;case O.CMYK:var p=this.hsvaToCmyk(e),o=p.toString();break}return o}stringToFormat(e,t){var o=this.stringToHsva(e,!0);return this.toFormat(o,t)}hsva2hsla(e){let t=e.h,o=e.s,r=e.v,a=e.a;if(r===0)return new Pe(t,0,0,a);if(o===0&&r===1)return new Pe(t,1,1,a);{let p=r*(2-o)/2;return new Pe(t,r*o/(1-Math.abs(2*p-1)),p,a)}}hsla2hsva(e){let t=Math.min(e.h,1),o=Math.min(e.s,1),r=Math.min(e.l,1),a=Math.min(e.a,1);if(r===0)return new Q(t,0,0,a);{let p=r+o*(1-Math.abs(2*r-1))/2;return new Q(t,2*(p-r)/p,p,a)}}hsvaToRgba(e){let t,o,r,a=e.h,p=e.s,x=e.v,y=e.a,X=Math.floor(a*6),R=a*6-X,N=x*(1-p),Xe=x*(1-R*p),De=x*(1-(1-R)*p);switch(X%6){case 0:t=x,o=De,r=N;break;case 1:t=Xe,o=x,r=N;break;case 2:t=N,o=x,r=De;break;case 3:t=N,o=Xe,r=x;break;case 4:t=De,o=N,r=x;break;case 5:t=x,o=N,r=Xe;break;default:t=0,o=0,r=0}return new te(t,o,r,y)}cmykToRgb(e){let t=(1-e.c)*(1-e.k),o=(1-e.m)*(1-e.k),r=(1-e.y)*(1-e.k);return new te(t,o,r,e.a)}rgbaToCmyk(e){let t=1-Math.max(e.r,e.g,e.b);if(t===1)return new Se(0,0,0,1,e.a);{let o=(1-e.r-t)/(1-t),r=(1-e.g-t)/(1-t),a=(1-e.b-t)/(1-t);return new Se(o,r,a,t,e.a)}}hsvaToCmyk(e){let t=this.hsvaToRgba(e);return this.rgbaToCmyk(t)}rgbaToHsva(e){let t,o,r=Math.min(e.r,1),a=Math.min(e.g,1),p=Math.min(e.b,1),x=Math.min(e.a,1),y=Math.max(r,a,p),X=Math.min(r,a,p),R=y,N=y-X;if(o=y===0?0:N/y,y===X)t=0;else{switch(y){case r:t=(a-p)/N+(a<p?6:0);break;case a:t=(p-r)/N+2;break;case p:t=(r-a)/N+4;break;default:t=0}t/=6}return new Q(t,o,R,x)}rgbaToHex(e,t){let o="#"+(16777216|e.r<<16|e.g<<8|e.b).toString(16).substr(1);return e.a!=1&&(o+=(256|Math.round(e.a*255)).toString(16).substr(1)),o}normalizeCMYK(e){return new Se(e.c/100,e.m/100,e.y/100,e.k/100,e.a)}denormalizeCMYK(e){return new Se(Math.floor(e.c*100),Math.floor(e.m*100),Math.floor(e.y*100),Math.floor(e.k*100),e.a)}denormalizeRGBA(e){return new te(Math.round(e.r*255),Math.round(e.g*255),Math.round(e.b*255),e.a)}stringToHsva(e="",t=!0){let o=null;e=(e||"").toLowerCase();let r=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return new te(parseInt(a[2],10)/255,parseInt(a[3],10)/255,parseInt(a[4],10)/255,isNaN(parseFloat(a[5]))?1:parseFloat(a[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return new Pe(parseInt(a[2],10)/360,parseInt(a[3],10)/100,parseInt(a[4],10)/100,isNaN(parseFloat(a[5]))?1:parseFloat(a[5]))}},{re:/cmyk?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return new Se(parseInt(a[1],10)/100,parseInt(a[2],10)/100,parseInt(a[3],10)/100,parseInt(a[4],10)/100)}}];t?r.push({re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(a){return new te(parseInt(a[1],16)/255,parseInt(a[2],16)/255,parseInt(a[3],16)/255,parseInt(a[4]||"FF",16)/255)}}):r.push({re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(a){return new te(parseInt(a[1],16)/255,parseInt(a[2],16)/255,parseInt(a[3],16)/255,1)}}),r.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(a){return new te(parseInt(a[1]+a[1],16)/255,parseInt(a[2]+a[2],16)/255,parseInt(a[3]+a[3],16)/255,1)}});for(let a in r)if(r.hasOwnProperty(a)){let p=r[a],x=p.re.exec(e),y=x&&p.parse(x);if(y){if(y instanceof te)o=this.rgbaToHsva(y);else if(y instanceof Pe)o=this.hsla2hsva(y);else if(y instanceof Se){let X=this.cmykToRgb(y);o=this.rgbaToHsva(X)}return o}}return o}outputFormat(e){return this.hsvaToRgba(e).toString()}getFormatByString(e){if(e){e=e.toLowerCase();let t=/(#([\da-f]{3}(?:[\da-f]{3})?(?:[\da-f]{2})?))/,o=/(rgba\((\d{1,3},\s?){3}(1|0?\.\d+)\)|rgb\(\d{1,3}(,\s?\d{1,3}){2}\))/,r=/(hsla\((\d{1,3}%?,\s?){3}(1|0?\.\d+)\)|hsl\(\d{1,3}%?(,\s?\d{1,3}%?){2}\))/,a=/(cmyk\(\d{1,3}(,\s?\d{1,3}){3}\))/;if(t.test(e))return"hex";if(o.test(e))return"rgba";if(r.test(e))return"hsla";if(a.test(e))return"cmyk"}return"hex"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=me({token:n,factory:n.\u0275fac}),n})(),wt=class{constructor(i,e,t,o){this.h=i,this.s=e,this.v=t,this.a=o}},Ut=class{constructor(i,e,t,o){this.h=i,this.s=e,this.v=t,this.a=o}},go=(()=>{class n{mouseDown(e){this.start(e)}touchStart(e){this.start(e)}constructor(e){this.elRef=e,this.dragEnd=new S,this.dragStart=new S,this.newValue=new S,this.listenerMove=t=>this.move(t),this.listenerStop=()=>this.stop()}move(e){e.preventDefault(),this.setCursor(e)}start(e){this.setCursor(e),e.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()}stop(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()}getX(e){let t=this.elRef.nativeElement.getBoundingClientRect();return(e.pageX!==void 0?e.pageX:e.touches[0].pageX)-t.left-window.pageXOffset}getY(e){let t=this.elRef.nativeElement.getBoundingClientRect();return(e.pageY!==void 0?e.pageY:e.touches[0].pageY)-t.top-window.pageYOffset}setCursor(e){let t=this.elRef.nativeElement.offsetWidth,o=this.elRef.nativeElement.offsetHeight,r=Math.max(0,Math.min(this.getX(e),t)),a=Math.max(0,Math.min(this.getY(e),o));this.rgX!==void 0&&this.rgY!==void 0?this.newValue.emit({s:r/t,v:1-a/o,rgX:this.rgX,rgY:this.rgY}):this.rgX===void 0&&this.rgY!==void 0?this.newValue.emit({v:a/o,rgY:this.rgY}):this.rgX!==void 0&&this.rgY===void 0&&this.newValue.emit({v:r/t,rgX:this.rgX})}}return n.\u0275fac=function(e){return new(e||n)(m(fe))},n.\u0275dir=F({type:n,selectors:[["","slider",""]],hostBindings:function(e,t){e&1&&_("mousedown",function(r){return t.mouseDown(r)})("touchstart",function(r){return t.touchStart(r)})},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}}),n})(),uo=(()=>{class n{constructor(e,t){this.service=e,this.cdr=t,this.color=new Q(0,1,1,1),this.controls="default",this.sliderChange=new S(!1),this.onAlphaChange=new S(!1),this.hsva=new Q(0,1,1,1),this.selectedColor="#000000",this.fallbackColor="#000000"}ngOnInit(){this.color||(this.color=new Q(0,1,1,1)),this.slider=new wt(0,0,0,0),this.update()}ngOnDestroy(){}ngOnChanges(e){e.color&&this.color&&this.update()}ngAfterViewInit(){let e=this.hueSlider?.nativeElement.offsetWidth||140,t=this.alphaSlider?.nativeElement.offsetWidth||140;this.sliderDimMax=new Ut(e,220,130,t),this.update()}onSliderChange(e,t){switch(e){case"saturation-lightness":this.hsva.onColorChange(t);break;case"hue":this.hsva.onHueChange(t);break;case"alpha":this.hsva.onAlphaChange(t),this.onAlphaChange.emit(t);break;case"value":this.hsva.onValueChange(t);break}this.update(),this.setColor(this.outputColor)}setColor(e){this.color=e,this.sliderChange.emit(this.color)}getBackgroundColor(e){return{background:"linear-gradient(90deg, rgba(36,0,0,0) 0%, "+e+" 100%)"}}update(){if(this.hsva=this.color,this.sliderDimMax){let e=this.service.hsvaToRgba(this.hsva).denormalize(),t=this.service.hsvaToRgba(new Q(this.hsva.h,1,1,1)).denormalize();this.hueSliderColor="rgb("+t.r+","+t.g+","+t.b+")",this.alphaSliderColor="rgb("+e.r+","+e.g+","+e.b+")",this.outputColor=this.hsva,this.selectedColor=this.service.hsvaToRgba(this.hsva).toString(),this.slider=new wt(this.hsva.h*this.sliderDimMax.h-5,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-5),this.cdr.detectChanges()}}}return n.\u0275fac=function(e){return new(e||n)(m(St),m(Z))},n.\u0275cmp=A({type:n,selectors:[["color-picker"]],viewQuery:function(e,t){if(e&1&&(q(Qn,5),q(Kn,5)),e&2){let o;H(o=L())&&(t.hueSlider=o.first),H(o=L())&&(t.alphaSlider=o.first)}},inputs:{color:"color",controls:"controls"},outputs:{sliderChange:"sliderChange",onAlphaChange:"onAlphaChange"},features:[ue],decls:8,vars:4,consts:[["dialogPopup",""],["hueSlider",""],["alphaSlider",""],[1,"color-picker",3,"click"],["class","saturation-lightness",3,"slider","rgX","rgY","background-color","newValue",4,"ngIf"],[1,"hue-alpha","box"],["class","left",4,"ngIf"],[1,"right"],["class","hue",3,"slider","rgX","newValue",4,"ngIf"],["class","alpha",3,"slider","rgX","newValue",4,"ngIf"],[1,"saturation-lightness",3,"newValue","slider","rgX","rgY"],[1,"cursor"],[1,"left"],[1,"selected-color-background"],[1,"selected-color"],[1,"hue",3,"newValue","slider","rgX"],[1,"sliderCursor"],[1,"alpha",3,"newValue","slider","rgX"],[1,"alpha-gradient",3,"ngStyle"]],template:function(e,t){if(e&1){let o=D();l(0,"div",3,0),_("click",function(a){return C(o),v(a.stopPropagation())}),u(2,qn,3,8,"div",4),l(3,"div",5),u(4,Zn,3,2,"div",6),l(5,"div",7),u(6,Jn,5,3,"div",8)(7,eo,6,4,"div",9),c()()()}e&2&&(s(2),d("ngIf",t.controls!="only-alpha"),s(2),d("ngIf",t.controls!="only-alpha"),s(2),d("ngIf",t.controls!="only-alpha"),s(),d("ngIf",t.controls!="no-alpha"))},dependencies:[oe,nt,go],styles:[`.color-picker{position:relative;z-index:1000;width:220px;height:auto;cursor:default;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;touch-action:none}.color-picker *{box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:invalid,.color-picker input:-moz-ui-invalid,.color-picker input:-moz-submit-invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .sliderCursor{width:10px;border-radius:5px;position:absolute;margin-top:-3px;border:1px solid black}.color-picker .sliderCursor>div{border:2px solid white;border-radius:5px}.color-picker .sliderCursor>div>div{border-radius:5px;border:1px solid black;height:24px}.color-picker .cursor{position:absolute;width:21px;border:3px solid black;border-radius:100%;margin:-2px 0 0 -2px}.color-picker .cursor>div{height:15px;border:3px solid white;border-radius:100%}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{flex:1 1 auto;display:flex;flex-direction:column;gap:10px;padding:12px 8px}.color-picker .hue-alpha{display:flex;align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:24px;border:none;border-radius:5px;position:relative;cursor:pointer;background-size:100% 100%;background:linear-gradient(to right,red 0%,#ff0 17%,lime 33%,cyan 50%,blue 66%,#f0f 83%,red 100%)}.color-picker .alpha{direction:ltr;position:relative;width:100%;height:24px;border:none;border-radius:5px;cursor:pointer;background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}.color-picker .alpha-gradient{width:100%;height:100%;border-radius:5px;position:absolute}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;box-shadow:0 1px 1px 1px #00000026;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}.color-picker .saturation-lightness{direction:ltr;cursor:crosshair;width:100%;position:relative;height:130px;border:none;touch-action:manipulation;background-image:linear-gradient(to top,#000 0%,transparent 100%),linear-gradient(to right,#fff 0%,transparent 100%)}
`],encapsulation:2}),n})(),fo=(()=>{class n{click(e){this.isOutside(e)&&this.emitClose("cancel")}onScroll(){this.onScreenMovement()}onResize(){this.onScreenMovement()}constructor(e,t){this.service=e,this.cdr=t,this.color="#000000",this.previewColor="#000000",this.hsva=new Q(0,1,1,1),this.colorsAnimationEffect="slide-in",this.palette=wn,this.variants=[],this.userFormats=[],this.colorFormats=Xt,this.format=O.HEX,this.formatMap={hex:O.HEX,rgba:O.RGBA,hsla:O.HSLA,cmyk:O.CMYK},this.canChangeFormat=!0,this.menu=1,this.hideColorPicker=!1,this.hideTextInput=!1,this.colorPickerControls="default",this.placeholder="#FFFFFF"}ngOnInit(){this.setPosition(),this.hsva=this.service.stringToHsva(this.color),this.indexSeleccionado=this.findIndexSelectedColor(this.palette)}ngAfterViewInit(){this.setPositionY()}onScreenMovement(){this.setPosition(),this.setPositionY(),this.panelRef.nativeElement.style.transition||(this.panelRef.nativeElement.style.transition="transform 0.5s ease-out")}findIndexSelectedColor(e){let t;if(this.color)for(let o=0;o<e.length;o++){let r=e[o];typeof r=="string"?this.service.stringToFormat(this.color,O.HEX)==this.service.stringToFormat(r,O.HEX)&&(t=o):r===void 0?this.color=void 0:this.findIndexSelectedColor(r.variants)!=null&&(t=o)}return t}iniciate(e,t,o,r,a,p,x,y,X,R,N,Xe,De=[]){if(this.colorPickerControls=N,this.triggerInstance=e,this.TriggerBBox=t,this.color=o,this.hideColorPicker=y,this.hideTextInput=x,this.acceptLabel=X,this.cancelLabel=R,De.length&&De.every($n=>Xt.includes($n))&&(this.colorFormats=De),p?this.colorFormats.includes(p)?(this.format=this.colorFormats.indexOf(p.toLowerCase()),this.canChangeFormat=!1,this.service.getFormatByString(this.color)!=p.toLowerCase()&&this.setColor(this.service.stringToHsva(this.color))):(console.error("Format provided is invalid, using HEX"),this.format=O.HEX):(this.format=this.colorFormats.indexOf(this.service.getFormatByString(this.color)),this.format<0&&(this.format=0)),this.previewColor=this.color,this.palette=r??wn,this.colorsAnimationEffect=a,Xe=="top"){let Jt=this.TriggerBBox.nativeElement.getBoundingClientRect();this.positionString="transform: translateY(calc( -100% - "+Jt.height+"px ))"}}setPosition(){if(this.TriggerBBox){let t=this.TriggerBBox.nativeElement.getBoundingClientRect();this.top=t.top+t.height,t.left+250>window.innerWidth?this.left=t.right<250?window.innerWidth/2-250/2:t.right-250:this.left=t.left}}setPositionY(){let e=this.TriggerBBox.nativeElement.getBoundingClientRect(),t=this.panelRef.nativeElement.getBoundingClientRect(),o=t.height;e.bottom+o>window.innerHeight?this.positionString=e.top<t.height?"transform: translateY(-"+e.bottom+"px );":"transform: translateY(calc( -100% - "+e.height+"px ));":this.positionString="",this.cdr.detectChanges()}hasVariant(e){return this.previewColor?typeof e!="string"&&e.variants.some(t=>t.toUpperCase()==this.previewColor.toUpperCase()):!1}isSelected(e){return this.previewColor?typeof e=="string"&&e.toUpperCase()==this.previewColor.toUpperCase():!1}getBackgroundColor(e){return typeof e=="string"?{background:e}:{background:e?.preview}}onAlphaChange(e){this.palette=this.ChangeAlphaOnPalette(e,this.palette)}ChangeAlphaOnPalette(e,t){var o=[];for(let r=0;r<t.length;r++){let a=t[r];if(typeof a=="string"){let p=this.service.stringToHsva(a);p.onAlphaChange(e),o.push(this.service.toFormat(p,this.format))}else{let p=new Wt,x=this.service.stringToHsva(a.preview);x.onAlphaChange(e),p.preview=this.service.toFormat(x,this.format),p.variants=this.ChangeAlphaOnPalette(e,a.variants),o.push(p)}}return o}changeColor(e){this.setColor(this.service.stringToHsva(e)),this.emitClose("accept")}onChangeColorPicker(e){this.temporalColor=e,this.color=this.service.toFormat(e,this.format),this.triggerInstance.sliderChange(this.service.toFormat(e,this.format))}changeColorManual(e){this.previewColor=e,this.color=e,this.hsva=this.service.stringToHsva(e),this.setPreviewColor(this.hsva),this.temporalColor=this.hsva,this.triggerInstance.setColor(this.color,this.previewColor)}setColor(e,t=-1){this.hsva=e;let o=this.colorFormats[this.format],r=t;r<0&&(r=this.formatMap[o]),this.color=this.service.toFormat(e,r),this.setPreviewColor(e),this.triggerInstance.setColor(this.color,this.previewColor)}setPreviewColor(e){this.previewColor=e?this.service.hsvaToRgba(e).toString():void 0}onChange(){}onColorClick(e){typeof e=="string"||e===void 0?this.changeColor(e):(this.variants=e.variants,this.menu=2)}addColor(){this.menu=3,this.backupColor=this.color,this.temporalColor=this.service.stringToHsva(this.color)}nextFormat(){if(this.canChangeFormat){this.format=(this.format+1)%this.colorFormats.length;let e=this.colorFormats[this.format],t=this.formatMap[e];this.setColor(this.hsva,t),this.placeholder=this.service.toFormat(new Q(0,0,1,1),t)}}emitClose(e){this.menu==3&&(e=="cancel"||e=="accept"&&this.setColor(this.temporalColor)),this.triggerInstance.closePanel()}onClickBack(){this.menu==3&&(this.color=this.backupColor,this.hsva=this.service.stringToHsva(this.color)),this.indexSeleccionado=this.findIndexSelectedColor(this.palette),this.menu=1}isOutside(e){return e.target.classList.contains("ngx-colors-overlay")}}return n.\u0275fac=function(e){return new(e||n)(m(St),m(Z))},n.\u0275cmp=A({type:n,selectors:[["ngx-colors-panel"]],viewQuery:function(e,t){if(e&1&&q(to,5),e&2){let o;H(o=L())&&(t.panelRef=o.first)}},hostVars:4,hostBindings:function(e,t){e&1&&_("mousedown",function(r){return t.click(r)},!1,Ot)("scroll",function(){return t.onScroll()},!1,Ot)("resize",function(){return t.onResize()},!1,di),e&2&&V("top",t.top,"px")("left",t.left,"px")},decls:6,vars:6,consts:[["dialog",""],["paintInput",""],[1,"opened"],[4,"ngIf"],["class","manual-input-wrapper",4,"ngIf"],[1,"colors"],[4,"ngFor","ngForOf"],["style","background: rgb(245 245 245); position: relative","class","circle button",3,"click",4,"ngIf"],[3,"controls","color","colorChange","onAlphaChange",4,"ngIf"],[1,"circle","wrapper","color"],[1,"circle","color","circle-border",3,"click","ngStyle"],["class","selected",4,"ngIf"],[1,"selected"],[1,"circle","button",2,"background","rgb(245 245 245)","position","relative",3,"click"],["style",`
            position: absolute;
            height: 7px;
            width: 7px;
            border: 1px solid rgba(0, 0, 0, 0.03);
            border-radius: 100%;
            top: 0;
            right: 0;
          `,3,"ngStyle",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#222222"],["d","M24 24H0V0h24v24z","fill","none","opacity",".87"],["d","M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"],[2,"position","absolute","height","7px","width","7px","border","1px solid rgba(0, 0, 0, 0.03)","border-radius","100%","top","0","right","0",3,"ngStyle"],[3,"colorChange","onAlphaChange","controls","color"],[1,"circle","wrapper"],[1,"add",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["d","M0 0h24v24H0z","fill","none"],["d","M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"],[1,"circle","circle-border",3,"click","ngStyle"],[1,"nav-wrapper"],[1,"round-button","button",2,"float","left",3,"click"],[2,"float","right",3,"click"],[1,"color-picker-wrapper"],[3,"sliderChange","controls","color"],[1,"manual-input-wrapper"],[2,"cursor","pointer",3,"click"],[1,"g-input"],["type","text",3,"keyup","keydown.enter","placeholder","value"]],template:function(e,t){e&1&&(l(0,"div",2,0),u(2,so,5,4,"ng-container",3)(3,po,8,2,"ng-container",3)(4,mo,12,4,"ng-container",3)(5,ho,6,7,"div",4),c()),e&2&&(gi(t.positionString),s(2),d("ngIf",t.menu==1),s(),d("ngIf",t.menu==2),s(),d("ngIf",t.menu==3),s(),d("ngIf",!t.hideTextInput))},dependencies:[ee,oe,nt,uo],styles:["[_nghost-%COMP%]{position:fixed;z-index:2001}.hidden[_ngcontent-%COMP%]{display:none}.button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.top[_ngcontent-%COMP%]{transform:translateY(-100%)}.opened[_ngcontent-%COMP%]{box-sizing:border-box;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;background:#fff;width:250px;border-radius:5px;position:absolute}.opened[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-family:inherit;font-size:12px;background-color:unset;-webkit-user-select:none;user-select:none;padding:10px;letter-spacing:1px;color:#222;border-radius:3px;line-height:20px}.opened[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .opened[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{background-color:#0000000d;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1);transition-property:opacity,background-color;transition-duration:.2s,.2s;transition-timing-function:cubic-bezier(.35,0,.25,1),cubic-bezier(.35,0,.25,1);transition-delay:0s,0s}.opened[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:none}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;margin:15px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{height:34px;width:34px;box-sizing:border-box;border-radius:100%;cursor:pointer}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{font-size:20px;line-height:45px;text-align:center}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{border:2px solid white;border-radius:100%;height:28px;width:28px;box-sizing:border-box;margin:2px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.colornull[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(236,236,236,.7) 0%,rgba(236,236,236,.7) 45%,#de0f00 50%,rgba(236,236,236,.7) 55%,rgba(236,236,236,.7) 100%)}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.wrapper[_ngcontent-%COMP%]{margin:0 5px 5px;flex:34px 0 0}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.button[_ngcontent-%COMP%]{margin:0 5px 5px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.wrapper.color[_ngcontent-%COMP%]{background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.03)}.opened[_ngcontent-%COMP%]   .color-picker-wrapper[_ngcontent-%COMP%]{margin:5px 15px}.opened[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{overflow:hidden;margin:5px}.opened[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   .round-button[_ngcontent-%COMP%]{padding:5px 0;width:40px;height:40px;box-sizing:border-box;border-radius:100%;text-align:center;line-height:45px}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]{display:flex;margin:15px;font-family:sans-serif}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-align:center;font-size:10px;letter-spacing:1.5px;text-transform:uppercase;line-height:48px;width:145px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]   .g-input[_ngcontent-%COMP%]{border:1px solid #e8ebed;height:45px;border-radius:5px;width:100%}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]   .g-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:9px;border:none;width:100%;text-transform:uppercase;outline:none;text-align:center;letter-spacing:1px;color:#595b65;height:100%;border-radius:5px;margin:0;padding:0}"],data:{animation:[Ue("colorsAnimation",[Ne("void => slide-in",[Qe(":enter",I({opacity:0}),{optional:!0}),Qe(":enter",jt("10ms",[Re(".3s ease-in",Lt([I({opacity:0,transform:"translatex(-50%)",offset:0}),I({opacity:.5,transform:"translatex(-10px) scale(1.1)",offset:.3}),I({opacity:1,transform:"translatex(0)",offset:1})]))]),{optional:!0})]),Ne("void => popup",[Qe(":enter",I({opacity:0,transform:"scale(0)"}),{optional:!0}),Qe(":enter",jt("10ms",[Re("500ms ease-out",Lt([I({opacity:.5,transform:"scale(.5)",offset:.3}),I({opacity:1,transform:"scale(1.1)",offset:.8}),I({opacity:1,transform:"scale(1)",offset:1})]))]),{optional:!0})])])]}}),n})(),yn={position:"fixed",height:"100%",width:"100%","z-index":2e3,top:0,left:0},Dn=(()=>{class n{constructor(e,t,o){this.resolver=e,this.applicationRef=t,this.injector=o}createPanel(e,t){this.componentRef!=null&&this.removePanel();let o=this.resolver.resolveComponentFactory(fo);this.componentRef=o.create(this.injector),this.applicationRef.attachView(this.componentRef.hostView);let r=this.componentRef.hostView.rootNodes[0];return this.overlay=document.createElement("div"),this.overlay.id="ngx-colors-overlay",this.overlay.classList.add("ngx-colors-overlay"),this.overlay.classList.add(t),Object.keys(yn).forEach(a=>{this.overlay.style[a]=yn[a]}),e?document.getElementById(e).appendChild(this.overlay):document.body.appendChild(this.overlay),this.overlay.appendChild(r),this.componentRef}removePanel(){this.applicationRef.detachView(this.componentRef.hostView),this.componentRef.destroy(),this.overlay.remove()}}return n.\u0275fac=function(e){return new(e||n)(ge(mi),ge(fi),ge(li))},n.\u0275prov=me({token:n,factory:n.\u0275fac}),n})(),$t=(()=>{class n{onClick(){this.openPanel()}constructor(e,t,o){this.triggerRef=e,this.panelFactory=t,this.service=o,this.color="",this.colorsAnimation="slide-in",this.position="bottom",this.attachTo=void 0,this.overlayClassName=void 0,this.colorPickerControls="default",this.acceptLabel="ACCEPT",this.cancelLabel="CANCEL",this.change=new S,this.input=new S,this.slider=new S,this.close=new S,this.open=new S,this.isDisabled=!1,this.onTouchedCallback=()=>{},this.onChangeCallback=()=>{}}ngOnDestroy(){this.panelRef&&this.panelFactory.removePanel()}openPanel(){this.isDisabled||(this.panelRef=this.panelFactory.createPanel(this.attachTo,this.overlayClassName),this.panelRef.instance.iniciate(this,this.triggerRef,this.color,this.palette,this.colorsAnimation,this.format,this.hideTextInput,this.hideColorPicker,this.acceptLabel,this.cancelLabel,this.colorPickerControls,this.position,this.formats)),this.open.emit(this.color)}closePanel(){this.panelFactory.removePanel(),this.onTouchedCallback(),this.close.emit(this.color)}setDisabledState(e){this.isDisabled=e,this.triggerRef.nativeElement.style.opacity=e?.5:1}setColor(e,t=""){this.writeValue(e,t),this.onChangeCallback(e),this.input.emit(e)}sliderChange(e){this.slider.emit(e)}get value(){return this.color}set value(e){this.setColor(e),this.onChangeCallback(e)}writeValue(e,t=""){if(e!==this.color){if(this.format){let r=Xt.indexOf(this.format.toLowerCase());e=this.service.stringToFormat(e,r)}this.color=e;let o=!1;e&&e.startsWith("cmyk")&&(o=!0,t||(t=this.service.stringToFormat(e,O.RGBA))),this.change.emit(o?t:e)}}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}}return n.\u0275fac=function(e){return new(e||n)(m(fe),m(Dn),m(St))},n.\u0275dir=F({type:n,selectors:[["","ngx-colors-trigger",""]],hostBindings:function(e,t){e&1&&_("click",function(){return t.onClick()})},inputs:{colorsAnimation:"colorsAnimation",palette:"palette",format:"format",formats:"formats",position:"position",hideTextInput:"hideTextInput",hideColorPicker:"hideColorPicker",attachTo:"attachTo",overlayClassName:"overlayClassName",colorPickerControls:"colorPickerControls",acceptLabel:"acceptLabel",cancelLabel:"cancelLabel"},outputs:{change:"change",input:"input",slider:"slider",close:"close",open:"open"},features:[j([{provide:Fi,useExisting:ni(()=>n),multi:!0}])]}),n})(),En=(()=>{class n{constructor(e,t){this.cdRef=e,this.triggerDirective=t,this.triggerDirectiveColorChangeSubscription=null,this.color=this.triggerDirective.color}ngOnInit(){this.triggerDirectiveColorChangeSubscription=this.triggerDirective.change.subscribe(e=>{this.color=e,this.cdRef.markForCheck()})}ngOnDestroy(){this.triggerDirectiveColorChangeSubscription&&this.triggerDirectiveColorChangeSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(m(Z),m($t,1))},n.\u0275cmp=A({type:n,selectors:[["ngx-colors"]],decls:4,vars:5,consts:[[1,"app-color-picker"],[1,"preview"],[1,"preview-background"],[1,"circle",3,"ngStyle"]],template:function(e,t){e&1&&(l(0,"div",0)(1,"div",1)(2,"div",2),f(3,"div",3),c()()()),e&2&&(s(3),K("colornull",!t.color),d("ngStyle",Vt(3,Sn,t.color)))},dependencies:[nt],styles:["[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]{line-height:1px;font-family:sans-serif}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{margin:2px;display:inline-block;box-sizing:border-box;border-radius:100%;background:white;cursor:pointer;padding:3px;box-shadow:0 1px 1px #0003,0 1px 1px 1px #00000024,0 1px 1px 1px #0000001f}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .preview-background[_ngcontent-%COMP%]{background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px;border-radius:100%}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{height:20px;width:20px;box-sizing:border-box;border-radius:100%;cursor:pointer}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .circle.colornull[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(236,236,236,.7) 0%,rgba(236,236,236,.7) 45%,#de0f00 50%,rgba(236,236,236,.7) 55%,rgba(236,236,236,.7) 100%)}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .noselected[_ngcontent-%COMP%]{background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}"]}),n})(),An=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=U({type:n}),n.\u0275inj=W({providers:[St,Dn],imports:[ot]}),n})();var Mn=(()=>{let i=class i{get lineClamp(){return this.maxEllipsisLines}onMouseEnter(){this.isTextOverflowing?this.tooltip.show():this.tooltip.hide()}onMouseLeave(){this.tooltip.hide()}constructor(t,o){this.tooltip=t,this.elementRef=o,this.maxEllipsisLines=2,this.display="-webkit-box",this.overflow="hidden",this.boxOrient="vertical",this.textOverflow="ellipsis",this.whiteSpace="normal",this.wordBreak="break-all"}ngAfterViewInit(){setTimeout(()=>{this.tooltip.message=this.elementRef.nativeElement.textContent.trim(),this.tooltip.position="above"},0)}get isTextOverflowing(){let t=parseInt(window.getComputedStyle(this.elementRef.nativeElement).lineHeight),o=this.maxEllipsisLines*t;return this.elementRef.nativeElement.scrollHeight>o}};i.\u0275fac=function(o){return new(o||i)(m(gt),m(fe))},i.\u0275dir=F({type:i,selectors:[["","msUseEllipsis",""]],hostVars:14,hostBindings:function(o,r){o&1&&_("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()}),o&2&&V("display",r.display)("overflow",r.overflow)("-webkit-box-orient",r.boxOrient)("-webkit-line-clamp",r.lineClamp)("text-overflow",r.textOverflow)("white-space",r.whiteSpace)("word-break",r.wordBreak)},inputs:{maxEllipsisLines:"maxEllipsisLines"},standalone:!0,features:[j([gt])]});let n=i;return n})();var xo=0,Qt=new he("CdkAccordion"),Tn=(()=>{let i=class i{constructor(){this._stateChanges=new Ae,this._openCloseAllActions=new Ae,this.id=`cdk-accordion-${xo++}`,this.multi=!1}openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}};i.\u0275fac=function(o){return new(o||i)},i.\u0275dir=F({type:i,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",J]},exportAs:["cdkAccordion"],standalone:!0,features:[j([{provide:Qt,useExisting:i}]),ie,ue]});let n=i;return n})(),bo=0,Pn=(()=>{let i=class i{get expanded(){return this._expanded}set expanded(t){if(this._expanded!==t){if(this._expanded=t,this.expandedChange.emit(t),t){this.opened.emit();let o=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,o)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}constructor(t,o,r){this.accordion=t,this._changeDetectorRef=o,this._expansionDispatcher=r,this._openCloseAllSubscription=Ze.EMPTY,this.closed=new S,this.opened=new S,this.destroyed=new S,this.expandedChange=new S,this.id=`cdk-accordion-child-${bo++}`,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((a,p)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===p&&this.id!==a&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}};i.\u0275fac=function(o){return new(o||i)(m(Qt,12),m(Z),m(ht))},i.\u0275dir=F({type:i,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",J],disabled:[2,"disabled","disabled",J]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[j([{provide:Qt,useValue:void 0}]),ie]});let n=i;return n})(),Fn=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=U({type:i}),i.\u0275inj=W({});let n=i;return n})();var So=["body"],Do=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Eo=["mat-expansion-panel-header","*","mat-action-row"];function Ao(n,i){}var Mo=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],To=["mat-panel-title","mat-panel-description","*"];function Po(n,i){if(n&1&&(l(0,"span",1),Ie(),l(1,"svg",2),f(2,"path",3),c()()),n&2){let e=h();d("@indicatorRotate",e._getExpandedState())}}var Kt=new he("MAT_ACCORDION"),kn="225ms cubic-bezier(0.4,0.0,0.2,1)",On={indicatorRotate:Ue("indicatorRotate",[$e("collapsed, void",I({transform:"rotate(0deg)"})),$e("expanded",I({transform:"rotate(180deg)"})),Ne("expanded <=> collapsed, void => collapsed",Re(kn))]),bodyExpansion:Ue("bodyExpansion",[$e("collapsed, void",I({height:"0px",visibility:"hidden"})),$e("expanded",I({height:"*",visibility:""})),Ne("expanded <=> collapsed, void => collapsed",Re(kn))])},Rn=new he("MAT_EXPANSION_PANEL"),Fo=(()=>{let i=class i{constructor(t,o){this._template=t,this._expansionPanel=o}};i.\u0275fac=function(o){return new(o||i)(m(pi),m(Rn,8))},i.\u0275dir=F({type:i,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0});let n=i;return n})(),ko=0,Nn=new he("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),re=(()=>{let i=class i extends Pn{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=t}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,o,r,a,p,x,y){super(t,o,r),this._viewContainerRef=a,this._animationMode=x,this._hideToggle=!1,this.afterExpand=new S,this.afterCollapse=new S,this._inputChanges=new Ae,this._headerId=`mat-expansion-panel-header-${ko++}`,this.accordion=t,this._document=p,this._animationsDisabled=x==="NoopAnimations",y&&(this.hideToggle=y.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(kt(null),Me(()=>this.expanded&&!this._portal),pe(1)).subscribe(()=>{this._portal=new Yi(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){let t=this._document.activeElement,o=this._body.nativeElement;return t===o||o.contains(t)}return!1}_animationStarted(t){!In(t)&&!this._animationsDisabled&&this._body&&this._body?.nativeElement.setAttribute("inert","")}_animationDone(t){In(t)||(t.toState==="expanded"?this.afterExpand.emit():t.toState==="collapsed"&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}};i.\u0275fac=function(o){return new(o||i)(m(Kt,12),m(Z),m(ht),m(hi),m(Ci),m(It,8),m(Nn,8))},i.\u0275cmp=A({type:i,selectors:[["mat-expansion-panel"]],contentQueries:function(o,r,a){if(o&1&&Bt(a,Fo,5),o&2){let p;H(p=L())&&(r._lazyContent=p.first)}},viewQuery:function(o,r){if(o&1&&q(So,5),o&2){let a;H(a=L())&&(r._body=a.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(o,r){o&2&&K("mat-expanded",r.expanded)("_mat-animation-noopable",r._animationsDisabled)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",J],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[j([{provide:Kt,useValue:void 0},{provide:Rn,useExisting:i}]),ie,Rt,ue,it],ngContentSelectors:Eo,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(o,r){if(o&1){let a=D();tt(Do),_e(0),l(1,"div",1,0),_("@bodyExpansion.start",function(x){return C(a),v(r._animationStarted(x))})("@bodyExpansion.done",function(x){return C(a),v(r._animationDone(x))}),l(3,"div",2),_e(4,1),u(5,Ao,0,0,"ng-template",3),c(),_e(6,2),c()}o&2&&(s(),d("@bodyExpansion",r._getExpandedState())("id",r.id),et("aria-labelledby",r._headerId),s(4),d("cdkPortalOutlet",r._portal))},dependencies:[Xi],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[On.bodyExpansion]},changeDetection:0});let n=i;return n})();function In(n){return n.fromState==="void"}var Fe=(()=>{let i=class i{constructor(t,o,r,a,p,x,y){this.panel=t,this._element=o,this._focusMonitor=r,this._changeDetectorRef=a,this._animationMode=x,this._parentChangeSubscription=Ze.EMPTY,this.tabIndex=0;let X=t.accordion?t.accordion._stateChanges.pipe(Me(R=>!!(R.hideToggle||R.togglePosition))):ti;this.tabIndex=parseInt(y||"")||0,this._parentChangeSubscription=Pt(t.opened,t.closed,X,t._inputChanges.pipe(Me(R=>!!(R.hideToggle||R.disabled||R.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(Me(()=>t._containsFocus())).subscribe(()=>r.focusVia(o,"program")),p&&(this.expandedHeight=p.expandedHeight,this.collapsedHeight=p.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:Di(t)||(t.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t);return}}focus(t,o){t?this._focusMonitor.focusVia(this._element,t,o):this._element.nativeElement.focus(o)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}};i.\u0275fac=function(o){return new(o||i)(m(re,1),m(fe),m(Ai),m(Z),m(Nn,8),m(It,8),si("tabindex"))},i.\u0275cmp=A({type:i,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(o,r){o&1&&_("click",function(){return r._toggle()})("keydown",function(p){return r._keydown(p)}),o&2&&(et("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),V("height",r._getHeaderHeight()),K("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after",r._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",r._getTogglePosition()==="before")("_mat-animation-noopable",r._animationMode==="NoopAnimations"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:_i(t)]},standalone:!0,features:[ie,it],ngContentSelectors:To,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(o,r){o&1&&(tt(Mo),l(0,"span",0),_e(1),_e(2,1),_e(3,2),c(),u(4,Po,3,1,"span",1)),o&2&&(K("mat-content-hide-toggle",!r._showToggle()),s(4),Nt(r._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color);display:inline-block;display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color);display:none;display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[On.indicatorRotate]},changeDetection:0});let n=i;return n})();var Ye=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275dir=F({type:i,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0});let n=i;return n})(),Bn=(()=>{let i=class i extends Tn{constructor(){super(...arguments),this._ownHeaders=new ci,this.hideToggle=!1,this.displayMode="default",this.togglePosition="after"}ngAfterContentInit(){this._headers.changes.pipe(kt(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(o=>o.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Ei(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}};i.\u0275fac=(()=>{let t;return function(r){return(t||(t=ai(i)))(r||i)}})(),i.\u0275dir=F({type:i,selectors:[["mat-accordion"]],contentQueries:function(o,r,a){if(o&1&&Bt(a,Fe,5),o&2){let p;H(p=L())&&(r._headers=p)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(o,r){o&2&&K("mat-accordion-multi",r.multi)},inputs:{hideToggle:[2,"hideToggle","hideToggle",J],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],standalone:!0,features:[j([{provide:Kt,useExisting:i}]),ie,Rt]});let n=i;return n})(),Vn=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=U({type:i}),i.\u0275inj=W({imports:[zt,Fn,Wi]});let n=i;return n})();var Hn=(()=>{let i=class i{transform(t){return typeof t=="string"&&t&&t!="None"||typeof t=="number"&&!isNaN(t)?t.toString():"-"}};i.\u0275fac=function(o){return new(o||i)},i.\u0275pipe=Je({name:"emptyTableField",type:i,pure:!0,standalone:!0});let n=i;return n})();var Ln=(()=>{let i=class i{transform(t){return t&&typeof t=="object"&&Object.keys(t).length>0}};i.\u0275fac=function(o){return new(o||i)},i.\u0275pipe=Je({name:"hasKeys",type:i,pure:!0,standalone:!0});let n=i;return n})();var G=function(n){return n.ADD="add",n.EDIT="edit",n.VIEW="view",n}(G||{});var Dt=(()=>{let i=class i{constructor(t){this.store=t,this.filenames$=this.store.select(Qi),this.summarizedRecord$=this.store.select(Ki)}dispatch(t){this.store.dispatch(t)}};i.\u0275fac=function(o){return new(o||i)(ge(Si))},i.\u0275prov=me({token:i,factory:i.\u0275fac});let n=i;return n})();var Y=(()=>{let i=class i{get algorithmType(){return this._algorithmType.value}get algorithmType$(){return this._algorithmType.asObservable()}set algorithmType(t){this._recordsMap.set(this._algorithmType.value,this._records.value),this._algorithmType.next(t);let o=this._recordsMap.get(t)||[];this._records.next(o)}get records(){return this._records.value}get records$(){return this._records.asObservable()}addRecord(t){this.stopTooltips();let r=[...this._records.value,t];this._records.next(r),this._recordsMap.set(this._algorithmType.value,r)}updateRecord(t,o){this.stopTooltips();let r=this._records.value;if(t>=0&&t<r.length){let a=[...r];a[t]=o,this._records.next(a),this._recordsMap.set(this._algorithmType.value,a)}}removeRecord(t){this.stopTooltips();let o=this._records.value;if(t>=0&&t<o.length){let r=o.filter((a,p)=>p!==t);this._records.next(r),this._recordsMap.set(this._algorithmType.value,r)}}stopTooltips(){this.chartToolsGlobalSignalsService.toggleTooltips=!1,this.chartToolsGlobalSignalsService.toggleZoom=!1}constructor(t){this.chartToolsGlobalSignalsService=t,this._recordsMap=new Map,this._records=new Tt([]),this._algorithmType=new Tt(B.PRUNING)}};i.\u0275fac=function(o){return new(o||i)(ge(ze))},i.\u0275prov=me({token:i,factory:i.\u0275fac});let n=i;return n})();var zn=(()=>{let i=class i{get parentFormGroup(){return this.controlContainer.control}get chartFormGroup(){return this.parentFormGroup.get(this.controlKey)}get borderColorControl(){return this.chartFormGroup.get(this.CHART_BODER_COLOR_CONTROL_NAME)}get backgroundColorControl(){return this.chartFormGroup.get(this.CHART_BACKGROUND_COLOR_CONTROL_NAME)}constructor(t){this.controlContainer=t,this.controlKey="",this.CHART_BODER_COLOR_CONTROL_NAME="borderColor",this.CHART_BACKGROUND_COLOR_CONTROL_NAME="backgroundColor"}ngOnInit(){}};i.\u0275fac=function(o){return new(o||i)(m(Ke))},i.\u0275cmp=A({type:i,selectors:[["ms-chart-colors-form-controls"]],inputs:{controlKey:"controlKey"},features:[j([],[{provide:Ke,useFactory:()=>oi(Ke,{skipSelf:!0})}])],decls:15,vars:5,consts:[[3,"formGroupName"],[1,"form-field-container"],[1,"flex","items-center"],[1,"mr-2"],["ngx-colors-trigger","",3,"formControlName"]],template:function(o,r){o&1&&(b(0,0),l(1,"div",1)(2,"mat-label"),g(3,"Chart border color"),c(),l(4,"div",2)(5,"div",3),f(6,"ngx-colors",4),c(),g(7),c()(),l(8,"div",1)(9,"mat-label"),g(10,"Chart background color"),c(),l(11,"div",2)(12,"div",3),f(13,"ngx-colors",4),c(),g(14),c()(),w()),o&2&&(d("formGroupName",r.controlKey),s(6),d("formControlName",r.CHART_BODER_COLOR_CONTROL_NAME),s(),T(" ",r.borderColorControl==null?null:r.borderColorControl.value," "),s(6),d("formControlName",r.CHART_BACKGROUND_COLOR_CONTROL_NAME),s(),T(" ",r.backgroundColorControl==null?null:r.backgroundColorControl.value," "))},dependencies:[En,$t,we,Be,Ve,Oi,pt]});let n=i;return n})();function Yo(n,i){if(n&1&&(l(0,"mat-option",14),g(1),c()),n&2){let e=h();s(),T(" No algorithm was yet run. Please run a ",e.algorithmTypeLabel," algorithm. ")}}function Xo(n,i){if(n&1&&(l(0,"mat-option",16),g(1),c()),n&2){let e=i.$implicit;d("value",e.name)("disabled",e.disabled),s(),T(" ",e.name," ")}}function Wo(n,i){if(n&1&&(b(0),u(1,Xo,2,3,"mat-option",15),w()),n&2){let e=h();s(),d("ngForOf",e.files)}}function Uo(n,i){n&1&&(l(0,"div")(1,"div",17),f(2,"mat-spinner",18),c()())}function $o(n,i){if(n&1&&(b(0),g(1),E(2,"readableDuration"),w()),n&2){let e=h().$implicit;s(),k(M(2,1,e.value))}}function Qo(n,i){if(n&1&&(b(0),g(1),w()),n&2){let e=h().$implicit;s(),k(e.value)}}function Ko(n,i){n&1&&(l(0,"div",33),f(1,"mat-divider"),c())}function qo(n,i){if(n&1&&(l(0,"div",25)(1,"div",26)(2,"div",27),g(3),E(4,"parametersLabel"),c(),l(5,"div",28),b(6,29),u(7,$o,3,3,"ng-container",30)(8,Qo,2,1,"ng-container",31),w(),c()(),u(9,Ko,2,0,"div",32),c()),n&2){let e=i.$implicit,t=i.last;s(3),T("",M(4,4,e.key),":"),s(3),d("ngSwitch",e.key),s(),d("ngSwitchCase","duration_seconds"),s(2),d("ngIf",!t)}}function Zo(n,i){if(n&1&&(b(0),u(1,qo,10,6,"div",24),w()),n&2){let e=i.ngIf;s(),d("ngForOf",e)}}function Jo(n,i){n&1&&(l(0,"div",34),g(1,"No data available"),c())}function er(n,i){if(n&1&&(b(0),g(1),E(2,"adaptiveFileSize"),w()),n&2){let e=h().$implicit;s(),k(M(2,1,e.value))}}function tr(n,i){if(n&1&&(b(0),g(1),E(2,"date"),w()),n&2){let e=h().$implicit;s(),k(ui(2,1,e.value,"medium"))}}function ir(n,i){if(n&1&&(b(0),g(1),E(2,"readableDuration"),w()),n&2){let e=h().$implicit;s(),k(M(2,1,e.value))}}function nr(n,i){if(n&1&&(b(0),g(1),w()),n&2){let e=h().$implicit;s(),k(e.value)}}function or(n,i){n&1&&(l(0,"div",33),f(1,"mat-divider"),c())}function rr(n,i){if(n&1&&(l(0,"div",25)(1,"div",26)(2,"div",27),g(3),E(4,"parametersLabel"),c(),l(5,"div",28),b(6,29),u(7,er,3,3,"ng-container",30)(8,tr,3,4,"ng-container",30)(9,ir,3,3,"ng-container",30)(10,nr,2,1,"ng-container",31),w(),c()(),u(11,or,2,0,"div",32),c()),n&2){let e=i.$implicit,t=i.last;s(3),T("",M(4,6,e.key),":"),s(3),d("ngSwitch",e.key),s(),d("ngSwitchCase","file_size_bytes"),s(),d("ngSwitchCase","creation_date"),s(),d("ngSwitchCase","training_duration_seconds"),s(2),d("ngIf",!t)}}function ar(n,i){if(n&1&&(b(0),u(1,rr,12,8,"div",24),E(2,"keyvalue"),w()),n&2){let e=h(3);s(),d("ngForOf",M(2,1,e.summarizedRecord==null?null:e.summarizedRecord.modelTrainingDetails))}}function sr(n,i){n&1&&(l(0,"div",34),g(1,"No data available"),c())}function lr(n,i){n&1&&(l(0,"div",33),f(1,"mat-divider"),c())}function cr(n,i){if(n&1&&(l(0,"div",25)(1,"div",26)(2,"div",27),g(3),E(4,"parametersLabel"),c(),l(5,"div",28),g(6),c()(),u(7,lr,2,0,"div",32),c()),n&2){let e=i.$implicit,t=i.last;s(3),T("",M(4,3,e.key),":"),s(3),k(e.value),s(),d("ngIf",!t)}}function dr(n,i){if(n&1&&(b(0),u(1,cr,8,5,"div",24),w()),n&2){let e=i.ngIf;s(),d("ngForOf",e)}}function pr(n,i){n&1&&(l(0,"div",34),g(1,"No data available"),c())}function mr(n,i){if(n&1&&(b(0),f(1,"ms-chart-colors-form-controls",35)(2,"ms-line-chart",36),w()),n&2){let e=h(3);s(2),d("data",e.lastRunAccuracyTestingChartData)("settings",e.testingAccuracyChartDisplaySettings)}}function hr(n,i){n&1&&(l(0,"div",34),g(1,"No data available"),c())}function gr(n,i){if(n&1){let e=D();b(0),f(1,"mat-divider"),l(2,"div",19)(3,"mat-label"),g(4,"Set run name"),c(),l(5,"mat-form-field",9),f(6,"input",20),c()(),l(7,"mat-accordion",21)(8,"mat-expansion-panel",22),xe("expandedChange",function(o){C(e);let r=h(2);return ve(r.panelStates.statistics,o)||(r.panelStates.statistics=o),v(o)}),l(9,"mat-expansion-panel-header")(10,"mat-panel-title",23),g(11," Statistics "),c()(),u(12,Zo,2,1,"ng-container",13),E(13,"keyvalue"),u(14,Jo,2,0,"ng-template",null,2,ne),c(),l(16,"mat-expansion-panel",22),xe("expandedChange",function(o){C(e);let r=h(2);return ve(r.panelStates.modelTrainingDetails,o)||(r.panelStates.modelTrainingDetails=o),v(o)}),l(17,"mat-expansion-panel-header")(18,"mat-panel-title",23),g(19," Model training details "),c()(),u(20,ar,3,3,"ng-container",13),E(21,"hasKeys"),u(22,sr,2,0,"ng-template",null,3,ne),c(),l(24,"mat-expansion-panel",22),xe("expandedChange",function(o){C(e);let r=h(2);return ve(r.panelStates.parameters,o)||(r.panelStates.parameters=o),v(o)}),l(25,"mat-expansion-panel-header")(26,"mat-panel-title",23),g(27," Parameters "),c()(),u(28,dr,2,1,"ng-container",13),E(29,"keyvalue"),u(30,pr,2,0,"ng-template",null,4,ne),c(),l(32,"mat-expansion-panel",22),xe("expandedChange",function(o){C(e);let r=h(2);return ve(r.panelStates.accuracy,o)||(r.panelStates.accuracy=o),v(o)}),l(33,"mat-expansion-panel-header")(34,"mat-panel-title",23),g(35," Last Accuracy Test Run "),c()(),u(36,mr,3,2,"ng-container",13),E(37,"keyvalue"),u(38,hr,2,0,"ng-template",null,5,ne),c()(),w()}if(n&2){let e=$(15),t=$(23),o=$(31),r=$(39),a=h(2);s(8),Ce("expanded",a.panelStates.statistics),s(4),d("ngIf",M(13,12,a.summarizedRecord==null?null:a.summarizedRecord.statistics))("ngIfElse",e),s(4),Ce("expanded",a.panelStates.modelTrainingDetails),s(4),d("ngIf",M(21,14,a.summarizedRecord==null?null:a.summarizedRecord.modelTrainingDetails))("ngIfElse",t),s(4),Ce("expanded",a.panelStates.parameters),s(4),d("ngIf",M(29,16,a.summarizedRecord==null?null:a.summarizedRecord.parameters))("ngIfElse",o),s(4),Ce("expanded",a.panelStates.accuracy),s(4),d("ngIf",M(37,18,a.summarizedRecord==null?null:a.summarizedRecord.parameters))("ngIfElse",r)}}function ur(n,i){if(n&1&&u(0,gr,40,20,"ng-container",13),n&2){let e=h(),t=$(14);d("ngIf",!!e.summarizedRecord)("ngIfElse",t)}}function fr(n,i){n&1&&f(0,"ms-empty-state",37)}var ae,ke=(ae=class{get chartFormGroup(){return this.form.get("chart")}get selectRunFormControl(){return this.form.get("selectRun")}get runNameFormControl(){return this.form.get("runName")}constructor(i,e,t,o,r,a){this.drawerRef=i,this.drawerConfig=e,this.fb=t,this.recordsFacadeService=o,this.recordsDataService=r,this.customAPILoadingService=a,this.panelStates={statistics:!0,parameters:!0,accuracy:!0,modelTrainingDetails:!0},this.form=new st({}),this.algorithmTypeLabel="",this.files=[],this.isSummarizedRecordLoading$=this.customAPILoadingService.getLoadingObservableForKey(xn.RUN_RECORDS_SUMMARIZED_DATA),this.testingAccuracyChartDisplaySettings={},this.lastRunAccuracyTestingChartData=[]}ngAfterViewInit(){this.restorePanelStates()}ngOnInit(){switch(this.initForm(),this.initChartDisplaySettings(),this.listenToChartColorChanges(),this.algorithmTypeLabel=this.getAlgorithmTypeString(),this.drawerConfig.actionType){case G.ADD:{this.loadData(),this.configureAddTypeActions();break}case G.EDIT:case G.VIEW:{this.configureEditOrViewTypeActions();break}}}getAlgorithmTypeString(){switch(this.recordsDataService.algorithmType){case B.PRUNING:return"pruning";case B.QUANTIZATION:return"quantization";case B.MACHINE_UNLEARNING:return"machine unlearning";default:return"specified"}}initChartDisplaySettings(){let i=0;switch(this.recordsDataService.algorithmType){case B.PRUNING:{i=100;break}case B.QUANTIZATION:{i=79;break}case B.MACHINE_UNLEARNING:{i=36;break}default:break}this.testingAccuracyChartDisplaySettings={yAxisMinimumValue:0,yAxisTickInterval:20,chartDataStructure:xt.SINGLE_PHASE_X_AXIS,xAxisDataPointsCount:i,yAxisMaximumValue:100,isXAxisVisible:!0,isXAxisDynamic:!0,areTooltipsEnabled:!0,xAxisInitialLabelValue:1,xAxisLabelPrefix:"Step:",datasetLabelPrefix:"Test:",isChartWithCustomColorSettings:!0,customChartColors:{datasetColors:[{backgroundColor:"rgba(241, 196, 15, 0.2)",borderColor:"#f1c40f"}]}}}listenToChartColorChanges(){this.chartFormGroup.valueChanges.pipe(ii(300),z(this)).subscribe(i=>{if(Le(i))return;let{backgroundColor:e,borderColor:t}=i;this.testingAccuracyChartDisplaySettings=We(Ee({},this.testingAccuracyChartDisplaySettings),{customChartColors:{datasetColors:[{backgroundColor:e,borderColor:t}]}}),this.lastRunAccuracyTestingChartData=[...this.lastRunAccuracyTestingChartData]})}configureEditOrViewTypeActions(){let{recordName:i,recordFilename:e,record:t,chartColors:o}=this.drawerConfig.data;this.drawerConfig.actionType===G.VIEW?this.form.disable():this.drawerConfig.actionType===G.EDIT&&this.selectRunFormControl.disable(),this.files=[{name:e,disabled:!0}],this.form.patchValue({selectRun:e,runName:i,chart:{borderColor:o.borderColor,backgroundColor:o.backgroundColor}}),this.summarizedRecord=t,this.lastRunAccuracyTestingChartData=this.configureChartDataset(t),this.testingAccuracyChartDisplaySettings=We(Ee({},this.testingAccuracyChartDisplaySettings),{hasCustomDatasetsLabels:!0,customDatasetsLabels:[i],customChartColors:{datasetColors:[{backgroundColor:o.backgroundColor||"rgba(241, 196, 15, 0.2)",borderColor:o.borderColor||"#f1c40f"}]}})}configureAddTypeActions(){this.listenToSelectRunFormValueChanges(),this.listenToSummarizedRecordChanges()}listenToSelectRunFormValueChanges(){this.selectRunFormControl.valueChanges.pipe(z(this),Me(i=>!ut(i))).subscribe(i=>{this.runNameFormControl.reset(),this.recordsFacadeService.dispatch(Yt.getRunRecordSummarizedData({algorithmType:this.recordsDataService.algorithmType,filename:i}))})}listenToSummarizedRecordChanges(){this.recordsFacadeService.summarizedRecord$.pipe(z(this),Ft(1)).subscribe(i=>{this.summarizedRecord=i,this.lastRunAccuracyTestingChartData=this.configureChartDataset(i);let e=this.summarizedRecord?.statistics.algorithm_key,t=this.summarizedRecord?.parameters.arch;!ut(e)&&!ut(t)&&this.runNameFormControl.setValue(`${e}_${t}`),this.savePanelStates(),this.restorePanelStates()})}configureChartDataset(i){return[{datasetIndex:0,values:i.lastRunTestingAccuracyData||[]}]}loadData(){this.recordsFacadeService.dispatch(Yt.getRunRecordsFilenames({algorithmType:this.recordsDataService.algorithmType})),this.recordsFacadeService.filenames$.pipe(Ft(1),pe(1)).subscribe(i=>{let e=new Set(this.recordsDataService.records.map(t=>t.recordFilename));this.files=i.map(t=>({name:t,disabled:e.has(t)}))})}initForm(){let i=this.getDefaultChartColors();this.form=this.fb.group({selectRun:[null,Te.required],runName:[null,Te.required],chart:this.fb.group({borderColor:[i.borderColor,Te.required],backgroundColor:[i.backgroundColor,Te.required]})})}getDefaultChartColors(){let i=Math.max(this.recordsDataService.records.length,0),e=_n[vt.YELLOW].datasetColors[i];return{borderColor:e.borderColor,backgroundColor:e.backgroundColor}}save(i){if(i!==ye.SAVE)return;let{backgroundColor:e,borderColor:t}=this.form.get("chart")?.getRawValue();this.drawerRef.close({result:{recordName:this.runNameFormControl.value,recordFilename:this.selectRunFormControl.value,record:this.summarizedRecord,chartColors:{backgroundColor:e,borderColor:t}},status:i})}close(){this.drawerRef.close()}savePanelStates(){this.panels.forEach((i,e)=>{this.panelStates[e]=i.expanded})}restorePanelStates(){this.panels.forEach((i,e)=>{this.panelStates[e]!==void 0&&(i.expanded=this.panelStates[e])})}},ae.\u0275fac=function(e){return new(e||ae)(m(fn),m(un),m(dt),m(Dt),m(Y),m(bn))},ae.\u0275cmp=A({type:ae,selectors:[["ms-run-drawer-actions"]],viewQuery:function(e,t){if(e&1&&q(re,5),e&2){let o;H(o=L())&&(t.panels=o)}},decls:15,vars:8,consts:[["content",""],["noData",""],["noStatisticsData",""],["noModelTrainingDetailsData",""],["noParametersData",""],["noAccuracyData",""],[3,"actionEvent","isSaveDisabled"],[3,"formGroup"],[1,"form-field-container"],["appearance","outline"],["formControlName","selectRun","placeholder","Select a run record"],["disabled","",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["disabled",""],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value","disabled"],[1,"spinner-wrapper","mt-4"],["diameter","80"],[1,"form-field-container","mt-4"],["matInput","","formControlName","runName","placeholder","Set run name"],["multi",""],[3,"expandedChange","expanded"],[1,"paragraph-bold-p3-small-bold"],["class","key-value-container single",4,"ngFor","ngForOf"],[1,"key-value-container","single"],[1,"key-value-pair","space-between"],[1,"key-value-key"],[1,"key-value-value"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","pt-2",4,"ngIf"],[1,"pt-2"],[1,"no-data-container"],["controlKey","chart"],[3,"data","settings"],["title","Awaiting Run Record Selection","message","Select a run record from the dropdown to view details and statistics."]],template:function(e,t){if(e&1){let o=D();l(0,"ms-drawer",6),_("actionEvent",function(a){return C(o),v(t.save(a))}),l(1,"form",7)(2,"div",8)(3,"mat-label"),g(4,"Select run record"),c(),l(5,"mat-form-field",9)(6,"mat-select",10),u(7,Yo,2,1,"mat-option",11)(8,Wo,2,1,"ng-container",12),c()()(),u(9,Uo,3,0,"div",13),E(10,"async"),u(11,ur,1,2,"ng-template",null,0,ne),c()(),u(13,fr,1,0,"ng-template",null,1,ne)}if(e&2){let o=$(12);d("isSaveDisabled",t.form.invalid),s(),d("formGroup",t.form),s(6),d("ngIf",t.files.length===0),s(),d("ngIf",t.files.length>0),s(),d("ngIf",M(10,6,t.isSummarizedRecordLoading$))("ngIfElse",o)}},dependencies:[ee,oe,vi,xi,bi,_t,Ge,Ct,Bn,re,Fe,Ye,lt,ki,we,Be,ct,Ve,mt,pt,ft,rt,at,Ui,zi,zn,Oe,wi,yi,vn,bt,Cn,Ln],styles:[".spinner-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),ae);ke=de([be()],ke);function Cr(n,i){if(n&1){let e=D();l(0,"mat-card",3)(1,"div",4)(2,"div",5),g(3),c(),l(4,"div",6)(5,"button",7),_("click",function(){let o=C(e).$implicit,r=h(2);return v(r.viewRecord(o))}),f(6,"mat-icon",8),c(),l(7,"button",7),_("click",function(){let o=C(e),r=o.$implicit,a=o.index,p=h(2);return v(p.editRecord(a,r))}),f(8,"mat-icon",9),c(),l(9,"button",10),_("click",function(){let o=C(e).index,r=h(2);return v(r.removeRecord(o))}),l(10,"mat-icon",11),g(11,"delete"),c()()()()()}if(n&2){let e=i.$implicit;s(3),k(e.recordName)}}function vr(n,i){if(n&1&&(b(0),u(1,Cr,12,1,"mat-card",2),w()),n&2){let e=i.ngIf;s(),d("ngForOf",e)}}var Xn=(()=>{let i=class i{constructor(t,o){this.recordsDataService=t,this.drawerService=o}removeRecord(t){this.recordsDataService.removeRecord(t)}viewRecord(t){this.drawerService.open(ke,{title:"View Run",showSaveButton:!1,showCloseButton:!0,closeButtonLabel:"Close",actionType:G.VIEW,data:t})}editRecord(t,o){this.drawerService.open(ke,{title:"Edit Run",saveButtonLabel:"Update",showCloseButton:!0,closeButtonLabel:"Close",actionType:G.EDIT,data:o}).afterClosed().pipe(pe(1)).subscribe(a=>{let{status:p}=a;if(p===ye.DISMISS||p===ye.CLOSE)return;let{result:x}=a;Le(x)||this.recordsDataService.updateRecord(t,x)})}};i.\u0275fac=function(o){return new(o||i)(m(Y),m(je))},i.\u0275cmp=A({type:i,selectors:[["ms-algorithm-comparison-list"]],decls:3,vars:3,consts:[[1,"items-wrapper"],[4,"ngIf"],["class","ms-card comparison-item",4,"ngFor","ngForOf"],[1,"ms-card","comparison-item"],[1,"item-wrapper"],["msUseEllipsis",""],[1,"record-summary-buttons-wrapper"],["mat-icon-button","","color","primary",3,"click"],["fontSet","ms","fontIcon","icon-Eye",1,"mat-primary"],["fontSet","ms","fontIcon","icon-PencilSimple",1,"mat-primary"],["mat-icon-button","","color","error",3,"click"],[1,"mat-error"]],template:function(o,r){o&1&&(l(0,"div",0),u(1,vr,2,1,"ng-container",1),E(2,"async"),c()),o&2&&(s(),d("ngIf",M(2,1,r.recordsDataService.records$)))},dependencies:[ee,oe,Mn,He,qi,Vi,Oe],styles:[".items-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));grid-gap:20px;padding:20px 0}.items-wrapper[_ngcontent-%COMP%]   .ms-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #0003}.items-wrapper[_ngcontent-%COMP%]   .comparison-item[_ngcontent-%COMP%]   .item-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.items-wrapper[_ngcontent-%COMP%]   .comparison-item[_ngcontent-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .record-summary-buttons-wrapper[_ngcontent-%COMP%]{display:flex}"]});let n=i;return n})();var se,Et=(se=class{constructor(i,e){this.recordsDataService=i,this.chartToolsGlobalSignalsService=e,this.testingAccuracyChartDisplaySettings={yAxisMinimumValue:0,yAxisMaximumValue:100,yAxisTickInterval:20,chartDataStructure:xt.SINGLE_PHASE_X_AXIS,datasetColorSettingsKey:vt.YELLOW,isXAxisVisible:!0,xAxisLabelPrefix:"Step:",zoomRangeLimits:{min:0,max:100},isXAxisDynamic:!0,hasCustomDatasetsLabels:!0},this.lastRunsAccuracyTestingChartData=[],this.enableTooltips=!1,this.enableZoom=!1}ngOnInit(){this.listenToRecordsChanges(),this.subscribeToChartToolsSignals()}listenToRecordsChanges(){this.recordsDataService.records$.pipe(z(this)).subscribe(i=>{Gt(i)||(this.lastRunsAccuracyTestingChartData=this.configureChartDatasets(i),this.testingAccuracyChartDisplaySettings=We(Ee({},this.testingAccuracyChartDisplaySettings),{customDatasetsLabels:i.map(e=>e.recordName),xAxisDataPointsCount:i[0].record.lastRunTestingAccuracyData.length,isChartWithCustomColorSettings:!0,customChartColors:{datasetColors:i.map(e=>e.chartColors)}}))})}subscribeToChartToolsSignals(){this.chartToolsGlobalSignalsService.toggleTooltips$.pipe(z(this)).subscribe(i=>{this.enableTooltips=i}),this.chartToolsGlobalSignalsService.toggleZoom$.pipe(z(this)).subscribe(i=>{this.enableZoom=i})}configureChartDatasets(i){let e=[];return i.forEach((t,o)=>{let{record:r}=t;e.push({datasetIndex:o,values:r.lastRunTestingAccuracyData||[]})}),e}toggleTooltip(i){this.chartToolsGlobalSignalsService.toggleTooltips=i.checked}toggleZoom(i){this.chartToolsGlobalSignalsService.toggleZoom=i.checked}},se.\u0275fac=function(e){return new(e||se)(m(Y),m(ze))},se.\u0275cmp=A({type:se,selectors:[["ms-algorithm-comparison-chart"]],decls:14,vars:4,consts:[["expanded","true"],[1,"paragraph-bold-p3-small-bold"],[1,"mt-2","flex"],["color","primary",3,"ngModelChange","change","ngModel"],[1,"flex"],["color","primary",1,"ml-2",3,"ngModelChange","change","ngModel"],[1,"ml-1"],["fontSet","ms","fontIcon","icon-Info","matTooltip","Use mouse wheel or touchpad pinch to zoom in/out. Drag to select an area for specific zoom, or use touchpad gestures to navigate."],[3,"data","settings"]],template:function(e,t){e&1&&(l(0,"mat-expansion-panel",0)(1,"mat-expansion-panel-header")(2,"mat-panel-title",1),g(3," Last Accuracy Test Run "),c()(),l(4,"div",2)(5,"div")(6,"mat-slide-toggle",3),xe("ngModelChange",function(r){return ve(t.enableTooltips,r)||(t.enableTooltips=r),r}),_("change",function(r){return t.toggleTooltip(r)}),g(7," Enable tooltips "),c()(),l(8,"div",4)(9,"mat-slide-toggle",5),xe("ngModelChange",function(r){return ve(t.enableZoom,r)||(t.enableZoom=r),r}),_("change",function(r){return t.toggleZoom(r)}),g(10," Enable zoom "),c(),l(11,"div",6),f(12,"mat-icon",7),c()()(),f(13,"ms-line-chart",8),c()),e&2&&(s(6),Ce("ngModel",t.enableTooltips),s(3),Ce("ngModel",t.enableZoom),s(4),d("data",t.lastRunsAccuracyTestingChartData)("settings",t.testingAccuracyChartDisplaySettings))},dependencies:[Ge,re,Fe,Ye,we,Ii,He,en]}),se);Et=de([be()],Et);var wr=new he("MAT_SORT_DEFAULT_OPTIONS"),Wn=(()=>{let i=class i{get direction(){return this._direction}set direction(t){this._direction=t}constructor(t){this._defaultOptions=t,this._initializedStream=new ei(1),this.sortables=new Map,this._stateChanges=new Ae,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new S,this.initialized=this._initializedStream}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let o=t?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,r=yr(t.start||this.start,o),a=r.indexOf(this.direction)+1;return a>=r.length&&(a=0),r[a]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}};i.\u0275fac=function(o){return new(o||i)(m(wr,8))},i.\u0275dir=F({type:i,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",J],disabled:[2,"matSortDisabled","disabled",J]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[ie,ue]});let n=i;return n})();function yr(n,i){let e=["asc","desc"];return n=="desc"&&e.reverse(),i||e.push(""),e}var zs=Ti.ENTERING+" "+Mi.STANDARD_CURVE;function Sr(n,i){n&1&&(l(0,"th",10),g(1,"Record Name"),c())}function Dr(n,i){if(n&1&&(l(0,"td",11),g(1),c()),n&2){let e=i.$implicit;s(),k(e.recordName)}}function Er(n,i){if(n&1&&(l(0,"th",10),g(1),E(2,"parametersLabel"),c()),n&2){let e=h().$implicit;s(),T(" ",M(2,1,e)," ")}}function Ar(n,i){if(n&1&&(l(0,"td",11),g(1),E(2,"emptyTableField"),c()),n&2){let e=i.$implicit,t=h().$implicit;s(),T(" ",M(2,1,e[t])," ")}}function Mr(n,i){if(n&1&&(b(0,12),u(1,Er,3,3,"th",5)(2,Ar,3,3,"td",6),w()),n&2){let e=i.$implicit;d("matColumnDef",e)}}function Tr(n,i){n&1&&f(0,"tr",13)}function Pr(n,i){n&1&&f(0,"tr",14)}var le,At=(le=class{constructor(i){this.recordsDataService=i,this.dataSource=new gn,this.displayedColumns=[]}ngOnInit(){this.recordsDataService.records$.pipe(z(this)).subscribe(i=>{this.updateDisplayedColumns(i),this.updateDataSource(i)})}ngAfterViewInit(){Le(this.sort)||setTimeout(()=>{this.dataSource.sort=this.sort},1200)}updateDisplayedColumns(i){let e=new Set;i.forEach(t=>{Object.keys(t.record.parameters).forEach(o=>{o!=="save_dir"&&o!=="data"&&e.add(o)})}),this.displayedColumns=["recordName",...Array.from(e)]}updateDataSource(i){let e=i.map(t=>{let o=t.record.parameters;return Ee({recordName:t.recordName},o)});this.dataSource.data=e}},le.\u0275fac=function(e){return new(e||le)(m(Y))},le.\u0275cmp=A({type:le,selectors:[["ms-algorithm-comparison-table"]],viewQuery:function(e,t){if(e&1&&q(Wn,5),e&2){let o;H(o=L())&&(t.sort=o.first)}},decls:12,vars:4,consts:[["expanded","true"],[1,"paragraph-bold-p3-small-bold"],[1,"table-container"],["mat-table","","matSort","",1,"mat-table",3,"dataSource"],["matColumnDef","recordName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","hover-highlight",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"matColumnDef"],["mat-header-row",""],["mat-row","",1,"hover-highlight"]],template:function(e,t){e&1&&(l(0,"mat-expansion-panel",0)(1,"mat-expansion-panel-header")(2,"mat-panel-title",1),g(3," Parameters "),c()(),l(4,"div",2)(5,"table",3),b(6,4),u(7,Sr,2,0,"th",5)(8,Dr,2,1,"td",6),w(),u(9,Mr,3,1,"ng-container",7)(10,Tr,1,0,"tr",8)(11,Pr,1,0,"tr",9),c()()()),e&2&&(s(5),d("dataSource",t.dataSource),s(4),d("ngForOf",t.displayedColumns.slice(1)),s(),d("matHeaderRowDef",t.displayedColumns),s(),d("matRowDefColumns",t.displayedColumns))},dependencies:[ee,re,Fe,Ye,nn,rn,cn,an,on,dn,sn,ln,pn,mn,bt,Hn],styles:[".table-container[_ngcontent-%COMP%]{overflow:auto}.hover-highlight[_ngcontent-%COMP%]:hover{background-color:var(--backgrounds-80)}.mat-column-disable_8bit_head_stem[_ngcontent-%COMP%]{min-width:200px}.mat-column-workers[_ngcontent-%COMP%], .mat-column-n_bits_w[_ngcontent-%COMP%], .mat-column-channel_wise[_ngcontent-%COMP%], .mat-column-n_bits_a[_ngcontent-%COMP%]{min-width:160px}.mat-column-act_quant[_ngcontent-%COMP%]{min-width:180px}.mat-column-num_samples[_ngcontent-%COMP%], .mat-column-iters_w[_ngcontent-%COMP%]{min-width:160px}.mat-column-keep_cpu[_ngcontent-%COMP%], .mat-column-awq[_ngcontent-%COMP%]{min-width:180px}.mat-column-aaq[_ngcontent-%COMP%], .mat-column-init_wmode[_ngcontent-%COMP%], .mat-column-init_amode[_ngcontent-%COMP%]{min-width:200px}.mat-column-num_indexes_to_replace[_ngcontent-%COMP%]{min-width:185px}.mat-column-unlearn_lr[_ngcontent-%COMP%], .mat-column-alpha[_ngcontent-%COMP%], .mat-column-unlearn_epochs[_ngcontent-%COMP%], .mat-column-train_seed[_ngcontent-%COMP%], .mat-column-class_to_replace[_ngcontent-%COMP%], .mat-column-indexes_to_replace[_ngcontent-%COMP%], .mat-column-no_aug[_ngcontent-%COMP%]{min-width:200px}.mat-column-imagenet_arch[_ngcontent-%COMP%]{min-width:220px}.mat-column-num_workers[_ngcontent-%COMP%]{min-width:180px}"]}),le);At=de([be()],At);function kr(n,i){if(n&1&&(l(0,"mat-option",13),g(1),c()),n&2){let e=i.$implicit;d("value",e.key),s(),T(" ",e.value," ")}}function Ir(n,i){n&1&&(b(0),f(1,"ms-algorithm-comparison-list"),l(2,"div",8),f(3,"mat-divider"),c(),f(4,"ms-algorithm-comparison-table"),l(5,"div",8),f(6,"mat-divider"),c(),f(7,"ms-algorithm-comparison-chart"),w())}function Or(n,i){n&1&&(l(0,"div",14),f(1,"ms-empty-state",15),c())}var ce,Mt=(ce=class{get algorithmTypeFormControl(){return this.form.get(this.ALGORITHM_TYPE_CONTROL_NAME)}constructor(i,e,t){this.drawerService=i,this.recordsDataService=e,this.fb=t,this.form=new st({}),this.algorithmTypesOptions=[{key:B.QUANTIZATION,value:"Quantization"},{key:B.PRUNING,value:"Pruning"},{key:B.MACHINE_UNLEARNING,value:"Machine Unlearning"}],this.ALGORITHM_TYPE_CONTROL_NAME="algorithmType"}openAddRunDrawer(){this.drawerService.open(ke,{title:"Add Run",saveButtonLabel:"Add",showCloseButton:!0,closeButtonLabel:"Close",actionType:G.ADD}).afterClosed().pipe(pe(1)).subscribe(e=>{let{status:t}=e;if(t===ye.DISMISS||t===ye.CLOSE)return;let{result:o}=e;this.recordsDataService.addRecord(o)})}ngOnInit(){this.initForm(),this.listenToAlgorithmTypeChanges()}initForm(){this.form=this.fb.group({[this.ALGORITHM_TYPE_CONTROL_NAME]:[this.recordsDataService.algorithmType,Te.required]})}listenToAlgorithmTypeChanges(){this.algorithmTypeFormControl.valueChanges.pipe(z(this)).subscribe(i=>{this.recordsDataService.algorithmType=i})}trackByAlgorithmType(i,e){return e.key}},ce.\u0275fac=function(e){return new(e||ce)(m(je),m(Y),m(dt))},ce.\u0275cmp=A({type:ce,selectors:[["ms-algorithm-comparison"]],decls:19,vars:8,consts:[["noData",""],[1,"title-wrapper"],[1,"heading-primary-title","title"],[1,"ml-2",3,"formGroup"],[1,"form-field-container","w-56","mt-2"],["appearance","outline"],["placeholder","Select a run record",3,"formControlName"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mt-4","mb-4"],["mat-stroked-button","","color","primary",3,"click"],["fontSet","ms","fontIcon","icon-Plus"],[1,"mt-4"],[4,"ngIf","ngIfElse"],[3,"value"],[1,"no-data-wrapper"],["title","No data selected"]],template:function(e,t){if(e&1){let o=D();l(0,"div",1)(1,"p",2),g(2,"Algorithm Comparison for"),c(),l(3,"form",3)(4,"div",4)(5,"mat-form-field",5)(6,"mat-select",6),u(7,kr,2,2,"mat-option",7),c()()()()(),l(8,"div",8),f(9,"mat-divider"),c(),l(10,"button",9),_("click",function(){return C(o),v(t.openAddRunDrawer())}),f(11,"mat-icon",10),g(12,` Add run
`),c(),l(13,"div",11),f(14,"mat-divider"),c(),u(15,Ir,8,0,"ng-container",12),E(16,"async"),u(17,Or,2,0,"ng-template",null,0,ne)}if(e&2){let o=$(18);s(3),d("formGroup",t.form),s(3),d("formControlName",t.ALGORITHM_TYPE_CONTROL_NAME),s(),d("ngForOf",t.algorithmTypesOptions)("ngForTrackBy",t.trackByAlgorithmType),s(8),d("ngIf",M(16,6,t.recordsDataService.records$).length>0)("ngIfElse",o)}},dependencies:[ee,oe,Ct,lt,we,Be,ct,Ve,mt,ft,rt,at,He,Bi,Xn,Et,At,Oe],styles:[".no-data-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center}.title-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}"]}),ce);Mt=de([be()],Mt);var Rr=[{path:"",component:Mt}],Un=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=U({type:i}),i.\u0275inj=W({imports:[Ht.forChild(Rr),Ht]});let n=i;return n})();var nc=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=U({type:i}),i.\u0275inj=W({providers:[je,Dt,Y,ze],imports:[ot,Un,_t,An,Ge,Vn,Ri,Ni,Li,Ji,Pi,$i,ji,Zi,hn,tn,Hi,Gi]});let n=i;return n})();export{nc as AlgorithmComparisonModule};
