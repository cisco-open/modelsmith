import{a as Z,b as tt,c as et,d as it,e as nt,f as ot,g as rt}from"./chunk-7N4GTUAX.js";import"./chunk-FMCS4BSH.js";import{a as h}from"./chunk-BZXD44PM.js";import{a as g,c as H}from"./chunk-2YCNMDJU.js";import"./chunk-6OG4GIDG.js";import"./chunk-NIBPW2FQ.js";import"./chunk-74GRTMWA.js";import{b as Y}from"./chunk-KECYA32T.js";import"./chunk-RT4UIWZY.js";import{a as v}from"./chunk-P7CYYRPF.js";import{b as J}from"./chunk-CFYL7YUG.js";import"./chunk-VNGDSIUJ.js";import"./chunk-UVRKHTIO.js";import{b as W,f as M}from"./chunk-C4NPICWQ.js";import"./chunk-7E7D3R2F.js";import"./chunk-YRSCX2CX.js";import"./chunk-BSTDKCK6.js";import"./chunk-AH3UZEPK.js";import"./chunk-XX6ZYDLH.js";import"./chunk-KN3ES7HG.js";import{a as $,b as X}from"./chunk-REE2RBO3.js";import{a as B,b as j}from"./chunk-V63QBU7B.js";import"./chunk-OFI24AXH.js";import"./chunk-GZP2I6OY.js";import{$b as G,Ab as A,Ea as s,Fa as S,Gb as Q,Hb as O,Qa as u,Sa as c,Ya as b,Yb as k,_ as f,ab as a,bb as o,cb as d,fe as U,ga as w,gb as P,ha as _,jb as E,lb as l,ne as V,oa as T,p as L,pa as x,qb as D,rb as I,rc as F,sb as y,se as z,te as N,ub as p,ue as R,ve as q,ye as K}from"./chunk-2CPYVQID.js";var st=["panelParametersCalibrationSet"],pt=["panelParametersQuantSample"];function lt(i,t){i&1&&(a(0,"div",11),d(1,"ms-spining-indicator"),o())}function ct(i,t){if(i&1&&(a(0,"div",9)(1,"div",10),p(2,"Step 1: Calibration Data"),o(),A(3),Q(4,"async"),u(5,lt,2,0,"div",11),o()),i&2){let e=l(),n=O(4,1,e.pageRunningScriptSpiningIndicatorService.currentRunningPageInfo$);s(5),b((n==null?null:n.algKey)===e.DiffusionModelAlgorithmsEnum.PTQ4DIT_GET_CALIBRATION_SET?5:-1)}}function dt(i,t){if(i&1){let e=P();a(0,"div",12),d(1,"ms-panel-parameters",13,0),o(),a(3,"div",14)(4,"div",15)(5,"button",16),p(6,"Next"),o()(),a(7,"div")(8,"button",17),E("click",function(){T(e);let r=l();return x(r.submit(r.DiffusionModelAlgorithmsEnum.PTQ4DIT_GET_CALIBRATION_SET,"params_calibration_set"))}),p(9," Run "),o()()()}if(i&2){let e=l();s(),c("algorithm",e.DiffusionModelAlgorithmsEnum.PTQ4DIT_GET_CALIBRATION_SET),s(7),c("disabled",e.isScriptActive||e.form.invalid)}}function ut(i,t){i&1&&(a(0,"div",11),d(1,"ms-spining-indicator"),o())}function ft(i,t){if(i&1&&(a(0,"div",9)(1,"div",10),p(2,"Step 2: Quantization"),o(),A(3),Q(4,"async"),u(5,ut,2,0,"div",11),o()),i&2){let e=l(),n=O(4,1,e.pageRunningScriptSpiningIndicatorService.currentRunningPageInfo$);s(5),b((n==null?null:n.algKey)===e.DiffusionModelAlgorithmsEnum.PTQ4DIT_QUANT_SAMPLE?5:-1)}}function _t(i,t){if(i&1){let e=P();a(0,"div",12),d(1,"ms-panel-parameters",18,1),o(),a(3,"div",14)(4,"div",15)(5,"button",19),p(6,"Previous"),o()(),a(7,"div")(8,"button",17),E("click",function(){T(e);let r=l();return x(r.submit(r.DiffusionModelAlgorithmsEnum.PTQ4DIT_QUANT_SAMPLE,"params_quant_sample"))}),p(9," Run "),o()()()}if(i&2){let e=l();s(),c("algorithm",e.DiffusionModelAlgorithmsEnum.PTQ4DIT_QUANT_SAMPLE),s(7),c("disabled",e.isScriptActive||e.form.invalid)}}var m,C=(m=class{constructor(t,e,n){this.fb=t,this.scriptFacadeService=e,this.pageRunningScriptSpiningIndicatorService=n,this.DiffusionModelAlgorithmsEnum=M,this.isScriptActive=!1,this.DIFFUSION_MODEL_ALGORITHMS_LIST=[{key:M.PTQ4DIT_GET_CALIBRATION_SET,value:"Get calibration set"},{key:M.PTQ4DIT_QUANT_SAMPLE,value:"Quant sample"}]}ngOnInit(){this.initForm(),this.listenToScriptStateChanges()}initForm(){this.form=this.fb.group({})}listenToScriptStateChanges(){this.scriptFacadeService.scriptStatus$.pipe(j(this)).subscribe(t=>{this.isScriptActive=W(t),this.isScriptActive?this.form.disable():this.form.enable()})}submit(t,e){if(this.isScriptActive)return;let n=e==="params_calibration_set"?this.panelParametersCalibrationSet.parametersFormatted:this.panelParametersQuantSample.parametersFormatted,r={alg:t,params:n};this.scriptFacadeService.dispatch($.callScript({configs:r}))}},m.\u0275fac=function(e){return new(e||m)(S(z),S(X),S(H))},m.\u0275cmp=w({type:m,selectors:[["ms-difussion-model"]],viewQuery:function(e,n){if(e&1&&(D(st,5),D(pt,5)),e&2){let r;I(r=y())&&(n.panelParametersCalibrationSet=r.first),I(r=y())&&(n.panelParametersQuantSample=r.first)}},decls:13,vars:1,consts:[["panelParametersCalibrationSet",""],["panelParametersQuantSample",""],[1,"heading-primary-title","title"],[1,"page-wrapper",3,"formGroup"],[1,"left"],["orientation","horizontal",1,"ms-stepper"],["matStepLabel",""],["matStepContent",""],[1,"right"],[1,"step-custom-label"],[1,"step-name"],[1,"step-loader"],[1,"panel-parameters"],["controlKey","params_calibration_set",3,"algorithm"],[1,"mt-6","flex"],[1,"mr-2"],["mat-stroked-button","","matStepperNext",""],["mat-raised-button","","color","primary",3,"click","disabled"],["controlKey","params_quant_sample",3,"algorithm"],["mat-stroked-button","","matStepperPrevious",""]],template:function(e,n){e&1&&(a(0,"p",2),p(1,"Diffusion Model (PTQ4DiT)"),o(),a(2,"div",3)(3,"div",4)(4,"mat-stepper",5)(5,"mat-step"),u(6,ct,6,3,"ng-template",6)(7,dt,10,2,"ng-template",7),o(),a(8,"mat-step"),u(9,ft,6,3,"ng-template",6)(10,_t,10,2,"ng-template",7),o()()(),a(11,"div",8),d(12,"ms-terminal-xterm-with-toolbar"),o()()),e&2&&(s(2),c("formGroup",n.form))},dependencies:[h,v,U,V,q,et,Z,it,nt,ot,tt,g,k],styles:[".title[_ngcontent-%COMP%]{margin-bottom:13px}.mat-stepper-horizontal[_ngcontent-%COMP%]{background:none}.mat-stepper-horizontal[_ngcontent-%COMP%]   .mat-horizontal-content-container[_ngcontent-%COMP%]{padding-bottom:2px}.step-custom-label[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.step-custom-label[_ngcontent-%COMP%]   .step-loader[_ngcontent-%COMP%]{margin-left:10px}.panel-parameters[_ngcontent-%COMP%]{margin-top:20px}"]}),m);C=L([B()],C);var St=[{path:"",component:C}],mt=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=_({type:t}),t.\u0275inj=f({imports:[F.forChild(St),F]});let i=t;return i})();var $t=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=_({type:t}),t.\u0275inj=f({imports:[mt,G,h,v,N,R,K,N,R,Y,J,rt,g]});let i=t;return i})();export{$t as DiffusionModelModule};
