import{i as gt}from"./chunk-ZTF7MLCF.js";import{b as vt,n as Pt,s as Ot}from"./chunk-DUIITRQ3.js";import{a as pt,d as ct,h as lt,i as mt,j as ut,k as ht}from"./chunk-3DEWYFT2.js";import{Aa as a,Cb as $,Eb as K,Ec as M,H as k,Na as C,Pb as W,Sb as q,W as g,Xa as l,Xb as D,Xd as Q,Y as N,Ya as m,Z as d,Za as u,a as R,ae as Z,be as tt,ca as y,ce as et,ea as U,eb as A,fa as Y,hb as H,ib as G,j as T,je as ot,me as rt,oe as it,pb as z,qa as I,qc as J,qe as nt,rc as F,sa as S,ta as E,te as st,ua as B,uc as h,ue as at,vc as x,we as ft,xa as L,xb as b,xc as _,xe as dt,za as X}from"./chunk-ED6LLMLR.js";var c=function(e){return e.OPEN="open",e.DISMISS="dismiss",e.SAVE="save",e.CLOSE="close",e}(c||{});var w=function(e){return e.TOP="top",e.LEFT="left",e.RIGHT="right",e.BOTTOM="bottom",e}(w||{});var yt="200px",It="80px",j=w.TOP,v=150,St={top:{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-24,offsetX:-9},bottom:{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:4,offsetX:-7},left:{originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:-22,offsetY:-12},right:{originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:8,offsetY:-10}};var p=class{constructor(t){this.overlayRef=t,this.isClosing=!1,this.afterClosedSubject=new T,this.dataSubject=new T,this.data$=this.dataSubject.asObservable()}emitData(t){this.dataSubject.next(t)}backdropClick(){return this.overlayRef.backdropClick()}close(t,s=!0){this.isClosing=!0,this.afterClosedSubject.next(t),this.afterClosedSubject.complete(),this.dataSubject.complete(),setTimeout(()=>{this.overlayRef.dispose()},s?v:0)}afterClosed(){return this.afterClosedSubject.asObservable()}updatePosition(){this.overlayRef.updatePosition()}};var f=new N("POPOVER");var Et=(()=>{let t=class t{constructor(){this.activePopovers=new Map}registerPopover(o,r){this.activePopovers.set(o,r)}deregisterPopover(o){this.activePopovers.delete(o)}closePopoverById(o,r,i=!0){let n=this.activePopovers.get(o);n&&(n.close(r,i),this.activePopovers.delete(o))}closeAllPopovers(){this.activePopovers.forEach(o=>o.close()),this.activePopovers.clear()}hasActivePopover(o){return this.activePopovers.has(o)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var bt=(e,t)=>{let s={};return e&&Ct(s,e,"width"),t&&Ct(s,t,"height"),s},Ct=(e,t,s)=>{let o=kt(t);o==="px"||o==="rem"||o==="em"?e[`${s}.${o}`]=parseFloat(t):e[s]=t},kt=e=>{let s=(typeof e=="string"?e:"").match(/(px|rem|em|vw|vh|%)$/);return s?s[0]:"px"},Dt=()=>"popover-"+Math.random().toString(36).slice(2,11);var se=(()=>{let t=class t{constructor(o,r,i,n){this.overlay=o,this.injector=r,this.scrollDispatcher=i,this.popoverManager=n}open(o,r,i,n){let Tt=this.getPositionStrategy(r,i?.position??j),V=this.overlay.create(R({positionStrategy:Tt},i||{})),O=new p(V),At=I.create({parent:this.injector,providers:[{provide:p,useValue:O},{provide:f,useValue:R({position:j,closePopoverOnBackdropClick:!1,closePopoverOnEscKeyUp:!0,width:i?.width||yt,height:i?.height||It},i)}]}),Ft=new vt(o,null,At);V.attach(Ft);let _t=n??Dt();return this.popoverManager.registerPopover(_t,O),this.scrollDispatcher.scrolled().subscribe(()=>{O.updatePosition()}),O}getPositionStrategy(o,r){let i=o instanceof E?o.nativeElement:o,n=St[r];return this.overlay.position().flexibleConnectedTo(i).withFlexibleDimensions(!1).withPush(!1).withPositions([n]).withViewportMargin(0)}};t.\u0275fac=function(r){return new(r||t)(d(Ot),d(I),d(Pt),d(Et))},t.\u0275prov=g({token:t,factory:t.\u0275fac});let e=t;return e})();var xt=(()=>{let t=class t{transform(o,r){return bt(o,r)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Y({name:"iconPanelSizeStyles",type:t,pure:!0,standalone:!0});let e=t;return e})();var Nt=["*"],Mt=(()=>{let t=class t{constructor(o,r,i){this.destroyRef=o,this.popoverRef=r,this.data=i,this.actionEvent=new B,this.closeDrawerOnBackdropClick()}onClose(){this.actionEvent.emit(c.CLOSE),this.popoverRef.close({status:c.CLOSE})}onSave(){this.actionEvent.emit(c.SAVE),this.popoverRef.close({status:c.SAVE})}onDismiss(){this.actionEvent.emit(c.DISMISS),this.popoverRef.close({status:c.DISMISS})}closeDrawerOnBackdropClick(){this.data.closePopoverOnBackdropClick&&this.popoverRef.backdropClick().pipe(M(this.destroyRef)).subscribe(()=>{this.onDismiss()})}onEscKeyDown(){this.data.closePopoverOnEscKeyUp&&this.onDismiss()}};t.\u0275fac=function(r){return new(r||t)(a(S),a(p),a(f))},t.\u0275cmp=y({type:t,selectors:[["ms-popover"]],hostBindings:function(r,i){r&1&&A("keyup.esc",function(){return i.onEscKeyDown()},!1,L)},inputs:{contentTemplate:"contentTemplate"},outputs:{actionEvent:"actionEvent"},standalone:!0,features:[b],ngContentSelectors:Nt,decls:8,vars:6,consts:[[1,"tooltip-container","popover-element",3,"ngClass","ngStyle"],[1,"tooltip-arrow"],[1,"popover-content"],[1,"close-button"],["mat-icon-button","",3,"click"],["fontSet","ms","fontIcon","icon-X",1,"mat-error","size-20"]],template:function(r,i){r&1&&(H(),l(0,"div",0),$(1,"iconPanelSizeStyles"),u(2,"div",1),l(3,"div",2),G(4),m(),l(5,"div",3)(6,"button",4),A("click",function(){return i.onClose()}),u(7,"mat-icon",5),m()()()),r&2&&C("ngClass",i.data.position)("ngStyle",K(1,3,i.data.width,i.data.height))("@fadeInOut",i.popoverRef.isClosing)},dependencies:[D,W,q,dt,ft,at,st,xt],styles:[".tooltip-container[_ngcontent-%COMP%]{position:relative;background-color:var(--tooltip);color:var(--popover-color);border-radius:6px;box-shadow:0 4px 8px #0000001a;padding:10px 8px}.tooltip-arrow[_ngcontent-%COMP%]{position:absolute;width:0;height:0;border-style:solid}.tooltip-content[_ngcontent-%COMP%]{padding:12px}.tooltip-container.top[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{bottom:-10px;left:50%;transform:translate(-50%);border-width:10px 10px 0 10px;border-color:var(--tooltip) transparent transparent transparent}.tooltip-container.bottom[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:-10px;left:50%;transform:translate(-50%);border-width:0 10px 10px 10px;border-color:transparent transparent var(--tooltip) transparent}.tooltip-container.left[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{right:-10px;top:50%;transform:translateY(-50%);border-width:10px 0 10px 10px;border-color:transparent transparent transparent var(--tooltip)}.tooltip-container.right[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{left:-10px;top:50%;transform:translateY(-50%);border-width:10px 10px 10px 0;border-color:transparent var(--tooltip) transparent transparent}.close-button[_ngcontent-%COMP%]{position:absolute;right:0;top:0}"],data:{animation:[J("fadeInOut",[x("void",h({opacity:0})),x("true",h({opacity:0})),x("false",h({opacity:1})),_(":enter",[F(`${v}ms ease-in`,h({opacity:1}))]),_("false => true",[F(`${v}ms ease-out`)])])]}});let e=t;return e})();var Rt=(()=>{let t=class t{constructor(o){this.el=o}ngAfterViewInit(){setTimeout(()=>{this.el.nativeElement.focus()},0)}};t.\u0275fac=function(r){return new(r||t)(a(E))},t.\u0275dir=U({type:t,selectors:[["","msAutofocus",""]],standalone:!0});let e=t;return e})();var He=(()=>{let t=class t{get searchFormControl(){return this.searchForm.get("search")}constructor(o,r,i,n){this.destroyRef=o,this.popoverRef=r,this.iconPanelConfig=i,this.fb=n,this.searchForm=new et({})}ngOnInit(){this.initForm(),this.listenToSearchFormControlValueChanges()}initForm(){this.searchForm=this.fb.group({search:[""]})}listenToSearchFormControlValueChanges(){this.searchFormControl.valueChanges.pipe(M(this.destroyRef),k(200)).subscribe(o=>{this.popoverRef.emitData(o)})}};t.\u0275fac=function(r){return new(r||t)(a(S),a(p),a(f),a(it))},t.\u0275cmp=y({type:t,selectors:[["ms-terminal-toolbar-search-popover"]],standalone:!0,features:[b],decls:7,vars:1,consts:[[1,"form-field-container","dark",3,"formGroup"],["subscriptSizing","dynamic"],["msErrorDisplay","","matInput","","msAutofocus","","formControlName","search"],["fontSet","ms","fontIcon","icon-MagnifyingGlass","matSuffix",""]],template:function(r,i){r&1&&(l(0,"ms-popover")(1,"div",0)(2,"mat-label"),z(3," Search... "),m(),l(4,"mat-form-field",1),u(5,"input",2)(6,"mat-icon",3),m()()()),r&2&&(X(),C("formGroup",i.searchForm))},dependencies:[D,ht,ut,lt,pt,ct,mt,nt,Q,Z,tt,ot,rt,Mt,gt,Rt]});let e=t;return e})();export{c as a,w as b,Et as c,se as d,He as e};
