import{a as B,b as Nt,c as cn,d as Fe,e as H,f as U,h as De,i as Ct}from"./chunk-6GVGRTBF.js";import{a as xe}from"./chunk-DMXFRYPI.js";import{b as yt,e as Wt,i as va,k as _a,m as ya}from"./chunk-3ZHMSG5W.js";import{b as fa}from"./chunk-KK5JZLDV.js";import{$a as Le,A as Q,Aa as At,Ad as Pe,Ca as _e,Cc as Me,Cd as It,Da as Ot,Ea as ht,G as Z,Hc as be,Ja as ea,Ka as na,La as aa,Ma as ye,Md as Ut,Na as A,Oa as ia,P as pe,Pa as Ce,Qa as an,Qd as pa,Ra as rn,Sa as on,T as G,U as ge,W as Zn,Wa as ra,Ya as we,Z as fe,Za as Se,Zb as sn,Zd as Ee,_ as ve,a as x,b as T,ea as Jn,f as M,fb as oa,gb as kt,hb as sa,ib as ca,ja as S,je as ga,ka as W,m as lt,mb as la,na as ta,nc as ua,ob as ha,pb as da,qa as J,rc as ma,rd as _t,sa as L,sd as $t,ud as te,w as ot,wa as w,wd as Ae,xa as v,ya as P,yd as Ie,za as bt}from"./chunk-JA5VSLUI.js";var Mi=Object.defineProperty,bi=(s,n,a)=>n in s?Mi(s,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[n]=a,F=(s,n,a)=>bi(s,typeof n!="symbol"?n+"":n,a),Ai=class{requestAnimationFrame(s){return requestAnimationFrame(s)}cancelAnimationFrame(s){cancelAnimationFrame(s)}},Ii=class{constructor(){F(this,"_lastHandleId",0),F(this,"_lastImmediate",null)}requestAnimationFrame(s){return this._lastHandleId>=Number.MAX_SAFE_INTEGER&&(this._lastHandleId=0),this._lastHandleId+=1,this._lastImmediate=setImmediate(()=>{s(Date.now())}),this._lastHandleId}cancelAnimationFrame(s){this._lastImmediate&&clearImmediate(this._lastImmediate)}},Pi=class{constructor(){F(this,"_strategy"),this._strategy=typeof requestAnimationFrame=="function"?new Ai:new Ii}requestAnimationFrame(s){return this._strategy.requestAnimationFrame(s)}cancelAnimationFrame(s){this._strategy.cancelAnimationFrame(s)}},Et=typeof window<"u"&&typeof window.document<"u",Te={name:"@lottiefiles/dotlottie-web",version:"0.28.0",type:"module",description:"Lottie and DotLottie player for the web",repository:{type:"git",url:"git+https://github.com/LottieFiles/dotlottie-web.git",directory:"packages/web"},homepage:"https://github.com/LottieFiles/dotlottie-web#readme",bugs:"https://github.com/LottieFiles/dotlottie-web/issues",author:"LottieFiles",contributors:["Abdelrahman Ashraf <a.theashraf@gmail.com>"],license:"MIT",main:"dist/index.cjs",module:"dist/index.js",types:"dist/index.d.ts",files:["dist"],keywords:["dotlottie","lottie","player","animation","web","canvas","javascript","thorvg"],scripts:{build:"tsup",dev:"tsup --watch",lint:"eslint --fix .","stats:eslint":"cross-env TIMING=1 eslint .","stats:ts":"tsc -p tsconfig.build.json --extendedDiagnostics",test:"vitest run --browser.headless","test:coverage":"vitest run --browser.headless --coverage","test:watch":"vitest","type-check":"tsc --noEmit"},devDependencies:{"@types/node":"^20.10.5","@vitest/browser":"^1.2.2 ","@vitest/coverage-istanbul":"^1.2.2","cross-env":"7.0.3",tsup:"8.1.0",typescript:"5.0.4",vitest:"^1.2.2",webdriverio:"^8.32.0"},publishConfig:{access:"public"}},Ei=(()=>{var s=typeof document<"u"?document.currentScript?.src:void 0;return function(n={}){var a=n,c,p,_=new Promise((t,e)=>{c=t,p=e}),q=Object.assign({},a),rt="./this.program",V="";typeof document<"u"&&document.currentScript&&(V=document.currentScript.src),s&&(V=s),V.startsWith("blob:")?V="":V=V.substr(0,V.replace(/[?#].*/,"").lastIndexOf("/")+1);var xt=a.print||console.log.bind(console),Ft=a.printErr||console.error.bind(console);Object.assign(a,q),q=null,a.thisProgram&&(rt=a.thisProgram);var zt;a.wasmBinary&&(zt=a.wasmBinary);var ae,vn=!1,wt,O,Dt,Bt,z,D,_n,yn;function Cn(){var t=ae.buffer;a.HEAP8=wt=new Int8Array(t),a.HEAP16=Dt=new Int16Array(t),a.HEAPU8=O=new Uint8Array(t),a.HEAPU16=Bt=new Uint16Array(t),a.HEAP32=z=new Int32Array(t),a.HEAPU32=D=new Uint32Array(t),a.HEAPF32=_n=new Float32Array(t),a.HEAPF64=yn=new Float64Array(t)}var wn=[],Sn=[],Ln=[];function $a(){var t=a.preRun.shift();wn.unshift(t)}var St=0,Ht=null;function ie(t){throw a.onAbort?.(t),t="Aborted("+t+")",Ft(t),vn=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),p(t),t}var Mn=t=>t.startsWith("data:application/octet-stream;base64,"),Tt;if(Tt="DotLottiePlayer.wasm",!Mn(Tt)){var bn=Tt;Tt=a.locateFile?a.locateFile(bn,V):V+bn}function An(t){if(t==Tt&&zt)return new Uint8Array(zt);throw"both async and sync fetching of the wasm failed"}function Ua(t){return zt||typeof fetch!="function"?Promise.resolve().then(()=>An(t)):fetch(t,{credentials:"same-origin"}).then(e=>{if(!e.ok)throw`failed to load wasm binary file at '${t}'`;return e.arrayBuffer()}).catch(()=>An(t))}function In(t,e,i){return Ua(t).then(r=>WebAssembly.instantiate(r,e)).then(i,r=>{Ft(`failed to asynchronously prepare wasm: ${r}`),ie(r)})}function Wa(t,e){var i=Tt;return zt||typeof WebAssembly.instantiateStreaming!="function"||Mn(i)||typeof fetch!="function"?In(i,t,e):fetch(i,{credentials:"same-origin"}).then(r=>WebAssembly.instantiateStreaming(r,t).then(e,function(o){return Ft(`wasm streaming compile failed: ${o}`),Ft("falling back to ArrayBuffer instantiation"),In(i,t,e)}))}var Ue=t=>{for(;0<t.length;)t.shift()(a)},Pn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Lt=(t,e,i)=>{var r=e+i;for(i=e;t[i]&&!(i>=r);)++i;if(16<i-e&&t.buffer&&Pn)return Pn.decode(t.subarray(e,i));for(r="";e<i;){var o=t[e++];if(o&128){var l=t[e++]&63;if((o&224)==192)r+=String.fromCharCode((o&31)<<6|l);else{var u=t[e++]&63;o=(o&240)==224?(o&15)<<12|l<<6|u:(o&7)<<18|l<<12|u<<6|t[e++]&63,65536>o?r+=String.fromCharCode(o):(o-=65536,r+=String.fromCharCode(55296|o>>10,56320|o&1023))}}else r+=String.fromCharCode(o)}return r};class Na{constructor(e){this.ya=e-24}}var En=0,xn=t=>{for(var e=0,i=0;i<t.length;++i){var r=t.charCodeAt(i);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++i):e+=3}return e},Fn=(t,e,i,r)=>{if(0<r){r=i+r-1;for(var o=0;o<t.length;++o){var l=t.charCodeAt(o);if(55296<=l&&57343>=l){var u=t.charCodeAt(++o);l=65536+((l&1023)<<10)|u&1023}if(127>=l){if(i>=r)break;e[i++]=l}else{if(2047>=l){if(i+1>=r)break;e[i++]=192|l>>6}else{if(65535>=l){if(i+2>=r)break;e[i++]=224|l>>12}else{if(i+3>=r)break;e[i++]=240|l>>18,e[i++]=128|l>>12&63}e[i++]=128|l>>6&63}e[i++]=128|l&63}}e[i]=0}},re={},We=t=>{for(;t.length;){var e=t.pop();t.pop()(e)}};function Yt(t){return this.fromWireType(D[t>>2])}var Rt={},Mt={},oe={},Vt,ft=(t,e,i)=>{function r(d){if(d=i(d),d.length!==t.length)throw new Vt("Mismatched type converter count");for(var g=0;g<t.length;++g)tt(t[g],d[g])}t.forEach(function(d){oe[d]=e});var o=Array(e.length),l=[],u=0;e.forEach((d,g)=>{Mt.hasOwnProperty(d)?o[g]=Mt[d]:(l.push(d),Rt.hasOwnProperty(d)||(Rt[d]=[]),Rt[d].push(()=>{o[g]=Mt[d],++u,u===l.length&&r(o)}))}),l.length===0&&r(o)},Dn,N=t=>{for(var e="";O[t];)e+=Dn[O[t++]];return e},b;function ja(t,e,i={}){var r=e.name;if(!t)throw new b(`type "${r}" must have a positive integer typeid pointer`);if(Mt.hasOwnProperty(t)){if(i.ib)return;throw new b(`Cannot register type '${r}' twice`)}Mt[t]=e,delete oe[t],Rt.hasOwnProperty(t)&&(e=Rt[t],delete Rt[t],e.forEach(o=>o()))}function tt(t,e,i={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");return ja(t,e,i)}var Ne=t=>{throw new b(t.ma.za.xa.name+" instance already deleted")},je=!1,Tn=()=>{},Rn=(t,e,i)=>e===i?t:i.Ca===void 0?null:(t=Rn(t,e,i.Ca),t===null?null:i.ab(t)),On={},Gt=[],ze=()=>{for(;Gt.length;){var t=Gt.pop();t.ma.Ka=!1,t.delete()}},Xt,qt={},za=(t,e)=>{if(e===void 0)throw new b("ptr should not be undefined");for(;t.Ca;)e=t.Na(e),t=t.Ca;return qt[e]},se=(t,e)=>{if(!e.za||!e.ya)throw new Vt("makeClassHandle requires ptr and ptrType");if(!!e.Da!=!!e.Aa)throw new Vt("Both smartPtrType and smartPtr must be specified");return e.count={value:1},Kt(Object.create(t,{ma:{value:e,writable:!0}}))},Kt=t=>typeof FinalizationRegistry>"u"?(Kt=e=>e,t):(je=new FinalizationRegistry(e=>{e=e.ma,--e.count.value,e.count.value===0&&(e.Aa?e.Da.Fa(e.Aa):e.za.xa.Fa(e.ya))}),Kt=e=>{var i=e.ma;return i.Aa&&je.register(e,{ma:i},e),e},Tn=e=>{je.unregister(e)},Kt(t));function ce(){}var Qt=(t,e)=>Object.defineProperty(e,"name",{value:t}),kn=(t,e,i)=>{if(t[e].Ba===void 0){var r=t[e];t[e]=function(...o){if(!t[e].Ba.hasOwnProperty(o.length))throw new b(`Function '${i}' called with an invalid number of arguments (${o.length}) - expects one of (${t[e].Ba})!`);return t[e].Ba[o.length].apply(this,o)},t[e].Ba=[],t[e].Ba[r.Oa]=r}},Be=(t,e,i)=>{if(a.hasOwnProperty(t)){if(i===void 0||a[t].Ba!==void 0&&a[t].Ba[i]!==void 0)throw new b(`Cannot register public name '${t}' twice`);if(kn(a,t,t),a.hasOwnProperty(i))throw new b(`Cannot register multiple overloads of a function with the same number of arguments (${i})!`);a[t].Ba[i]=e}else a[t]=e,i!==void 0&&(a[t].vb=i)},Ba=t=>{if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var e=t.charCodeAt(0);return 48<=e&&57>=e?`_${t}`:t};function Ha(t,e,i,r,o,l,u,d){this.name=t,this.constructor=e,this.La=i,this.Fa=r,this.Ca=o,this.cb=l,this.Na=u,this.ab=d,this.kb=[]}var He=(t,e,i)=>{for(;e!==i;){if(!e.Na)throw new b(`Expected null or instance of ${i.name}, got an instance of ${e.name}`);t=e.Na(t),e=e.Ca}return t};function Ya(t,e){if(e===null){if(this.Ta)throw new b(`null is not a valid ${this.name}`);return 0}if(!e.ma)throw new b(`Cannot pass "${Qe(e)}" as a ${this.name}`);if(!e.ma.ya)throw new b(`Cannot pass deleted object as a pointer of type ${this.name}`);return He(e.ma.ya,e.ma.za.xa,this.xa)}function Va(t,e){if(e===null){if(this.Ta)throw new b(`null is not a valid ${this.name}`);if(this.Qa){var i=this.Ua();return t!==null&&t.push(this.Fa,i),i}return 0}if(!e||!e.ma)throw new b(`Cannot pass "${Qe(e)}" as a ${this.name}`);if(!e.ma.ya)throw new b(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.Pa&&e.ma.za.Pa)throw new b(`Cannot convert argument of type ${e.ma.Da?e.ma.Da.name:e.ma.za.name} to parameter type ${this.name}`);if(i=He(e.ma.ya,e.ma.za.xa,this.xa),this.Qa){if(e.ma.Aa===void 0)throw new b("Passing raw pointer to smart pointer is illegal");switch(this.pb){case 0:if(e.ma.Da===this)i=e.ma.Aa;else throw new b(`Cannot convert argument of type ${e.ma.Da?e.ma.Da.name:e.ma.za.name} to parameter type ${this.name}`);break;case 1:i=e.ma.Aa;break;case 2:if(e.ma.Da===this)i=e.ma.Aa;else{var r=e.clone();i=this.lb(i,he(()=>r.delete())),t!==null&&t.push(this.Fa,i)}break;default:throw new b("Unsupporting sharing policy")}}return i}function Ga(t,e){if(e===null){if(this.Ta)throw new b(`null is not a valid ${this.name}`);return 0}if(!e.ma)throw new b(`Cannot pass "${Qe(e)}" as a ${this.name}`);if(!e.ma.ya)throw new b(`Cannot pass deleted object as a pointer of type ${this.name}`);if(e.ma.za.Pa)throw new b(`Cannot convert argument of type ${e.ma.za.name} to parameter type ${this.name}`);return He(e.ma.ya,e.ma.za.xa,this.xa)}function Zt(t,e,i,r,o,l,u,d,g,m,f){this.name=t,this.xa=e,this.Ta=i,this.Pa=r,this.Qa=o,this.jb=l,this.pb=u,this.Za=d,this.Ua=g,this.lb=m,this.Fa=f,o||e.Ca!==void 0?this.toWireType=Va:(this.toWireType=r?Ya:Ga,this.Ea=null)}var $n=(t,e,i)=>{if(!a.hasOwnProperty(t))throw new Vt("Replacing nonexistent public symbol");a[t].Ba!==void 0&&i!==void 0?a[t].Ba[i]=e:(a[t]=e,a[t].Oa=i)},K,Xa=(t,e,i=[])=>(t.includes("j")?(t=t.replace(/p/g,"i"),e=(0,a["dynCall_"+t])(e,...i)):e=K.get(e)(...i),e),qa=(t,e)=>(...i)=>Xa(t,e,i),Y=(t,e)=>{t=N(t);var i=t.includes("j")?qa(t,e):K.get(e);if(typeof i!="function")throw new b(`unknown function pointer with signature ${t}: ${e}`);return i},Un,Wn=t=>{t=Xn(t);var e=N(t);return ct(t),e},le=(t,e)=>{function i(l){o[l]||Mt[l]||(oe[l]?oe[l].forEach(i):(r.push(l),o[l]=!0))}var r=[],o={};throw e.forEach(i),new Un(`${t}: `+r.map(Wn).join([", "]))},Ye=(t,e)=>{for(var i=[],r=0;r<t;r++)i.push(D[e+4*r>>2]);return i};function Ka(t){for(var e=1;e<t.length;++e)if(t[e]!==null&&t[e].Ea===void 0)return!0;return!1}function Ve(t,e,i,r,o){var l=e.length;if(2>l)throw new b("argTypes array size mismatch! Must at least get return value and 'this' types!");var u=e[1]!==null&&i!==null,d=Ka(e),g=e[0].name!=="void",m=l-2,f=Array(m),I=[],E=[];return Qt(t,function(...h){if(h.length!==m)throw new b(`function ${t} called with ${h.length} arguments, expected ${m}`);if(E.length=0,I.length=u?2:1,I[0]=o,u){var y=e[1].toWireType(E,this);I[1]=y}for(var C=0;C<m;++C)f[C]=e[C+2].toWireType(E,h[C]),I.push(f[C]);if(h=r(...I),d)We(E);else for(C=u?1:2;C<e.length;C++){var $=C===1?y:f[C-2];e[C].Ea!==null&&e[C].Ea($)}return y=g?e[0].fromWireType(h):void 0,y})}var Nn=t=>{t=t.trim();let e=t.indexOf("(");return e!==-1?t.substr(0,e):t},Ge=[],st=[],Xe=t=>{9<t&&--st[t+1]===0&&(st[t]=void 0,Ge.push(t))},qe=t=>{if(!t)throw new b("Cannot use deleted val. handle = "+t);return st[t]},he=t=>{switch(t){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:let e=Ge.pop()||st.length;return st[e]=t,st[e+1]=1,e}},jn={name:"emscripten::val",fromWireType:t=>{var e=qe(t);return Xe(t),e},toWireType:(t,e)=>he(e),argPackAdvance:8,readValueFromPointer:Yt,Ea:null},Qa=(t,e,i)=>{switch(e){case 1:return i?function(r){return this.fromWireType(wt[r])}:function(r){return this.fromWireType(O[r])};case 2:return i?function(r){return this.fromWireType(Dt[r>>1])}:function(r){return this.fromWireType(Bt[r>>1])};case 4:return i?function(r){return this.fromWireType(z[r>>2])}:function(r){return this.fromWireType(D[r>>2])};default:throw new TypeError(`invalid integer width (${e}): ${t}`)}},Ke=(t,e)=>{var i=Mt[t];if(i===void 0)throw t=`${e} has unknown type ${Wn(t)}`,new b(t);return i},Qe=t=>{if(t===null)return"null";var e=typeof t;return e==="object"||e==="array"||e==="function"?t.toString():""+t},Za=(t,e)=>{switch(e){case 4:return function(i){return this.fromWireType(_n[i>>2])};case 8:return function(i){return this.fromWireType(yn[i>>3])};default:throw new TypeError(`invalid float width (${e}): ${t}`)}},Ja=(t,e,i)=>{switch(e){case 1:return i?r=>wt[r]:r=>O[r];case 2:return i?r=>Dt[r>>1]:r=>Bt[r>>1];case 4:return i?r=>z[r>>2]:r=>D[r>>2];default:throw new TypeError(`invalid integer width (${e}): ${t}`)}},zn=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,ti=(t,e)=>{for(var i=t>>1,r=i+e/2;!(i>=r)&&Bt[i];)++i;if(i<<=1,32<i-t&&zn)return zn.decode(O.subarray(t,i));for(i="",r=0;!(r>=e/2);++r){var o=Dt[t+2*r>>1];if(o==0)break;i+=String.fromCharCode(o)}return i},ei=(t,e,i)=>{if(i??(i=2147483647),2>i)return 0;i-=2;var r=e;i=i<2*t.length?i/2:t.length;for(var o=0;o<i;++o)Dt[e>>1]=t.charCodeAt(o),e+=2;return Dt[e>>1]=0,e-r},ni=t=>2*t.length,ai=(t,e)=>{for(var i=0,r="";!(i>=e/4);){var o=z[t+4*i>>2];if(o==0)break;++i,65536<=o?(o-=65536,r+=String.fromCharCode(55296|o>>10,56320|o&1023)):r+=String.fromCharCode(o)}return r},ii=(t,e,i)=>{if(i??(i=2147483647),4>i)return 0;var r=e;i=r+i-4;for(var o=0;o<t.length;++o){var l=t.charCodeAt(o);if(55296<=l&&57343>=l){var u=t.charCodeAt(++o);l=65536+((l&1023)<<10)|u&1023}if(z[e>>2]=l,e+=4,e+4>i)break}return z[e>>2]=0,e-r},ri=t=>{for(var e=0,i=0;i<t.length;++i){var r=t.charCodeAt(i);55296<=r&&57343>=r&&++i,e+=4}return e},Ze=[],oi=t=>{var e=Ze.length;return Ze.push(t),e},si=(t,e)=>{for(var i=Array(t),r=0;r<t;++r)i[r]=Ke(D[e+4*r>>2],"parameter "+r);return i},ci=Reflect.construct,Je={},Bn=()=>{if(!tn){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:rt||"./this.program"},e;for(e in Je)Je[e]===void 0?delete t[e]:t[e]=Je[e];var i=[];for(e in t)i.push(`${e}=${t[e]}`);tn=i}return tn},tn,li=[null,[],[]],hi=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return t=>crypto.getRandomValues(t);ie("initRandomDevice")},Hn=t=>(Hn=hi())(t),de=t=>t%4===0&&(t%100!==0||t%400===0),Yn=[31,29,31,30,31,30,31,31,30,31,30,31],Vn=[31,28,31,30,31,30,31,31,30,31,30,31];function di(t){var e=Array(xn(t)+1);return Fn(t,e,0,e.length),e}var ui=(t,e,i,r)=>{function o(h,y,C){for(h=typeof h=="number"?h.toString():h||"";h.length<y;)h=C[0]+h;return h}function l(h,y){return o(h,y,"0")}function u(h,y){function C(vt){return 0>vt?-1:0<vt?1:0}var $;return($=C(h.getFullYear()-y.getFullYear()))===0&&($=C(h.getMonth()-y.getMonth()))===0&&($=C(h.getDate()-y.getDate())),$}function d(h){switch(h.getDay()){case 0:return new Date(h.getFullYear()-1,11,29);case 1:return h;case 2:return new Date(h.getFullYear(),0,3);case 3:return new Date(h.getFullYear(),0,2);case 4:return new Date(h.getFullYear(),0,1);case 5:return new Date(h.getFullYear()-1,11,31);case 6:return new Date(h.getFullYear()-1,11,30)}}function g(h){var y=h.Ia;for(h=new Date(new Date(h.Ja+1900,0,1).getTime());0<y;){var C=h.getMonth(),$=(de(h.getFullYear())?Yn:Vn)[C];if(y>$-h.getDate())y-=$-h.getDate()+1,h.setDate(1),11>C?h.setMonth(C+1):(h.setMonth(0),h.setFullYear(h.getFullYear()+1));else{h.setDate(h.getDate()+y);break}}return C=new Date(h.getFullYear()+1,0,4),y=d(new Date(h.getFullYear(),0,4)),C=d(C),0>=u(y,h)?0>=u(C,h)?h.getFullYear()+1:h.getFullYear():h.getFullYear()-1}var m=D[r+40>>2];r={sb:z[r>>2],rb:z[r+4>>2],Ra:z[r+8>>2],Va:z[r+12>>2],Sa:z[r+16>>2],Ja:z[r+20>>2],Ga:z[r+24>>2],Ia:z[r+28>>2],wb:z[r+32>>2],qb:z[r+36>>2],tb:m&&m?Lt(O,m):""},i=i?Lt(O,i):"",m={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var f in m)i=i.replace(new RegExp(f,"g"),m[f]);var I="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),E="January February March April May June July August September October November December".split(" ");m={"%a":h=>I[h.Ga].substring(0,3),"%A":h=>I[h.Ga],"%b":h=>E[h.Sa].substring(0,3),"%B":h=>E[h.Sa],"%C":h=>l((h.Ja+1900)/100|0,2),"%d":h=>l(h.Va,2),"%e":h=>o(h.Va,2," "),"%g":h=>g(h).toString().substring(2),"%G":g,"%H":h=>l(h.Ra,2),"%I":h=>(h=h.Ra,h==0?h=12:12<h&&(h-=12),l(h,2)),"%j":h=>{for(var y=0,C=0;C<=h.Sa-1;y+=(de(h.Ja+1900)?Yn:Vn)[C++]);return l(h.Va+y,3)},"%m":h=>l(h.Sa+1,2),"%M":h=>l(h.rb,2),"%n":()=>`
`,"%p":h=>0<=h.Ra&&12>h.Ra?"AM":"PM","%S":h=>l(h.sb,2),"%t":()=>"	","%u":h=>h.Ga||7,"%U":h=>l(Math.floor((h.Ia+7-h.Ga)/7),2),"%V":h=>{var y=Math.floor((h.Ia+7-(h.Ga+6)%7)/7);if(2>=(h.Ga+371-h.Ia-2)%7&&y++,y)y==53&&(C=(h.Ga+371-h.Ia)%7,C==4||C==3&&de(h.Ja)||(y=1));else{y=52;var C=(h.Ga+7-h.Ia-1)%7;(C==4||C==5&&de(h.Ja%400-1))&&y++}return l(y,2)},"%w":h=>h.Ga,"%W":h=>l(Math.floor((h.Ia+7-(h.Ga+6)%7)/7),2),"%y":h=>(h.Ja+1900).toString().substring(2),"%Y":h=>h.Ja+1900,"%z":h=>{h=h.qb;var y=0<=h;return h=Math.abs(h)/60,(y?"+":"-")+("0000"+(h/60*100+h%60)).slice(-4)},"%Z":h=>h.tb,"%%":()=>"%"},i=i.replace(/%%/g,"\0\0");for(f in m)i.includes(f)&&(i=i.replace(new RegExp(f,"g"),m[f](r)));return i=i.replace(/\0\0/g,"%"),f=di(i),f.length>e?0:(wt.set(f,t),f.length-1)};Vt=a.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}};for(var Gn=Array(256),ue=0;256>ue;++ue)Gn[ue]=String.fromCharCode(ue);Dn=Gn,b=a.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Object.assign(ce.prototype,{isAliasOf:function(t){if(!(this instanceof ce&&t instanceof ce))return!1;var e=this.ma.za.xa,i=this.ma.ya;t.ma=t.ma;var r=t.ma.za.xa;for(t=t.ma.ya;e.Ca;)i=e.Na(i),e=e.Ca;for(;r.Ca;)t=r.Na(t),r=r.Ca;return e===r&&i===t},clone:function(){if(this.ma.ya||Ne(this),this.ma.Ma)return this.ma.count.value+=1,this;var t=Kt,e=Object,i=e.create,r=Object.getPrototypeOf(this),o=this.ma;return t=t(i.call(e,r,{ma:{value:{count:o.count,Ka:o.Ka,Ma:o.Ma,ya:o.ya,za:o.za,Aa:o.Aa,Da:o.Da}}})),t.ma.count.value+=1,t.ma.Ka=!1,t},delete(){if(this.ma.ya||Ne(this),this.ma.Ka&&!this.ma.Ma)throw new b("Object already scheduled for deletion");Tn(this);var t=this.ma;--t.count.value,t.count.value===0&&(t.Aa?t.Da.Fa(t.Aa):t.za.xa.Fa(t.ya)),this.ma.Ma||(this.ma.Aa=void 0,this.ma.ya=void 0)},isDeleted:function(){return!this.ma.ya},deleteLater:function(){if(this.ma.ya||Ne(this),this.ma.Ka&&!this.ma.Ma)throw new b("Object already scheduled for deletion");return Gt.push(this),Gt.length===1&&Xt&&Xt(ze),this.ma.Ka=!0,this}}),a.getInheritedInstanceCount=()=>Object.keys(qt).length,a.getLiveInheritedInstances=()=>{var t=[],e;for(e in qt)qt.hasOwnProperty(e)&&t.push(qt[e]);return t},a.flushPendingDeletes=ze,a.setDelayFunction=t=>{Xt=t,Gt.length&&Xt&&Xt(ze)},Object.assign(Zt.prototype,{eb(t){return this.Za&&(t=this.Za(t)),t},Xa(t){this.Fa?.(t)},argPackAdvance:8,readValueFromPointer:Yt,fromWireType:function(t){function e(){return this.Qa?se(this.xa.La,{za:this.jb,ya:i,Da:this,Aa:t}):se(this.xa.La,{za:this,ya:t})}var i=this.eb(t);if(!i)return this.Xa(t),null;var r=za(this.xa,i);if(r!==void 0)return r.ma.count.value===0?(r.ma.ya=i,r.ma.Aa=t,r.clone()):(r=r.clone(),this.Xa(t),r);if(r=this.xa.cb(i),r=On[r],!r)return e.call(this);r=this.Pa?r.$a:r.pointerType;var o=Rn(i,this.xa,r.xa);return o===null?e.call(this):this.Qa?se(r.xa.La,{za:r,ya:o,Da:this,Aa:t}):se(r.xa.La,{za:r,ya:o})}}),Un=a.UnboundTypeError=((t,e)=>{var i=Qt(e,function(r){this.name=e,this.message=r,r=Error(r).stack,r!==void 0&&(this.stack=this.toString()+`
`+r.replace(/^Error(:[^\n]*)?\n/,""))});return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},i})(Error,"UnboundTypeError"),st.push(0,1,void 0,1,null,1,!0,1,!1,1),a.count_emval_handles=()=>st.length/2-5-Ge.length;var mi={c:(t,e,i,r)=>{ie(`Assertion failed: ${t?Lt(O,t):""}, at: `+[e?e?Lt(O,e):"":"unknown filename",i,r?r?Lt(O,r):"":"unknown function"])},m:(t,e,i)=>{var r=new Na(t);throw D[r.ya+16>>2]=0,D[r.ya+4>>2]=e,D[r.ya+8>>2]=i,En=t,En},B:function(){return 0},P:()=>{},M:()=>{},R:function(){return 0},N:()=>{},A:function(){},O:()=>{},v:t=>{var e=re[t];delete re[t];var i=e.Ua,r=e.Fa,o=e.Ya,l=o.map(u=>u.hb).concat(o.map(u=>u.nb));ft([t],l,u=>{var d={};return o.forEach((g,m)=>{var f=u[m],I=g.fb,E=g.gb,h=u[m+o.length],y=g.mb,C=g.ob;d[g.bb]={read:$=>f.fromWireType(I(E,$)),write:($,vt)=>{var X=[];y(C,$,h.toWireType(X,vt)),We(X)}}}),[{name:e.name,fromWireType:g=>{var m={},f;for(f in d)m[f]=d[f].read(g);return r(g),m},toWireType:(g,m)=>{for(var f in d)if(!(f in m))throw new TypeError(`Missing field: "${f}"`);var I=i();for(f in d)d[f].write(I,m[f]);return g!==null&&g.push(r,I),I},argPackAdvance:8,readValueFromPointer:Yt,Ea:r}]})},I:()=>{},Y:(t,e,i,r)=>{e=N(e),tt(t,{name:e,fromWireType:function(o){return!!o},toWireType:function(o,l){return l?i:r},argPackAdvance:8,readValueFromPointer:function(o){return this.fromWireType(O[o])},Ea:null})},r:(t,e,i,r,o,l,u,d,g,m,f,I,E)=>{f=N(f),l=Y(o,l),d&&(d=Y(u,d)),m&&(m=Y(g,m)),E=Y(I,E);var h=Ba(f);Be(h,function(){le(`Cannot construct ${f} due to unbound types`,[r])}),ft([t,e,i],r?[r]:[],y=>{if(y=y[0],r)var C=y.xa,$=C.La;else $=ce.prototype;y=Qt(f,function(...nn){if(Object.getPrototypeOf(this)!==vt)throw new b("Use 'new' to construct "+f);if(X.Ha===void 0)throw new b(f+" has no accessible constructor");var Qn=X.Ha[nn.length];if(Qn===void 0)throw new b(`Tried to invoke ctor of ${f} with invalid number of parameters (${nn.length}) - expected (${Object.keys(X.Ha).toString()}) parameters instead!`);return Qn.apply(this,nn)});var vt=Object.create($,{constructor:{value:y}});y.prototype=vt;var X=new Ha(f,y,vt,E,C,l,d,m);if(X.Ca){var Jt;(Jt=X.Ca).Wa??(Jt.Wa=[]),X.Ca.Wa.push(X)}return C=new Zt(f,X,!0,!1,!1),Jt=new Zt(f+"*",X,!1,!1,!1),$=new Zt(f+" const*",X,!1,!0,!1),On[t]={pointerType:Jt,$a:$},$n(h,y),[C,Jt,$]})},q:(t,e,i,r,o,l)=>{var u=Ye(e,i);o=Y(r,o),ft([],[t],d=>{d=d[0];var g=`constructor ${d.name}`;if(d.xa.Ha===void 0&&(d.xa.Ha=[]),d.xa.Ha[e-1]!==void 0)throw new b(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${d.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return d.xa.Ha[e-1]=()=>{le(`Cannot construct ${d.name} due to unbound types`,u)},ft([],u,m=>(m.splice(1,0,null),d.xa.Ha[e-1]=Ve(g,m,null,o,l),[])),[]})},f:(t,e,i,r,o,l,u,d)=>{var g=Ye(i,r);e=N(e),e=Nn(e),l=Y(o,l),ft([],[t],m=>{function f(){le(`Cannot call ${I} due to unbound types`,g)}m=m[0];var I=`${m.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]),d&&m.xa.kb.push(e);var E=m.xa.La,h=E[e];return h===void 0||h.Ba===void 0&&h.className!==m.name&&h.Oa===i-2?(f.Oa=i-2,f.className=m.name,E[e]=f):(kn(E,e,I),E[e].Ba[i-2]=f),ft([],g,y=>(y=Ve(I,y,m,l,u),E[e].Ba===void 0?(y.Oa=i-2,E[e]=y):E[e].Ba[i-2]=y,[])),[]})},X:t=>tt(t,jn),x:(t,e,i,r)=>{function o(){}e=N(e),o.values={},tt(t,{name:e,constructor:o,fromWireType:function(l){return this.constructor.values[l]},toWireType:(l,u)=>u.value,argPackAdvance:8,readValueFromPointer:Qa(e,i,r),Ea:null}),Be(e,o)},k:(t,e,i)=>{var r=Ke(t,"enum");e=N(e),t=r.constructor,r=Object.create(r.constructor.prototype,{value:{value:i},constructor:{value:Qt(`${r.name}_${e}`,function(){})}}),t.values[i]=r,t[e]=r},C:(t,e,i)=>{e=N(e),tt(t,{name:e,fromWireType:r=>r,toWireType:(r,o)=>o,argPackAdvance:8,readValueFromPointer:Za(e,i),Ea:null})},E:(t,e,i,r,o,l)=>{var u=Ye(e,i);t=N(t),t=Nn(t),o=Y(r,o),Be(t,function(){le(`Cannot call ${t} due to unbound types`,u)},e-1),ft([],u,d=>($n(t,Ve(t,[d[0],null].concat(d.slice(1)),null,o,l),e-1),[]))},l:(t,e,i,r,o)=>{if(e=N(e),o===-1&&(o=4294967295),o=d=>d,r===0){var l=32-8*i;o=d=>d<<l>>>l}var u=e.includes("unsigned")?function(d,g){return g>>>0}:function(d,g){return g};tt(t,{name:e,fromWireType:o,toWireType:u,argPackAdvance:8,readValueFromPointer:Ja(e,i,r!==0),Ea:null})},g:(t,e,i)=>{function r(l){return new o(wt.buffer,D[l+4>>2],D[l>>2])}var o=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];i=N(i),tt(t,{name:i,fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{ib:!0})},w:t=>{tt(t,jn)},ca:(t,e,i,r,o,l,u,d,g,m,f,I)=>{i=N(i),l=Y(o,l),d=Y(u,d),m=Y(g,m),I=Y(f,I),ft([t],[e],E=>(E=E[0],[new Zt(i,E.xa,!1,!1,!0,E,r,l,d,m,I)]))},D:(t,e)=>{e=N(e);var i=e==="std::string";tt(t,{name:e,fromWireType:function(r){var o=D[r>>2],l=r+4;if(i)for(var u=l,d=0;d<=o;++d){var g=l+d;if(d==o||O[g]==0){if(u=u?Lt(O,u,g-u):"",m===void 0)var m=u;else m+="\0",m+=u;u=g+1}}else{for(m=Array(o),d=0;d<o;++d)m[d]=String.fromCharCode(O[l+d]);m=m.join("")}return ct(r),m},toWireType:function(r,o){o instanceof ArrayBuffer&&(o=new Uint8Array(o));var l=typeof o=="string";if(!(l||o instanceof Uint8Array||o instanceof Uint8ClampedArray||o instanceof Int8Array))throw new b("Cannot pass non-string to std::string");var u=i&&l?xn(o):o.length,d=en(4+u+1),g=d+4;if(D[d>>2]=u,i&&l)Fn(o,O,g,u+1);else if(l)for(l=0;l<u;++l){var m=o.charCodeAt(l);if(255<m)throw ct(g),new b("String has UTF-16 code units that do not fit in 8 bits");O[g+l]=m}else for(l=0;l<u;++l)O[g+l]=o[l];return r!==null&&r.push(ct,d),d},argPackAdvance:8,readValueFromPointer:Yt,Ea(r){ct(r)}})},u:(t,e,i)=>{if(i=N(i),e===2)var r=ti,o=ei,l=ni,u=d=>Bt[d>>1];else e===4&&(r=ai,o=ii,l=ri,u=d=>D[d>>2]);tt(t,{name:i,fromWireType:d=>{for(var g=D[d>>2],m,f=d+4,I=0;I<=g;++I){var E=d+4+I*e;(I==g||u(E)==0)&&(f=r(f,E-f),m===void 0?m=f:(m+="\0",m+=f),f=E+e)}return ct(d),m},toWireType:(d,g)=>{if(typeof g!="string")throw new b(`Cannot pass non-string to C++ string type ${i}`);var m=l(g),f=en(4+m+e);return D[f>>2]=m/e,o(g,f+4,m+e),d!==null&&d.push(ct,f),f},argPackAdvance:8,readValueFromPointer:Yt,Ea(d){ct(d)}})},s:(t,e,i,r,o,l)=>{re[t]={name:N(e),Ua:Y(i,r),Fa:Y(o,l),Ya:[]}},j:(t,e,i,r,o,l,u,d,g,m)=>{re[t].Ya.push({bb:N(e),hb:i,fb:Y(r,o),gb:l,nb:u,mb:Y(d,g),ob:m})},Z:(t,e)=>{e=N(e),tt(t,{ub:!0,name:e,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},J:()=>{throw 1/0},aa:(t,e,i,r)=>(t=Ze[t],e=qe(e),t(null,e,i,r)),F:Xe,$:(t,e,i)=>{var r=si(t,e),o=r.shift();t--;var l=Array(t);return e=`methodCaller<(${r.map(u=>u.name).join(", ")}) => ${o.name}>`,oi(Qt(e,(u,d,g,m)=>{for(var f=0,I=0;I<t;++I)l[I]=r[I].readValueFromPointer(m+f),f+=r[I].argPackAdvance;return d=i===1?ci(d,l):d.apply(u,l),u=[],d=o.toWireType(u,d),u.length&&(D[g>>2]=he(u)),d}))},ba:t=>{9<t&&(st[t+1]+=1)},_:t=>{var e=qe(t);We(e),Xe(t)},o:(t,e)=>(t=Ke(t,"_emval_take_value"),t=t.readValueFromPointer(e),he(t)),W:()=>{ie("")},V:()=>performance.now(),L:t=>{var e=O.length;if(t>>>=0,2147483648<t)return!1;for(var i=1;4>=i;i*=2){var r=e*(1+.2/i);r=Math.min(r,t+100663296);var o=Math;r=Math.max(t,r);t:{o=(o.min.call(o,2147483648,r+(65536-r%65536)%65536)-ae.buffer.byteLength+65535)/65536;try{ae.grow(o),Cn();var l=1;break t}catch{}l=void 0}if(l)return!0}return!1},S:(t,e)=>{var i=0;return Bn().forEach((r,o)=>{var l=e+i;for(o=D[t+4*o>>2]=l,l=0;l<r.length;++l)wt[o++]=r.charCodeAt(l);wt[o]=0,i+=r.length+1}),0},T:(t,e)=>{var i=Bn();D[t>>2]=i.length;var r=0;return i.forEach(o=>r+=o.length+1),D[e>>2]=r,0},t:()=>52,z:()=>52,H:function(){return 70},Q:(t,e,i,r)=>{for(var o=0,l=0;l<i;l++){var u=D[e>>2],d=D[e+4>>2];e+=8;for(var g=0;g<d;g++){var m=O[u+g],f=li[t];m===0||m===10?((t===1?xt:Ft)(Lt(f,0)),f.length=0):f.push(m)}o+=d}return D[r>>2]=o,0},U:(t,e)=>(Hn(O.subarray(t,t+e)),0),i:_i,d:vi,e:fi,p:yi,y:Si,b:pi,a:gi,h:wi,n:Ci,G:Li,K:(t,e,i,r)=>ui(t,e,i,r)},k=function(){function t(i){return k=i.exports,ae=k.da,Cn(),K=k.ha,Sn.unshift(k.ea),St--,a.monitorRunDependencies?.(St),St==0&&Ht&&(i=Ht,Ht=null,i()),k}var e={a:mi};if(St++,a.monitorRunDependencies?.(St),a.instantiateWasm)try{return a.instantiateWasm(e,t)}catch(i){Ft(`Module.instantiateWasm callback failed with error: ${i}`),p(i)}return Wa(e,function(i){t(i.instance)}).catch(p),{}}(),en=t=>(en=k.fa)(t),Xn=t=>(Xn=k.ga)(t),ct=t=>(ct=k.ia)(t),et=(t,e)=>(et=k.ja)(t,e),nt=t=>(nt=k.ka)(t),at=()=>(at=k.la)();a.dynCall_iijj=(t,e,i,r,o,l)=>(a.dynCall_iijj=k.na)(t,e,i,r,o,l),a.dynCall_vijj=(t,e,i,r,o,l)=>(a.dynCall_vijj=k.oa)(t,e,i,r,o,l),a.dynCall_jiii=(t,e,i,r)=>(a.dynCall_jiii=k.pa)(t,e,i,r),a.dynCall_jii=(t,e,i)=>(a.dynCall_jii=k.qa)(t,e,i);var qn=a.dynCall_viiij=(t,e,i,r,o,l)=>(qn=a.dynCall_viiij=k.ra)(t,e,i,r,o,l);a.dynCall_jiji=(t,e,i,r,o)=>(a.dynCall_jiji=k.sa)(t,e,i,r,o),a.dynCall_viijii=(t,e,i,r,o,l,u)=>(a.dynCall_viijii=k.ta)(t,e,i,r,o,l,u),a.dynCall_iiiiij=(t,e,i,r,o,l,u)=>(a.dynCall_iiiiij=k.ua)(t,e,i,r,o,l,u),a.dynCall_iiiiijj=(t,e,i,r,o,l,u,d,g)=>(a.dynCall_iiiiijj=k.va)(t,e,i,r,o,l,u,d,g),a.dynCall_iiiiiijj=(t,e,i,r,o,l,u,d,g,m)=>(a.dynCall_iiiiiijj=k.wa)(t,e,i,r,o,l,u,d,g,m);function pi(t,e){var i=at();try{K.get(t)(e)}catch(r){if(nt(i),r!==r+0)throw r;et(1,0)}}function gi(t,e,i){var r=at();try{K.get(t)(e,i)}catch(o){if(nt(r),o!==o+0)throw o;et(1,0)}}function fi(t,e,i,r){var o=at();try{return K.get(t)(e,i,r)}catch(l){if(nt(o),l!==l+0)throw l;et(1,0)}}function vi(t,e,i){var r=at();try{return K.get(t)(e,i)}catch(o){if(nt(r),o!==o+0)throw o;et(1,0)}}function _i(t,e){var i=at();try{return K.get(t)(e)}catch(r){if(nt(i),r!==r+0)throw r;et(1,0)}}function yi(t,e,i,r,o,l){var u=at();try{return K.get(t)(e,i,r,o,l)}catch(d){if(nt(u),d!==d+0)throw d;et(1,0)}}function Ci(t,e,i,r,o){var l=at();try{K.get(t)(e,i,r,o)}catch(u){if(nt(l),u!==u+0)throw u;et(1,0)}}function wi(t,e,i,r){var o=at();try{K.get(t)(e,i,r)}catch(l){if(nt(o),l!==l+0)throw l;et(1,0)}}function Si(t){var e=at();try{K.get(t)()}catch(i){if(nt(e),i!==i+0)throw i;et(1,0)}}function Li(t,e,i,r,o,l){var u=at();try{qn(t,e,i,r,o,l)}catch(d){if(nt(u),d!==d+0)throw d;et(1,0)}}var me;Ht=function t(){me||Kn(),me||(Ht=t)};function Kn(){function t(){if(!me&&(me=!0,a.calledRun=!0,!vn)){if(Ue(Sn),c(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;){var e=a.postRun.shift();Ln.unshift(e)}Ue(Ln)}}if(!(0<St)){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)$a();Ue(wn),0<St||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),t()},1)):t())}}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();return Kn(),_}})(),xi=Ei,Re=class{constructor(){throw new Error("RendererLoader is a static class and cannot be instantiated.")}static _tryLoad(s){return M(this,null,function*(){return yield xi({locateFile:()=>s})})}static _loadWithBackup(){return M(this,null,function*(){return this._ModulePromise||(this._ModulePromise=this._tryLoad(this._wasmURL).catch(s=>M(this,null,function*(){let n=`https://unpkg.com/${Te.name}@${Te.version}/dist/dotlottie-player.wasm`;console.warn(`Primary WASM load failed from ${this._wasmURL}. Error: ${s.message}`),console.warn(`Attempting to load WASM from backup URL: ${n}`);try{return yield this._tryLoad(n)}catch(a){throw console.error(`Primary WASM URL failed: ${s.message}`),console.error(`Backup WASM URL failed: ${a.message}`),new Error("WASM loading failed from all sources.")}}))),this._ModulePromise})}static load(){return M(this,null,function*(){return this._loadWithBackup()})}static setWasmUrl(s){this._wasmURL=s,this._ModulePromise=null}};F(Re,"_ModulePromise",null),F(Re,"_wasmURL",`https://cdn.jsdelivr.net/npm/${Te.name}@${Te.version}/dist/dotlottie-player.wasm`);var La=class{constructor(){F(this,"_eventListeners",new Map)}addEventListener(s,n){let a=this._eventListeners.get(s);a||(a=new Set,this._eventListeners.set(s,a)),a.add(n)}removeEventListener(s,n){let a=this._eventListeners.get(s);a&&(n?(a.delete(n),a.size===0&&this._eventListeners.delete(s)):this._eventListeners.delete(s))}dispatch(s){this._eventListeners.get(s.type)?.forEach(n=>n(s))}removeAllEventListeners(){this._eventListeners.clear()}};function Fi(s){return/^#([\da-f]{6}|[\da-f]{8})$/iu.test(s)}function Di(s){if(!Fi(s))return 0;let n=s.replace("#","");return n=n.length===6?`${n}ff`:n,parseInt(n,16)}var ln=(s,n)=>s==="reverse"?n.Mode.Reverse:s==="bounce"?n.Mode.Bounce:s==="reverse-bounce"?n.Mode.ReverseBounce:n.Mode.Forward,hn=(s,n)=>s==="contain"?n.Fit.Contain:s==="cover"?n.Fit.Cover:s==="fill"?n.Fit.Fill:s==="fit-height"?n.Fit.FitHeight:s==="fit-width"?n.Fit.FitWidth:n.Fit.None,dn=(s,n)=>{let a=new n.VectorFloat;return a.push_back(s[0]),a.push_back(s[1]),a},un=(s,n)=>{let a=new n.VectorFloat;return s.length!==2||(a.push_back(s[0]),a.push_back(s[1])),a},Ma=class R{constructor(n){F(this,"_canvas"),F(this,"_context",null),F(this,"_eventManager"),F(this,"_animationFrameId",null),F(this,"_frameManager"),F(this,"_dotLottieCore",null),F(this,"_renderConfig",{}),F(this,"_isFrozen",!1),F(this,"_backgroundColor",null),this._canvas=n.canvas,this._context=this._canvas.getContext("2d"),this._eventManager=new La,this._frameManager=new Pi,this._renderConfig=n.renderConfig??{},Re.load().then(a=>{R._wasmModule=a,this._dotLottieCore=new a.DotLottiePlayer({autoplay:n.autoplay??!1,backgroundColor:0,loopAnimation:n.loop??!1,mode:ln(n.mode??"forward",a),segment:un(n.segment??[],a),speed:n.speed??1,useFrameInterpolation:n.useFrameInterpolation??!0,marker:n.marker??"",layout:n.layout?{align:dn(n.layout.align,a),fit:hn(n.layout.fit,a)}:a.createDefaultLayout()}),this._eventManager.dispatch({type:"ready"}),n.data?this._loadFromData(n.data):n.src&&this._loadFromSrc(n.src),n.backgroundColor&&this.setBackgroundColor(n.backgroundColor)}).catch(a=>{this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to load wasm module: ${a}`)})})}_loadFromSrc(n){function a(){return M(this,null,function*(){let c=yield fetch(n);if(!c.ok)throw new Error(`Failed to fetch the animation data from URL: ${n}. ${c.status}: ${c.statusText}`);let p=(c.headers.get("content-type")??"").trim(),_;return["application/json","text/plain"].some(q=>p.startsWith(q))?_=yield c.text():_=yield c.arrayBuffer(),_})}a().then(c=>{this._loadFromData(c)}).catch(c=>{this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to load animation data from URL: ${n}. ${c}`)})})}_loadFromData(n){if(this._dotLottieCore===null)return;let a=this._canvas.width,c=this._canvas.height,p=!1;if(typeof n=="string")p=this._dotLottieCore.loadAnimationData(n,a,c);else if(n instanceof ArrayBuffer)p=this._dotLottieCore.loadDotLottieData(n,a,c);else if(typeof n=="object")p=this._dotLottieCore.loadAnimationData(JSON.stringify(n),a,c);else{this._eventManager.dispatch({type:"loadError",error:new Error("Unsupported data type for animation data. Expected a string or ArrayBuffer.")});return}p?(this._eventManager.dispatch({type:"load"}),Et&&this.resize(),this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render(),this._dotLottieCore.config().autoplay&&(this._dotLottieCore.play(),this._dotLottieCore.isPlaying()?(this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this))):console.error("something went wrong, the animation was suppose to autoplay"))):this._eventManager.dispatch({type:"loadError",error:new Error("Failed to load animation data")})}get activeAnimationId(){return this._dotLottieCore?.activeAnimationId()}get activeThemeId(){return this._dotLottieCore?.activeThemeId()}get layout(){let n=this._dotLottieCore?.config().layout;if(n)return{align:[n.align.get(0),n.align.get(1)],fit:(()=>{switch(n.fit){case R._wasmModule?.Fit.Contain:return"contain";case R._wasmModule?.Fit.Cover:return"cover";case R._wasmModule?.Fit.Fill:return"fill";case R._wasmModule?.Fit.FitHeight:return"fit-height";case R._wasmModule?.Fit.FitWidth:return"fit-width";case R._wasmModule?.Fit.None:return"none";default:return"contain"}})()}}get marker(){return this._dotLottieCore?.config().marker}get manifest(){try{let n=this._dotLottieCore?.manifestString();if(this._dotLottieCore===null||!n)return null;let a=JSON.parse(n);return Object.keys(a).length===0?null:a}catch{return null}}get renderConfig(){return this._renderConfig}get segment(){let n=this._dotLottieCore?.config().segment;if(n&&n.size()===2)return[n.get(0),n.get(1)]}get loop(){return this._dotLottieCore?.config().loopAnimation??!1}get mode(){let n=this._dotLottieCore?.config().mode;return n===R._wasmModule?.Mode.Reverse?"reverse":n===R._wasmModule?.Mode.Bounce?"bounce":n===R._wasmModule?.Mode.ReverseBounce?"reverse-bounce":"forward"}get isFrozen(){return this._isFrozen}get backgroundColor(){return this._backgroundColor??""}get autoplay(){return this._dotLottieCore?.config().autoplay??!1}get useFrameInterpolation(){return this._dotLottieCore?.config().useFrameInterpolation??!1}get speed(){return this._dotLottieCore?.config().speed??0}get isReady(){return this._dotLottieCore!==null}get isLoaded(){return this._dotLottieCore?.isLoaded()??!1}get isPlaying(){return this._dotLottieCore?.isPlaying()??!1}get isPaused(){return this._dotLottieCore?.isPaused()??!1}get isStopped(){return this._dotLottieCore?.isStopped()??!1}get currentFrame(){return this._dotLottieCore?.currentFrame()??0}get loopCount(){return this._dotLottieCore?.loopCount()??0}get totalFrames(){return this._dotLottieCore?.totalFrames()??0}get duration(){return this._dotLottieCore?.duration()??0}get segmentDuration(){return this._dotLottieCore?.segmentDuration()??0}get canvas(){return this._canvas}load(n){this._dotLottieCore===null||R._wasmModule===null||(this._dotLottieCore.setConfig({autoplay:n.autoplay??!1,backgroundColor:0,loopAnimation:n.loop??!1,mode:ln(n.mode??"forward",R._wasmModule),segment:un(n.segment??[],R._wasmModule),speed:n.speed??1,useFrameInterpolation:n.useFrameInterpolation??!0,marker:n.marker??"",layout:n.layout?{align:dn(n.layout.align,R._wasmModule),fit:hn(n.layout.fit,R._wasmModule)}:R._wasmModule.createDefaultLayout()}),n.data?this._loadFromData(n.data):n.src&&this._loadFromSrc(n.src),this.setBackgroundColor(n.backgroundColor??""))}_render(){if(this._dotLottieCore===null||this._context===null)return!1;if(this._dotLottieCore.render()){let n=this._dotLottieCore.buffer(),a=new Uint8ClampedArray(n,0,this._canvas.width*this._canvas.height*4),c=null;return typeof ImageData>"u"?(c=this._context.createImageData(this._canvas.width,this._canvas.height),c.data.set(a)):c=new ImageData(a,this._canvas.width,this._canvas.height),this._context.putImageData(c,0,0),this._eventManager.dispatch({type:"render",currentFrame:this._dotLottieCore.currentFrame()}),!0}return!1}_draw(){if(this._dotLottieCore===null||this._context===null||!this._dotLottieCore.isPlaying())return;let n=this._dotLottieCore.requestFrame();this._dotLottieCore.setFrame(n)&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render()&&this._dotLottieCore.isComplete()&&(this._dotLottieCore.config().loopAnimation?this._eventManager.dispatch({type:"loop",loopCount:this._dotLottieCore.loopCount()}):this._eventManager.dispatch({type:"complete"}))),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this))}play(){if(this._dotLottieCore===null)return;let n=this._dotLottieCore.play();this._isFrozen=!1,n&&(this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)))}pause(){this._dotLottieCore!==null&&this._dotLottieCore.pause()&&this._eventManager.dispatch({type:"pause"})}stop(){this._dotLottieCore!==null&&this._dotLottieCore.stop()&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render(),this._eventManager.dispatch({type:"stop"}))}setFrame(n){this._dotLottieCore===null||n<0||n>this._dotLottieCore.totalFrames()||this._dotLottieCore.seek(n)&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render())}setSpeed(n){this._dotLottieCore!==null&&this._dotLottieCore.setConfig(T(x({},this._dotLottieCore.config()),{speed:n}))}setBackgroundColor(n){this._dotLottieCore!==null&&(Et&&this._canvas instanceof HTMLCanvasElement?this._canvas.style.backgroundColor=n:this._dotLottieCore.setConfig(T(x({},this._dotLottieCore.config()),{backgroundColor:Di(n)})),this._backgroundColor=n)}setLoop(n){this._dotLottieCore!==null&&this._dotLottieCore.setConfig(T(x({},this._dotLottieCore.config()),{loopAnimation:n}))}setUseFrameInterpolation(n){this._dotLottieCore!==null&&this._dotLottieCore.setConfig(T(x({},this._dotLottieCore.config()),{useFrameInterpolation:n}))}addEventListener(n,a){this._eventManager.addEventListener(n,a)}removeEventListener(n,a){this._eventManager.removeEventListener(n,a)}destroy(){this._dotLottieCore?.delete(),this._dotLottieCore=null,this._context=null,this._eventManager.dispatch({type:"destroy"}),this._eventManager.removeAllEventListeners(),this._cleanupStateMachineListeners()}freeze(){this._animationFrameId!==null&&(this._frameManager.cancelAnimationFrame(this._animationFrameId),this._animationFrameId=null,this._isFrozen=!0,this._eventManager.dispatch({type:"freeze"}))}unfreeze(){this._animationFrameId===null&&(this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)),this._isFrozen=!1,this._eventManager.dispatch({type:"unfreeze"}))}resize(){if(Et&&this._canvas instanceof HTMLCanvasElement){let n=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1,{height:a,width:c}=this._canvas.getBoundingClientRect();this._canvas.width=c*n,this._canvas.height=a*n}this._dotLottieCore?.resize(this._canvas.width,this._canvas.height)&&this._render()}setSegment(n,a){this._dotLottieCore===null||R._wasmModule===null||this._dotLottieCore.setConfig(T(x({},this._dotLottieCore.config()),{segment:un([n,a],R._wasmModule)}))}setMode(n){this._dotLottieCore===null||R._wasmModule===null||this._dotLottieCore.setConfig(T(x({},this._dotLottieCore.config()),{mode:ln(n,R._wasmModule)}))}setRenderConfig(n){this._renderConfig=n}loadAnimation(n){this._dotLottieCore===null||this._dotLottieCore.activeAnimationId()===n||(this._dotLottieCore.loadAnimation(n,this._canvas.width,this._canvas.height)?(this._eventManager.dispatch({type:"load"}),this.resize()):this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to animation :${n}`)}))}setMarker(n){this._dotLottieCore!==null&&this._dotLottieCore.setConfig(T(x({},this._dotLottieCore.config()),{marker:n}))}markers(){let n=this._dotLottieCore?.markers();if(n){let a=[];for(let c=0;c<n.size();c+=1){let p=n.get(c);a.push({name:p.name,time:p.time,duration:p.duration})}return a}return[]}loadTheme(n){if(this._dotLottieCore===null)return!1;let a=this._dotLottieCore.loadTheme(n);return this._render(),a}loadThemeData(n){if(this._dotLottieCore===null)return!1;let a=this._dotLottieCore.loadThemeData(n);return this._render(),a}setLayout(n){this._dotLottieCore===null||R._wasmModule===null||this._dotLottieCore.setConfig(T(x({},this._dotLottieCore.config()),{layout:{align:dn(n.align,R._wasmModule),fit:hn(n.fit,R._wasmModule)}}))}setViewport(n,a,c,p){return this._dotLottieCore===null?!1:this._dotLottieCore.setViewport(n,a,c,p)}static setWasmUrl(n){Re.setWasmUrl(n)}loadStateMachine(n){return this._dotLottieCore?.loadStateMachine(n)??!1}startStateMachine(){let n=this._dotLottieCore?.startStateMachine()??!1;return n&&this._setupStateMachineListeners(),n}stopStateMachine(){let n=this._dotLottieCore?.stopStateMachine()??!1;return n&&this._cleanupStateMachineListeners(),n}_getPointerPosition(n){let a=this._canvas.getBoundingClientRect(),c=this._canvas.width/a.width,p=this._canvas.height/a.height,_=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1,q=(n.clientX-a.left)*c/_,rt=(n.clientY-a.top)*p/_;return{x:q,y:rt}}_onPointerUp(n){let{x:a,y:c}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerUp: ${a} ${c}`)}_onPointerDown(n){let{x:a,y:c}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerDown: ${a} ${c}`)}_onPointerMove(n){let{x:a,y:c}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerMove: ${a} ${c}`)}_onPointerEnter(n){let{x:a,y:c}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerEnter: ${a} ${c}`)}_onPointerLeave(n){let{x:a,y:c}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerExit: ${a} ${c}`)}_onComplete(){this.postStateMachineEvent("OnComplete")}postStateMachineEvent(n){return this._dotLottieCore?.postEventPayload(n)??!1}getStateMachineListeners(){if(!this._dotLottieCore)return[];let n=this._dotLottieCore.stateMachineFrameworkSetup(),a=[];for(let c=0;c<n.size();c+=1)a.push(n.get(c));return a}_setupStateMachineListeners(){if(Et&&this._canvas instanceof HTMLCanvasElement&&this._dotLottieCore!==null&&this.isLoaded){let n=this.getStateMachineListeners();n.includes("PointerUp")&&this._canvas.addEventListener("pointerup",this._onPointerUp.bind(this)),n.includes("PointerDown")&&this._canvas.addEventListener("pointerdown",this._onPointerDown.bind(this)),n.includes("PointerMove")&&this._canvas.addEventListener("pointermove",this._onPointerMove.bind(this)),n.includes("PointerEnter")&&this._canvas.addEventListener("pointerenter",this._onPointerEnter.bind(this)),n.includes("PointerExit")&&this._canvas.addEventListener("pointerleave",this._onPointerLeave.bind(this)),n.includes("Complete")&&this.addEventListener("complete",this._onComplete.bind(this))}}_cleanupStateMachineListeners(){Et&&this._canvas instanceof HTMLCanvasElement&&(this._canvas.removeEventListener("pointerup",this._onPointerUp.bind(this)),this._canvas.removeEventListener("pointerdown",this._onPointerDown.bind(this)),this._canvas.removeEventListener("pointermove",this._onPointerMove.bind(this)),this._canvas.removeEventListener("pointerenter",this._onPointerEnter.bind(this)),this._canvas.removeEventListener("pointerleave",this._onPointerLeave.bind(this)),this.removeEventListener("complete",this._onComplete.bind(this)))}loadStateMachineData(n){return this._dotLottieCore?.loadStateMachineData(n)??!1}animationSize(){let n=this._dotLottieCore?.animationSize().get(0)??0,a=this._dotLottieCore?.animationSize().get(1)??0;return{width:n,height:a}}setStateMachineBooleanContext(n,a){return this._dotLottieCore?.setStateMachineBooleanContext(n,a)??!1}setStateMachineNumericContext(n,a){return this._dotLottieCore?.setStateMachineNumericContext(n,a)??!1}setStateMachineStringContext(n,a){return this._dotLottieCore?.setStateMachineStringContext(n,a)??!1}};F(Ma,"_wasmModule",null);var ba=Ma,Ti='/**\n * This is a worker script for dotlottie.\n * Do not modify this file directly.\n * As it\'s generated by the build process.\n */\n    \nvar Pn=Object.defineProperty;var An=(s,n,a)=>n in s?Pn(s,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[n]=a;var I=(s,n,a)=>An(s,typeof n!="symbol"?n+"":n,a);var Ke=class{requestAnimationFrame(n){return requestAnimationFrame(n)}cancelAnimationFrame(n){cancelAnimationFrame(n);}},Xe=class{constructor(){I(this,"_lastHandleId",0);I(this,"_lastImmediate",null);}requestAnimationFrame(n){return this._lastHandleId>=Number.MAX_SAFE_INTEGER&&(this._lastHandleId=0),this._lastHandleId+=1,this._lastImmediate=setImmediate(()=>{n(Date.now());}),this._lastHandleId}cancelAnimationFrame(n){this._lastImmediate&&clearImmediate(this._lastImmediate);}},Ie=class{constructor(){I(this,"_strategy");this._strategy=typeof requestAnimationFrame=="function"?new Ke:new Xe;}requestAnimationFrame(n){return this._strategy.requestAnimationFrame(n)}cancelAnimationFrame(n){this._strategy.cancelAnimationFrame(n);}};var te=typeof window<"u"&&typeof window.document<"u";var me={name:"@lottiefiles/dotlottie-web",version:"0.28.0",type:"module",description:"Lottie and DotLottie player for the web",repository:{type:"git",url:"git+https://github.com/LottieFiles/dotlottie-web.git",directory:"packages/web"},homepage:"https://github.com/LottieFiles/dotlottie-web#readme",bugs:"https://github.com/LottieFiles/dotlottie-web/issues",author:"LottieFiles",contributors:["Abdelrahman Ashraf <a.theashraf@gmail.com>"],license:"MIT",main:"dist/index.cjs",module:"dist/index.js",types:"dist/index.d.ts",files:["dist"],keywords:["dotlottie","lottie","player","animation","web","canvas","javascript","thorvg"],scripts:{build:"tsup",dev:"tsup --watch",lint:"eslint --fix .","stats:eslint":"cross-env TIMING=1 eslint .","stats:ts":"tsc -p tsconfig.build.json --extendedDiagnostics",test:"vitest run --browser.headless","test:coverage":"vitest run --browser.headless --coverage","test:watch":"vitest","type-check":"tsc --noEmit"},devDependencies:{"@types/node":"^20.10.5","@vitest/browser":"^1.2.2 ","@vitest/coverage-istanbul":"^1.2.2","cross-env":"7.0.3",tsup:"8.1.0",typescript:"5.0.4",vitest:"^1.2.2",webdriverio:"^8.32.0"},publishConfig:{access:"public"}};var Sn=(()=>{var s=typeof document<"u"?document.currentScript?.src:void 0;return function(n={}){var a=n,d,w,T=new Promise((e,t)=>{d=e,w=t;}),W=Object.assign({},a),Y="./this.program",j="";typeof document<"u"&&document.currentScript&&(j=document.currentScript.src),s&&(j=s),j.startsWith("blob:")?j="":j=j.substr(0,j.replace(/[?#].*/,"").lastIndexOf("/")+1);var Wt=a.print||console.log.bind(console),Q=a.printErr||console.error.bind(console);Object.assign(a,W),W=null,a.thisProgram&&(Y=a.thisProgram);var ne;a.wasmBinary&&(ne=a.wasmBinary);var ve,tt=!1,G,L,Z,re,A,b,nt,rt;function at(){var e=ve.buffer;a.HEAP8=G=new Int8Array(e),a.HEAP16=Z=new Int16Array(e),a.HEAPU8=L=new Uint8Array(e),a.HEAPU16=re=new Uint16Array(e),a.HEAP32=A=new Int32Array(e),a.HEAPU32=b=new Uint32Array(e),a.HEAPF32=nt=new Float32Array(e),a.HEAPF64=rt=new Float64Array(e);}var ot=[],it=[],st=[];function jt(){var e=a.preRun.shift();ot.unshift(e);}var N=0,ae=null;function ye(e){throw a.onAbort?.(e),e="Aborted("+e+")",Q(e),tt=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),w(e),e}var lt=e=>e.startsWith("data:application/octet-stream;base64,"),q;if(q="DotLottiePlayer.wasm",!lt(q)){var dt=q;q=a.locateFile?a.locateFile(dt,j):j+dt;}function ut(e){if(e==q&&ne)return new Uint8Array(ne);throw "both async and sync fetching of the wasm failed"}function Bt(e){return ne||typeof fetch!="function"?Promise.resolve().then(()=>ut(e)):fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw `failed to load wasm binary file at \'${e}\'`;return t.arrayBuffer()}).catch(()=>ut(e))}function ct(e,t,r){return Bt(e).then(o=>WebAssembly.instantiate(o,t)).then(r,o=>{Q(`failed to asynchronously prepare wasm: ${o}`),ye(o);})}function Ut(e,t){var r=q;return ne||typeof WebAssembly.instantiateStreaming!="function"||lt(r)||typeof fetch!="function"?ct(r,e,t):fetch(r,{credentials:"same-origin"}).then(o=>WebAssembly.instantiateStreaming(o,e).then(t,function(i){return Q(`wasm streaming compile failed: ${i}`),Q("falling back to ArrayBuffer instantiation"),ct(r,e,t)}))}var Ae=e=>{for(;0<e.length;)e.shift()(a);},ht=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,J=(e,t,r)=>{var o=t+r;for(r=t;e[r]&&!(r>=o);)++r;if(16<r-t&&e.buffer&&ht)return ht.decode(e.subarray(t,r));for(o="";t<r;){var i=e[t++];if(i&128){var l=e[t++]&63;if((i&224)==192)o+=String.fromCharCode((i&31)<<6|l);else {var h=e[t++]&63;i=(i&240)==224?(i&15)<<12|l<<6|h:(i&7)<<18|l<<12|h<<6|e[t++]&63,65536>i?o+=String.fromCharCode(i):(i-=65536,o+=String.fromCharCode(55296|i>>10,56320|i&1023));}}else o+=String.fromCharCode(i);}return o};class Ht{constructor(t){this.ya=t-24;}}var pt=0,mt=e=>{for(var t=0,r=0;r<e.length;++r){var o=e.charCodeAt(r);127>=o?t++:2047>=o?t+=2:55296<=o&&57343>=o?(t+=4,++r):t+=3;}return t},ft=(e,t,r,o)=>{if(0<o){o=r+o-1;for(var i=0;i<e.length;++i){var l=e.charCodeAt(i);if(55296<=l&&57343>=l){var h=e.charCodeAt(++i);l=65536+((l&1023)<<10)|h&1023;}if(127>=l){if(r>=o)break;t[r++]=l;}else {if(2047>=l){if(r+1>=o)break;t[r++]=192|l>>6;}else {if(65535>=l){if(r+2>=o)break;t[r++]=224|l>>12;}else {if(r+3>=o)break;t[r++]=240|l>>18,t[r++]=128|l>>12&63;}t[r++]=128|l>>6&63;}t[r++]=128|l&63;}}t[r]=0;}},ge={},Te=e=>{for(;e.length;){var t=e.pop();e.pop()(t);}};function oe(e){return this.fromWireType(b[e>>2])}var ee={},K={},we={},ie,H=(e,t,r)=>{function o(c){if(c=r(c),c.length!==e.length)throw new ie("Mismatched type converter count");for(var m=0;m<e.length;++m)k(e[m],c[m]);}e.forEach(function(c){we[c]=t;});var i=Array(t.length),l=[],h=0;t.forEach((c,m)=>{K.hasOwnProperty(c)?i[m]=K[c]:(l.push(c),ee.hasOwnProperty(c)||(ee[c]=[]),ee[c].push(()=>{i[m]=K[c],++h,h===l.length&&o(i);}));}),l.length===0&&o(i);},vt,P=e=>{for(var t="";L[e];)t+=vt[L[e++]];return t},g;function Yt(e,t,r={}){var o=t.name;if(!e)throw new g(`type "${o}" must have a positive integer typeid pointer`);if(K.hasOwnProperty(e)){if(r.ib)return;throw new g(`Cannot register type \'${o}\' twice`)}K[e]=t,delete we[e],ee.hasOwnProperty(e)&&(t=ee[e],delete ee[e],t.forEach(i=>i()));}function k(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Yt(e,t,r)}var Se=e=>{throw new g(e.ma.za.xa.name+" instance already deleted")},Re=!1,yt=()=>{},gt=(e,t,r)=>t===r?e:r.Ca===void 0?null:(e=gt(e,t,r.Ca),e===null?null:r.ab(e)),wt={},se=[],$e=()=>{for(;se.length;){var e=se.pop();e.ma.Ka=!1,e.delete();}},le,de={},Gt=(e,t)=>{if(t===void 0)throw new g("ptr should not be undefined");for(;e.Ca;)t=e.Na(t),e=e.Ca;return de[t]},_e=(e,t)=>{if(!t.za||!t.ya)throw new ie("makeClassHandle requires ptr and ptrType");if(!!t.Da!=!!t.Aa)throw new ie("Both smartPtrType and smartPtr must be specified");return t.count={value:1},ue(Object.create(e,{ma:{value:t,writable:!0}}))},ue=e=>typeof FinalizationRegistry>"u"?(ue=t=>t,e):(Re=new FinalizationRegistry(t=>{t=t.ma,--t.count.value,t.count.value===0&&(t.Aa?t.Da.Fa(t.Aa):t.za.xa.Fa(t.ya));}),ue=t=>{var r=t.ma;return r.Aa&&Re.register(t,{ma:r},t),t},yt=t=>{Re.unregister(t);},ue(e));function Ee(){}var ce=(e,t)=>Object.defineProperty(t,"name",{value:e}),_t=(e,t,r)=>{if(e[t].Ba===void 0){var o=e[t];e[t]=function(...i){if(!e[t].Ba.hasOwnProperty(i.length))throw new g(`Function \'${r}\' called with an invalid number of arguments (${i.length}) - expects one of (${e[t].Ba})!`);return e[t].Ba[i.length].apply(this,i)},e[t].Ba=[],e[t].Ba[o.Oa]=o;}},ke=(e,t,r)=>{if(a.hasOwnProperty(e)){if(r===void 0||a[e].Ba!==void 0&&a[e].Ba[r]!==void 0)throw new g(`Cannot register public name \'${e}\' twice`);if(_t(a,e,e),a.hasOwnProperty(r))throw new g(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`);a[e].Ba[r]=t;}else a[e]=t,r!==void 0&&(a[e].vb=r);},Nt=e=>{if(e===void 0)return "_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e};function Jt(e,t,r,o,i,l,h,c){this.name=e,this.constructor=t,this.La=r,this.Fa=o,this.Ca=i,this.cb=l,this.Na=h,this.ab=c,this.kb=[];}var De=(e,t,r)=>{for(;t!==r;){if(!t.Na)throw new g(`Expected null or instance of ${r.name}, got an instance of ${t.name}`);e=t.Na(e),t=t.Ca;}return e};function Kt(e,t){if(t===null){if(this.Ta)throw new g(`null is not a valid ${this.name}`);return 0}if(!t.ma)throw new g(`Cannot pass "${He(t)}" as a ${this.name}`);if(!t.ma.ya)throw new g(`Cannot pass deleted object as a pointer of type ${this.name}`);return De(t.ma.ya,t.ma.za.xa,this.xa)}function Xt(e,t){if(t===null){if(this.Ta)throw new g(`null is not a valid ${this.name}`);if(this.Qa){var r=this.Ua();return e!==null&&e.push(this.Fa,r),r}return 0}if(!t||!t.ma)throw new g(`Cannot pass "${He(t)}" as a ${this.name}`);if(!t.ma.ya)throw new g(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.Pa&&t.ma.za.Pa)throw new g(`Cannot convert argument of type ${t.ma.Da?t.ma.Da.name:t.ma.za.name} to parameter type ${this.name}`);if(r=De(t.ma.ya,t.ma.za.xa,this.xa),this.Qa){if(t.ma.Aa===void 0)throw new g("Passing raw pointer to smart pointer is illegal");switch(this.pb){case 0:if(t.ma.Da===this)r=t.ma.Aa;else throw new g(`Cannot convert argument of type ${t.ma.Da?t.ma.Da.name:t.ma.za.name} to parameter type ${this.name}`);break;case 1:r=t.ma.Aa;break;case 2:if(t.ma.Da===this)r=t.ma.Aa;else {var o=t.clone();r=this.lb(r,Me(()=>o.delete())),e!==null&&e.push(this.Fa,r);}break;default:throw new g("Unsupporting sharing policy")}}return r}function Qt(e,t){if(t===null){if(this.Ta)throw new g(`null is not a valid ${this.name}`);return 0}if(!t.ma)throw new g(`Cannot pass "${He(t)}" as a ${this.name}`);if(!t.ma.ya)throw new g(`Cannot pass deleted object as a pointer of type ${this.name}`);if(t.ma.za.Pa)throw new g(`Cannot convert argument of type ${t.ma.za.name} to parameter type ${this.name}`);return De(t.ma.ya,t.ma.za.xa,this.xa)}function he(e,t,r,o,i,l,h,c,m,p,f){this.name=e,this.xa=t,this.Ta=r,this.Pa=o,this.Qa=i,this.jb=l,this.pb=h,this.Za=c,this.Ua=m,this.lb=p,this.Fa=f,i||t.Ca!==void 0?this.toWireType=Xt:(this.toWireType=o?Kt:Qt,this.Ea=null);}var Et=(e,t,r)=>{if(!a.hasOwnProperty(e))throw new ie("Replacing nonexistent public symbol");a[e].Ba!==void 0&&r!==void 0?a[e].Ba[r]=t:(a[e]=t,a[e].Oa=r);},$,Zt=(e,t,r=[])=>(e.includes("j")?(e=e.replace(/p/g,"i"),t=(0, a["dynCall_"+e])(t,...r)):t=$.get(t)(...r),t),qt=(e,t)=>(...r)=>Zt(e,t,r),S=(e,t)=>{e=P(e);var r=e.includes("j")?qt(e,t):$.get(t);if(typeof r!="function")throw new g(`unknown function pointer with signature ${e}: ${t}`);return r},Ct,Mt=e=>{e=St(e);var t=P(e);return U(e),t},Ce=(e,t)=>{function r(l){i[l]||K[l]||(we[l]?we[l].forEach(r):(o.push(l),i[l]=!0));}var o=[],i={};throw t.forEach(r),new Ct(`${e}: `+o.map(Mt).join([", "]))},ze=(e,t)=>{for(var r=[],o=0;o<e;o++)r.push(b[t+4*o>>2]);return r};function en(e){for(var t=1;t<e.length;++t)if(e[t]!==null&&e[t].Ea===void 0)return !0;return !1}function Oe(e,t,r,o,i){var l=t.length;if(2>l)throw new g("argTypes array size mismatch! Must at least get return value and \'this\' types!");var h=t[1]!==null&&r!==null,c=en(t),m=t[0].name!=="void",p=l-2,f=Array(p),_=[],C=[];return ce(e,function(...u){if(u.length!==p)throw new g(`function ${e} called with ${u.length} arguments, expected ${p}`);if(C.length=0,_.length=h?2:1,_[0]=i,h){var v=t[1].toWireType(C,this);_[1]=v;}for(var y=0;y<p;++y)f[y]=t[y+2].toWireType(C,u[y]),_.push(f[y]);if(u=o(..._),c)Te(C);else for(y=h?1:2;y<t.length;y++){var x=y===1?v:f[y-2];t[y].Ea!==null&&t[y].Ea(x);}return v=m?t[0].fromWireType(u):void 0,v})}var bt=e=>{e=e.trim();let t=e.indexOf("(");return t!==-1?e.substr(0,t):e},We=[],B=[],je=e=>{9<e&&--B[e+1]===0&&(B[e]=void 0,We.push(e));},Be=e=>{if(!e)throw new g("Cannot use deleted val. handle = "+e);return B[e]},Me=e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:let t=We.pop()||B.length;return B[t]=e,B[t+1]=1,t}},Lt={name:"emscripten::val",fromWireType:e=>{var t=Be(e);return je(e),t},toWireType:(e,t)=>Me(t),argPackAdvance:8,readValueFromPointer:oe,Ea:null},tn=(e,t,r)=>{switch(t){case 1:return r?function(o){return this.fromWireType(G[o])}:function(o){return this.fromWireType(L[o])};case 2:return r?function(o){return this.fromWireType(Z[o>>1])}:function(o){return this.fromWireType(re[o>>1])};case 4:return r?function(o){return this.fromWireType(A[o>>2])}:function(o){return this.fromWireType(b[o>>2])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Ue=(e,t)=>{var r=K[e];if(r===void 0)throw e=`${t} has unknown type ${Mt(e)}`,new g(e);return r},He=e=>{if(e===null)return "null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},nn=(e,t)=>{switch(t){case 4:return function(r){return this.fromWireType(nt[r>>2])};case 8:return function(r){return this.fromWireType(rt[r>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},rn=(e,t,r)=>{switch(t){case 1:return r?o=>G[o]:o=>L[o];case 2:return r?o=>Z[o>>1]:o=>re[o>>1];case 4:return r?o=>A[o>>2]:o=>b[o>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Ft=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,an=(e,t)=>{for(var r=e>>1,o=r+t/2;!(r>=o)&&re[r];)++r;if(r<<=1,32<r-e&&Ft)return Ft.decode(L.subarray(e,r));for(r="",o=0;!(o>=t/2);++o){var i=Z[e+2*o>>1];if(i==0)break;r+=String.fromCharCode(i);}return r},on=(e,t,r)=>{if(r??(r=2147483647),2>r)return 0;r-=2;var o=t;r=r<2*e.length?r/2:e.length;for(var i=0;i<r;++i)Z[t>>1]=e.charCodeAt(i),t+=2;return Z[t>>1]=0,t-o},sn=e=>2*e.length,ln=(e,t)=>{for(var r=0,o="";!(r>=t/4);){var i=A[e+4*r>>2];if(i==0)break;++r,65536<=i?(i-=65536,o+=String.fromCharCode(55296|i>>10,56320|i&1023)):o+=String.fromCharCode(i);}return o},dn=(e,t,r)=>{if(r??(r=2147483647),4>r)return 0;var o=t;r=o+r-4;for(var i=0;i<e.length;++i){var l=e.charCodeAt(i);if(55296<=l&&57343>=l){var h=e.charCodeAt(++i);l=65536+((l&1023)<<10)|h&1023;}if(A[t>>2]=l,t+=4,t+4>r)break}return A[t>>2]=0,t-o},un=e=>{for(var t=0,r=0;r<e.length;++r){var o=e.charCodeAt(r);55296<=o&&57343>=o&&++r,t+=4;}return t},Ve=[],cn=e=>{var t=Ve.length;return Ve.push(e),t},hn=(e,t)=>{for(var r=Array(e),o=0;o<e;++o)r[o]=Ue(b[t+4*o>>2],"parameter "+o);return r},pn=Reflect.construct,Ye={},It=()=>{if(!Ge){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Y||"./this.program"},t;for(t in Ye)Ye[t]===void 0?delete e[t]:e[t]=Ye[t];var r=[];for(t in e)r.push(`${t}=${e[t]}`);Ge=r;}return Ge},Ge,mn=[null,[],[]],fn=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>crypto.getRandomValues(e);ye("initRandomDevice");},xt=e=>(xt=fn())(e),be=e=>e%4===0&&(e%100!==0||e%400===0),Pt=[31,29,31,30,31,30,31,31,30,31,30,31],At=[31,28,31,30,31,30,31,31,30,31,30,31];function vn(e){var t=Array(mt(e)+1);return ft(e,t,0,t.length),t}var yn=(e,t,r,o)=>{function i(u,v,y){for(u=typeof u=="number"?u.toString():u||"";u.length<v;)u=y[0]+u;return u}function l(u,v){return i(u,v,"0")}function h(u,v){function y(V){return 0>V?-1:0<V?1:0}var x;return (x=y(u.getFullYear()-v.getFullYear()))===0&&(x=y(u.getMonth()-v.getMonth()))===0&&(x=y(u.getDate()-v.getDate())),x}function c(u){switch(u.getDay()){case 0:return new Date(u.getFullYear()-1,11,29);case 1:return u;case 2:return new Date(u.getFullYear(),0,3);case 3:return new Date(u.getFullYear(),0,2);case 4:return new Date(u.getFullYear(),0,1);case 5:return new Date(u.getFullYear()-1,11,31);case 6:return new Date(u.getFullYear()-1,11,30)}}function m(u){var v=u.Ia;for(u=new Date(new Date(u.Ja+1900,0,1).getTime());0<v;){var y=u.getMonth(),x=(be(u.getFullYear())?Pt:At)[y];if(v>x-u.getDate())v-=x-u.getDate()+1,u.setDate(1),11>y?u.setMonth(y+1):(u.setMonth(0),u.setFullYear(u.getFullYear()+1));else {u.setDate(u.getDate()+v);break}}return y=new Date(u.getFullYear()+1,0,4),v=c(new Date(u.getFullYear(),0,4)),y=c(y),0>=h(v,u)?0>=h(y,u)?u.getFullYear()+1:u.getFullYear():u.getFullYear()-1}var p=b[o+40>>2];o={sb:A[o>>2],rb:A[o+4>>2],Ra:A[o+8>>2],Va:A[o+12>>2],Sa:A[o+16>>2],Ja:A[o+20>>2],Ga:A[o+24>>2],Ia:A[o+28>>2],wb:A[o+32>>2],qb:A[o+36>>2],tb:p&&p?J(L,p):""},r=r?J(L,r):"",p={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var f in p)r=r.replace(new RegExp(f,"g"),p[f]);var _="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),C="January February March April May June July August September October November December".split(" ");p={"%a":u=>_[u.Ga].substring(0,3),"%A":u=>_[u.Ga],"%b":u=>C[u.Sa].substring(0,3),"%B":u=>C[u.Sa],"%C":u=>l((u.Ja+1900)/100|0,2),"%d":u=>l(u.Va,2),"%e":u=>i(u.Va,2," "),"%g":u=>m(u).toString().substring(2),"%G":m,"%H":u=>l(u.Ra,2),"%I":u=>(u=u.Ra,u==0?u=12:12<u&&(u-=12),l(u,2)),"%j":u=>{for(var v=0,y=0;y<=u.Sa-1;v+=(be(u.Ja+1900)?Pt:At)[y++]);return l(u.Va+v,3)},"%m":u=>l(u.Sa+1,2),"%M":u=>l(u.rb,2),"%n":()=>`\n`,"%p":u=>0<=u.Ra&&12>u.Ra?"AM":"PM","%S":u=>l(u.sb,2),"%t":()=>"	","%u":u=>u.Ga||7,"%U":u=>l(Math.floor((u.Ia+7-u.Ga)/7),2),"%V":u=>{var v=Math.floor((u.Ia+7-(u.Ga+6)%7)/7);if(2>=(u.Ga+371-u.Ia-2)%7&&v++,v)v==53&&(y=(u.Ga+371-u.Ia)%7,y==4||y==3&&be(u.Ja)||(v=1));else {v=52;var y=(u.Ga+7-u.Ia-1)%7;(y==4||y==5&&be(u.Ja%400-1))&&v++;}return l(v,2)},"%w":u=>u.Ga,"%W":u=>l(Math.floor((u.Ia+7-(u.Ga+6)%7)/7),2),"%y":u=>(u.Ja+1900).toString().substring(2),"%Y":u=>u.Ja+1900,"%z":u=>{u=u.qb;var v=0<=u;return u=Math.abs(u)/60,(v?"+":"-")+("0000"+(u/60*100+u%60)).slice(-4)},"%Z":u=>u.tb,"%%":()=>"%"},r=r.replace(/%%/g,"\\0\\0");for(f in p)r.includes(f)&&(r=r.replace(new RegExp(f,"g"),p[f](o)));return r=r.replace(/\\0\\0/g,"%"),f=vn(r),f.length>t?0:(G.set(f,e),f.length-1)};ie=a.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError";}};for(var Tt=Array(256),Le=0;256>Le;++Le)Tt[Le]=String.fromCharCode(Le);vt=Tt,g=a.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError";}},Object.assign(Ee.prototype,{isAliasOf:function(e){if(!(this instanceof Ee&&e instanceof Ee))return !1;var t=this.ma.za.xa,r=this.ma.ya;e.ma=e.ma;var o=e.ma.za.xa;for(e=e.ma.ya;t.Ca;)r=t.Na(r),t=t.Ca;for(;o.Ca;)e=o.Na(e),o=o.Ca;return t===o&&r===e},clone:function(){if(this.ma.ya||Se(this),this.ma.Ma)return this.ma.count.value+=1,this;var e=ue,t=Object,r=t.create,o=Object.getPrototypeOf(this),i=this.ma;return e=e(r.call(t,o,{ma:{value:{count:i.count,Ka:i.Ka,Ma:i.Ma,ya:i.ya,za:i.za,Aa:i.Aa,Da:i.Da}}})),e.ma.count.value+=1,e.ma.Ka=!1,e},delete(){if(this.ma.ya||Se(this),this.ma.Ka&&!this.ma.Ma)throw new g("Object already scheduled for deletion");yt(this);var e=this.ma;--e.count.value,e.count.value===0&&(e.Aa?e.Da.Fa(e.Aa):e.za.xa.Fa(e.ya)),this.ma.Ma||(this.ma.Aa=void 0,this.ma.ya=void 0);},isDeleted:function(){return !this.ma.ya},deleteLater:function(){if(this.ma.ya||Se(this),this.ma.Ka&&!this.ma.Ma)throw new g("Object already scheduled for deletion");return se.push(this),se.length===1&&le&&le($e),this.ma.Ka=!0,this}}),a.getInheritedInstanceCount=()=>Object.keys(de).length,a.getLiveInheritedInstances=()=>{var e=[],t;for(t in de)de.hasOwnProperty(t)&&e.push(de[t]);return e},a.flushPendingDeletes=$e,a.setDelayFunction=e=>{le=e,se.length&&le&&le($e);},Object.assign(he.prototype,{eb(e){return this.Za&&(e=this.Za(e)),e},Xa(e){this.Fa?.(e);},argPackAdvance:8,readValueFromPointer:oe,fromWireType:function(e){function t(){return this.Qa?_e(this.xa.La,{za:this.jb,ya:r,Da:this,Aa:e}):_e(this.xa.La,{za:this,ya:e})}var r=this.eb(e);if(!r)return this.Xa(e),null;var o=Gt(this.xa,r);if(o!==void 0)return o.ma.count.value===0?(o.ma.ya=r,o.ma.Aa=e,o.clone()):(o=o.clone(),this.Xa(e),o);if(o=this.xa.cb(r),o=wt[o],!o)return t.call(this);o=this.Pa?o.$a:o.pointerType;var i=gt(r,this.xa,o.xa);return i===null?t.call(this):this.Qa?_e(o.xa.La,{za:o,ya:i,Da:this,Aa:e}):_e(o.xa.La,{za:o,ya:i})}}),Ct=a.UnboundTypeError=((e,t)=>{var r=ce(t,function(o){this.name=t,this.message=o,o=Error(o).stack,o!==void 0&&(this.stack=this.toString()+`\n`+o.replace(/^Error(:[^\\n]*)?\\n/,""));});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r})(Error,"UnboundTypeError"),B.push(0,1,void 0,1,null,1,!0,1,!1,1),a.count_emval_handles=()=>B.length/2-5-We.length;var gn={c:(e,t,r,o)=>{ye(`Assertion failed: ${e?J(L,e):""}, at: `+[t?t?J(L,t):"":"unknown filename",r,o?o?J(L,o):"":"unknown function"]);},m:(e,t,r)=>{var o=new Ht(e);throw b[o.ya+16>>2]=0,b[o.ya+4>>2]=t,b[o.ya+8>>2]=r,pt=e,pt},B:function(){return 0},P:()=>{},M:()=>{},R:function(){return 0},N:()=>{},A:function(){},O:()=>{},v:e=>{var t=ge[e];delete ge[e];var r=t.Ua,o=t.Fa,i=t.Ya,l=i.map(h=>h.hb).concat(i.map(h=>h.nb));H([e],l,h=>{var c={};return i.forEach((m,p)=>{var f=h[p],_=m.fb,C=m.gb,u=h[p+i.length],v=m.mb,y=m.ob;c[m.bb]={read:x=>f.fromWireType(_(C,x)),write:(x,V)=>{var R=[];v(y,x,u.toWireType(R,V)),Te(R);}};}),[{name:t.name,fromWireType:m=>{var p={},f;for(f in c)p[f]=c[f].read(m);return o(m),p},toWireType:(m,p)=>{for(var f in c)if(!(f in p))throw new TypeError(`Missing field: "${f}"`);var _=r();for(f in c)c[f].write(_,p[f]);return m!==null&&m.push(o,_),_},argPackAdvance:8,readValueFromPointer:oe,Ea:o}]});},I:()=>{},Y:(e,t,r,o)=>{t=P(t),k(e,{name:t,fromWireType:function(i){return !!i},toWireType:function(i,l){return l?r:o},argPackAdvance:8,readValueFromPointer:function(i){return this.fromWireType(L[i])},Ea:null});},r:(e,t,r,o,i,l,h,c,m,p,f,_,C)=>{f=P(f),l=S(i,l),c&&(c=S(h,c)),p&&(p=S(m,p)),C=S(_,C);var u=Nt(f);ke(u,function(){Ce(`Cannot construct ${f} due to unbound types`,[o]);}),H([e,t,r],o?[o]:[],v=>{if(v=v[0],o)var y=v.xa,x=y.La;else x=Ee.prototype;v=ce(f,function(...Je){if(Object.getPrototypeOf(this)!==V)throw new g("Use \'new\' to construct "+f);if(R.Ha===void 0)throw new g(f+" has no accessible constructor");var kt=R.Ha[Je.length];if(kt===void 0)throw new g(`Tried to invoke ctor of ${f} with invalid number of parameters (${Je.length}) - expected (${Object.keys(R.Ha).toString()}) parameters instead!`);return kt.apply(this,Je)});var V=Object.create(x,{constructor:{value:v}});v.prototype=V;var R=new Jt(f,v,V,C,y,l,c,p);if(R.Ca){var pe;(pe=R.Ca).Wa??(pe.Wa=[]),R.Ca.Wa.push(R);}return y=new he(f,R,!0,!1,!1),pe=new he(f+"*",R,!1,!1,!1),x=new he(f+" const*",R,!1,!0,!1),wt[e]={pointerType:pe,$a:x},Et(u,v),[y,pe,x]});},q:(e,t,r,o,i,l)=>{var h=ze(t,r);i=S(o,i),H([],[e],c=>{c=c[0];var m=`constructor ${c.name}`;if(c.xa.Ha===void 0&&(c.xa.Ha=[]),c.xa.Ha[t-1]!==void 0)throw new g(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class \'${c.name}\'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return c.xa.Ha[t-1]=()=>{Ce(`Cannot construct ${c.name} due to unbound types`,h);},H([],h,p=>(p.splice(1,0,null),c.xa.Ha[t-1]=Oe(m,p,null,i,l),[])),[]});},f:(e,t,r,o,i,l,h,c)=>{var m=ze(r,o);t=P(t),t=bt(t),l=S(i,l),H([],[e],p=>{function f(){Ce(`Cannot call ${_} due to unbound types`,m);}p=p[0];var _=`${p.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),c&&p.xa.kb.push(t);var C=p.xa.La,u=C[t];return u===void 0||u.Ba===void 0&&u.className!==p.name&&u.Oa===r-2?(f.Oa=r-2,f.className=p.name,C[t]=f):(_t(C,t,_),C[t].Ba[r-2]=f),H([],m,v=>(v=Oe(_,v,p,l,h),C[t].Ba===void 0?(v.Oa=r-2,C[t]=v):C[t].Ba[r-2]=v,[])),[]});},X:e=>k(e,Lt),x:(e,t,r,o)=>{function i(){}t=P(t),i.values={},k(e,{name:t,constructor:i,fromWireType:function(l){return this.constructor.values[l]},toWireType:(l,h)=>h.value,argPackAdvance:8,readValueFromPointer:tn(t,r,o),Ea:null}),ke(t,i);},k:(e,t,r)=>{var o=Ue(e,"enum");t=P(t),e=o.constructor,o=Object.create(o.constructor.prototype,{value:{value:r},constructor:{value:ce(`${o.name}_${t}`,function(){})}}),e.values[r]=o,e[t]=o;},C:(e,t,r)=>{t=P(t),k(e,{name:t,fromWireType:o=>o,toWireType:(o,i)=>i,argPackAdvance:8,readValueFromPointer:nn(t,r),Ea:null});},E:(e,t,r,o,i,l)=>{var h=ze(t,r);e=P(e),e=bt(e),i=S(o,i),ke(e,function(){Ce(`Cannot call ${e} due to unbound types`,h);},t-1),H([],h,c=>(Et(e,Oe(e,[c[0],null].concat(c.slice(1)),null,i,l),t-1),[]));},l:(e,t,r,o,i)=>{if(t=P(t),i===-1&&(i=4294967295),i=c=>c,o===0){var l=32-8*r;i=c=>c<<l>>>l;}var h=t.includes("unsigned")?function(c,m){return m>>>0}:function(c,m){return m};k(e,{name:t,fromWireType:i,toWireType:h,argPackAdvance:8,readValueFromPointer:rn(t,r,o!==0),Ea:null});},g:(e,t,r)=>{function o(l){return new i(G.buffer,b[l+4>>2],b[l>>2])}var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];r=P(r),k(e,{name:r,fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ib:!0});},w:e=>{k(e,Lt);},ca:(e,t,r,o,i,l,h,c,m,p,f,_)=>{r=P(r),l=S(i,l),c=S(h,c),p=S(m,p),_=S(f,_),H([e],[t],C=>(C=C[0],[new he(r,C.xa,!1,!1,!0,C,o,l,c,p,_)]));},D:(e,t)=>{t=P(t);var r=t==="std::string";k(e,{name:t,fromWireType:function(o){var i=b[o>>2],l=o+4;if(r)for(var h=l,c=0;c<=i;++c){var m=l+c;if(c==i||L[m]==0){if(h=h?J(L,h,m-h):"",p===void 0)var p=h;else p+="\\0",p+=h;h=m+1;}}else {for(p=Array(i),c=0;c<i;++c)p[c]=String.fromCharCode(L[l+c]);p=p.join("");}return U(o),p},toWireType:function(o,i){i instanceof ArrayBuffer&&(i=new Uint8Array(i));var l=typeof i=="string";if(!(l||i instanceof Uint8Array||i instanceof Uint8ClampedArray||i instanceof Int8Array))throw new g("Cannot pass non-string to std::string");var h=r&&l?mt(i):i.length,c=Ne(4+h+1),m=c+4;if(b[c>>2]=h,r&&l)ft(i,L,m,h+1);else if(l)for(l=0;l<h;++l){var p=i.charCodeAt(l);if(255<p)throw U(m),new g("String has UTF-16 code units that do not fit in 8 bits");L[m+l]=p;}else for(l=0;l<h;++l)L[m+l]=i[l];return o!==null&&o.push(U,c),c},argPackAdvance:8,readValueFromPointer:oe,Ea(o){U(o);}});},u:(e,t,r)=>{if(r=P(r),t===2)var o=an,i=on,l=sn,h=c=>re[c>>1];else t===4&&(o=ln,i=dn,l=un,h=c=>b[c>>2]);k(e,{name:r,fromWireType:c=>{for(var m=b[c>>2],p,f=c+4,_=0;_<=m;++_){var C=c+4+_*t;(_==m||h(C)==0)&&(f=o(f,C-f),p===void 0?p=f:(p+="\\0",p+=f),f=C+t);}return U(c),p},toWireType:(c,m)=>{if(typeof m!="string")throw new g(`Cannot pass non-string to C++ string type ${r}`);var p=l(m),f=Ne(4+p+t);return b[f>>2]=p/t,i(m,f+4,p+t),c!==null&&c.push(U,f),f},argPackAdvance:8,readValueFromPointer:oe,Ea(c){U(c);}});},s:(e,t,r,o,i,l)=>{ge[e]={name:P(t),Ua:S(r,o),Fa:S(i,l),Ya:[]};},j:(e,t,r,o,i,l,h,c,m,p)=>{ge[e].Ya.push({bb:P(t),hb:r,fb:S(o,i),gb:l,nb:h,mb:S(c,m),ob:p});},Z:(e,t)=>{t=P(t),k(e,{ub:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}});},J:()=>{throw 1/0},aa:(e,t,r,o)=>(e=Ve[e],t=Be(t),e(null,t,r,o)),F:je,$:(e,t,r)=>{var o=hn(e,t),i=o.shift();e--;var l=Array(e);return t=`methodCaller<(${o.map(h=>h.name).join(", ")}) => ${i.name}>`,cn(ce(t,(h,c,m,p)=>{for(var f=0,_=0;_<e;++_)l[_]=o[_].readValueFromPointer(p+f),f+=o[_].argPackAdvance;return c=r===1?pn(c,l):c.apply(h,l),h=[],c=i.toWireType(h,c),h.length&&(b[m>>2]=Me(h)),c}))},ba:e=>{9<e&&(B[e+1]+=1);},_:e=>{var t=Be(e);Te(t),je(e);},o:(e,t)=>(e=Ue(e,"_emval_take_value"),e=e.readValueFromPointer(t),Me(e)),W:()=>{ye("");},V:()=>performance.now(),L:e=>{var t=L.length;if(e>>>=0,2147483648<e)return !1;for(var r=1;4>=r;r*=2){var o=t*(1+.2/r);o=Math.min(o,e+100663296);var i=Math;o=Math.max(e,o);e:{i=(i.min.call(i,2147483648,o+(65536-o%65536)%65536)-ve.buffer.byteLength+65535)/65536;try{ve.grow(i),at();var l=1;break e}catch{}l=void 0;}if(l)return !0}return !1},S:(e,t)=>{var r=0;return It().forEach((o,i)=>{var l=t+r;for(i=b[e+4*i>>2]=l,l=0;l<o.length;++l)G[i++]=o.charCodeAt(l);G[i]=0,r+=o.length+1;}),0},T:(e,t)=>{var r=It();b[e>>2]=r.length;var o=0;return r.forEach(i=>o+=i.length+1),b[t>>2]=o,0},t:()=>52,z:()=>52,H:function(){return 70},Q:(e,t,r,o)=>{for(var i=0,l=0;l<r;l++){var h=b[t>>2],c=b[t+4>>2];t+=8;for(var m=0;m<c;m++){var p=L[h+m],f=mn[e];p===0||p===10?((e===1?Wt:Q)(J(f,0)),f.length=0):f.push(p);}i+=c;}return b[o>>2]=i,0},U:(e,t)=>(xt(L.subarray(e,e+t)),0),i:Mn,d:Cn,e:En,p:bn,y:In,b:wn,a:_n,h:Fn,n:Ln,G:xn,K:(e,t,r,o)=>yn(e,t,r,o)},F=function(){function e(r){return F=r.exports,ve=F.da,at(),$=F.ha,it.unshift(F.ea),N--,a.monitorRunDependencies?.(N),N==0&&(ae&&(r=ae,ae=null,r())),F}var t={a:gn};if(N++,a.monitorRunDependencies?.(N),a.instantiateWasm)try{return a.instantiateWasm(t,e)}catch(r){Q(`Module.instantiateWasm callback failed with error: ${r}`),w(r);}return Ut(t,function(r){e(r.instance);}).catch(w),{}}(),Ne=e=>(Ne=F.fa)(e),St=e=>(St=F.ga)(e),U=e=>(U=F.ia)(e),D=(e,t)=>(D=F.ja)(e,t),z=e=>(z=F.ka)(e),O=()=>(O=F.la)();a.dynCall_iijj=(e,t,r,o,i,l)=>(a.dynCall_iijj=F.na)(e,t,r,o,i,l),a.dynCall_vijj=(e,t,r,o,i,l)=>(a.dynCall_vijj=F.oa)(e,t,r,o,i,l),a.dynCall_jiii=(e,t,r,o)=>(a.dynCall_jiii=F.pa)(e,t,r,o),a.dynCall_jii=(e,t,r)=>(a.dynCall_jii=F.qa)(e,t,r);var Rt=a.dynCall_viiij=(e,t,r,o,i,l)=>(Rt=a.dynCall_viiij=F.ra)(e,t,r,o,i,l);a.dynCall_jiji=(e,t,r,o,i)=>(a.dynCall_jiji=F.sa)(e,t,r,o,i),a.dynCall_viijii=(e,t,r,o,i,l,h)=>(a.dynCall_viijii=F.ta)(e,t,r,o,i,l,h),a.dynCall_iiiiij=(e,t,r,o,i,l,h)=>(a.dynCall_iiiiij=F.ua)(e,t,r,o,i,l,h),a.dynCall_iiiiijj=(e,t,r,o,i,l,h,c,m)=>(a.dynCall_iiiiijj=F.va)(e,t,r,o,i,l,h,c,m),a.dynCall_iiiiiijj=(e,t,r,o,i,l,h,c,m,p)=>(a.dynCall_iiiiiijj=F.wa)(e,t,r,o,i,l,h,c,m,p);function wn(e,t){var r=O();try{$.get(e)(t);}catch(o){if(z(r),o!==o+0)throw o;D(1,0);}}function _n(e,t,r){var o=O();try{$.get(e)(t,r);}catch(i){if(z(o),i!==i+0)throw i;D(1,0);}}function En(e,t,r,o){var i=O();try{return $.get(e)(t,r,o)}catch(l){if(z(i),l!==l+0)throw l;D(1,0);}}function Cn(e,t,r){var o=O();try{return $.get(e)(t,r)}catch(i){if(z(o),i!==i+0)throw i;D(1,0);}}function Mn(e,t){var r=O();try{return $.get(e)(t)}catch(o){if(z(r),o!==o+0)throw o;D(1,0);}}function bn(e,t,r,o,i,l){var h=O();try{return $.get(e)(t,r,o,i,l)}catch(c){if(z(h),c!==c+0)throw c;D(1,0);}}function Ln(e,t,r,o,i){var l=O();try{$.get(e)(t,r,o,i);}catch(h){if(z(l),h!==h+0)throw h;D(1,0);}}function Fn(e,t,r,o){var i=O();try{$.get(e)(t,r,o);}catch(l){if(z(i),l!==l+0)throw l;D(1,0);}}function In(e){var t=O();try{$.get(e)();}catch(r){if(z(t),r!==r+0)throw r;D(1,0);}}function xn(e,t,r,o,i,l){var h=O();try{Rt(e,t,r,o,i,l);}catch(c){if(z(h),c!==c+0)throw c;D(1,0);}}var Fe;ae=function e(){Fe||$t(),Fe||(ae=e);};function $t(){function e(){if(!Fe&&(Fe=!0,a.calledRun=!0,!tt)){if(Ae(it),d(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;){var t=a.postRun.shift();st.unshift(t);}Ae(st);}}if(!(0<N)){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)jt();Ae(ot),0<N||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("");},1),e();},1)):e());}}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();return $t(),T}})(),Dt=Sn;var X=class{constructor(){throw new Error("RendererLoader is a static class and cannot be instantiated.")}static async _tryLoad(n){return await Dt({locateFile:()=>n})}static async _loadWithBackup(){return this._ModulePromise||(this._ModulePromise=this._tryLoad(this._wasmURL).catch(async n=>{let a=`https://unpkg.com/${me.name}@${me.version}/dist/dotlottie-player.wasm`;console.warn(`Primary WASM load failed from ${this._wasmURL}. Error: ${n.message}`),console.warn(`Attempting to load WASM from backup URL: ${a}`);try{return await this._tryLoad(a)}catch(d){throw console.error(`Primary WASM URL failed: ${n.message}`),console.error(`Backup WASM URL failed: ${d.message}`),new Error("WASM loading failed from all sources.")}})),this._ModulePromise}static async load(){return this._loadWithBackup()}static setWasmUrl(n){this._wasmURL=n,this._ModulePromise=null;}};I(X,"_ModulePromise",null),I(X,"_wasmURL",`https://cdn.jsdelivr.net/npm/${me.name}@${me.version}/dist/dotlottie-player.wasm`);var xe=class{constructor(){I(this,"_eventListeners",new Map);}addEventListener(n,a){let d=this._eventListeners.get(n);d||(d=new Set,this._eventListeners.set(n,d)),d.add(a);}removeEventListener(n,a){let d=this._eventListeners.get(n);d&&(a?(d.delete(a),d.size===0&&this._eventListeners.delete(n)):this._eventListeners.delete(n));}dispatch(n){this._eventListeners.get(n.type)?.forEach(d=>d(n));}removeAllEventListeners(){this._eventListeners.clear();}};function Rn(s){return /^#([\\da-f]{6}|[\\da-f]{8})$/iu.test(s)}function zt(s){if(!Rn(s))return 0;let n=s.replace("#","");return n=n.length===6?`${n}ff`:n,parseInt(n,16)}var Qe=(s,n)=>s==="reverse"?n.Mode.Reverse:s==="bounce"?n.Mode.Bounce:s==="reverse-bounce"?n.Mode.ReverseBounce:n.Mode.Forward,Ze=(s,n)=>s==="contain"?n.Fit.Contain:s==="cover"?n.Fit.Cover:s==="fill"?n.Fit.Fill:s==="fit-height"?n.Fit.FitHeight:s==="fit-width"?n.Fit.FitWidth:n.Fit.None,qe=(s,n)=>{let a=new n.VectorFloat;return a.push_back(s[0]),a.push_back(s[1]),a},et=(s,n)=>{let a=new n.VectorFloat;return s.length!==2||(a.push_back(s[0]),a.push_back(s[1])),a},M=class M{constructor(n){I(this,"_canvas");I(this,"_context",null);I(this,"_eventManager");I(this,"_animationFrameId",null);I(this,"_frameManager");I(this,"_dotLottieCore",null);I(this,"_renderConfig",{});I(this,"_isFrozen",!1);I(this,"_backgroundColor",null);this._canvas=n.canvas,this._context=this._canvas.getContext("2d"),this._eventManager=new xe,this._frameManager=new Ie,this._renderConfig=n.renderConfig??{},X.load().then(a=>{M._wasmModule=a,this._dotLottieCore=new a.DotLottiePlayer({autoplay:n.autoplay??!1,backgroundColor:0,loopAnimation:n.loop??!1,mode:Qe(n.mode??"forward",a),segment:et(n.segment??[],a),speed:n.speed??1,useFrameInterpolation:n.useFrameInterpolation??!0,marker:n.marker??"",layout:n.layout?{align:qe(n.layout.align,a),fit:Ze(n.layout.fit,a)}:a.createDefaultLayout()}),this._eventManager.dispatch({type:"ready"}),n.data?this._loadFromData(n.data):n.src&&this._loadFromSrc(n.src),n.backgroundColor&&this.setBackgroundColor(n.backgroundColor);}).catch(a=>{this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to load wasm module: ${a}`)});});}_loadFromSrc(n){async function a(){let d=await fetch(n);if(!d.ok)throw new Error(`Failed to fetch the animation data from URL: ${n}. ${d.status}: ${d.statusText}`);let w=(d.headers.get("content-type")??"").trim(),T;return ["application/json","text/plain"].some(W=>w.startsWith(W))?T=await d.text():T=await d.arrayBuffer(),T}a().then(d=>{this._loadFromData(d);}).catch(d=>{this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to load animation data from URL: ${n}. ${d}`)});});}_loadFromData(n){if(this._dotLottieCore===null)return;let a=this._canvas.width,d=this._canvas.height,w=!1;if(typeof n=="string")w=this._dotLottieCore.loadAnimationData(n,a,d);else if(n instanceof ArrayBuffer)w=this._dotLottieCore.loadDotLottieData(n,a,d);else if(typeof n=="object")w=this._dotLottieCore.loadAnimationData(JSON.stringify(n),a,d);else {this._eventManager.dispatch({type:"loadError",error:new Error("Unsupported data type for animation data. Expected a string or ArrayBuffer.")});return}w?(this._eventManager.dispatch({type:"load"}),te&&this.resize(),this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render(),this._dotLottieCore.config().autoplay&&(this._dotLottieCore.play(),this._dotLottieCore.isPlaying()?(this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this))):console.error("something went wrong, the animation was suppose to autoplay"))):this._eventManager.dispatch({type:"loadError",error:new Error("Failed to load animation data")});}get activeAnimationId(){return this._dotLottieCore?.activeAnimationId()}get activeThemeId(){return this._dotLottieCore?.activeThemeId()}get layout(){let n=this._dotLottieCore?.config().layout;if(n)return {align:[n.align.get(0),n.align.get(1)],fit:(()=>{switch(n.fit){case M._wasmModule?.Fit.Contain:return "contain";case M._wasmModule?.Fit.Cover:return "cover";case M._wasmModule?.Fit.Fill:return "fill";case M._wasmModule?.Fit.FitHeight:return "fit-height";case M._wasmModule?.Fit.FitWidth:return "fit-width";case M._wasmModule?.Fit.None:return "none";default:return "contain"}})()}}get marker(){return this._dotLottieCore?.config().marker}get manifest(){try{let n=this._dotLottieCore?.manifestString();if(this._dotLottieCore===null||!n)return null;let a=JSON.parse(n);return Object.keys(a).length===0?null:a}catch{return null}}get renderConfig(){return this._renderConfig}get segment(){let n=this._dotLottieCore?.config().segment;if(n&&n.size()===2)return [n.get(0),n.get(1)]}get loop(){return this._dotLottieCore?.config().loopAnimation??!1}get mode(){let n=this._dotLottieCore?.config().mode;return n===M._wasmModule?.Mode.Reverse?"reverse":n===M._wasmModule?.Mode.Bounce?"bounce":n===M._wasmModule?.Mode.ReverseBounce?"reverse-bounce":"forward"}get isFrozen(){return this._isFrozen}get backgroundColor(){return this._backgroundColor??""}get autoplay(){return this._dotLottieCore?.config().autoplay??!1}get useFrameInterpolation(){return this._dotLottieCore?.config().useFrameInterpolation??!1}get speed(){return this._dotLottieCore?.config().speed??0}get isReady(){return this._dotLottieCore!==null}get isLoaded(){return this._dotLottieCore?.isLoaded()??!1}get isPlaying(){return this._dotLottieCore?.isPlaying()??!1}get isPaused(){return this._dotLottieCore?.isPaused()??!1}get isStopped(){return this._dotLottieCore?.isStopped()??!1}get currentFrame(){return this._dotLottieCore?.currentFrame()??0}get loopCount(){return this._dotLottieCore?.loopCount()??0}get totalFrames(){return this._dotLottieCore?.totalFrames()??0}get duration(){return this._dotLottieCore?.duration()??0}get segmentDuration(){return this._dotLottieCore?.segmentDuration()??0}get canvas(){return this._canvas}load(n){this._dotLottieCore===null||M._wasmModule===null||(this._dotLottieCore.setConfig({autoplay:n.autoplay??!1,backgroundColor:0,loopAnimation:n.loop??!1,mode:Qe(n.mode??"forward",M._wasmModule),segment:et(n.segment??[],M._wasmModule),speed:n.speed??1,useFrameInterpolation:n.useFrameInterpolation??!0,marker:n.marker??"",layout:n.layout?{align:qe(n.layout.align,M._wasmModule),fit:Ze(n.layout.fit,M._wasmModule)}:M._wasmModule.createDefaultLayout()}),n.data?this._loadFromData(n.data):n.src&&this._loadFromSrc(n.src),this.setBackgroundColor(n.backgroundColor??""));}_render(){if(this._dotLottieCore===null||this._context===null)return !1;if(this._dotLottieCore.render()){let a=this._dotLottieCore.buffer(),d=new Uint8ClampedArray(a,0,this._canvas.width*this._canvas.height*4),w=null;return typeof ImageData>"u"?(w=this._context.createImageData(this._canvas.width,this._canvas.height),w.data.set(d)):w=new ImageData(d,this._canvas.width,this._canvas.height),this._context.putImageData(w,0,0),this._eventManager.dispatch({type:"render",currentFrame:this._dotLottieCore.currentFrame()}),!0}return !1}_draw(){if(this._dotLottieCore===null||this._context===null||!this._dotLottieCore.isPlaying())return;let n=this._dotLottieCore.requestFrame();this._dotLottieCore.setFrame(n)&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render()&&this._dotLottieCore.isComplete()&&(this._dotLottieCore.config().loopAnimation?this._eventManager.dispatch({type:"loop",loopCount:this._dotLottieCore.loopCount()}):this._eventManager.dispatch({type:"complete"}))),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this));}play(){if(this._dotLottieCore===null)return;let n=this._dotLottieCore.play();this._isFrozen=!1,n&&(this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)));}pause(){if(this._dotLottieCore===null)return;this._dotLottieCore.pause()&&this._eventManager.dispatch({type:"pause"});}stop(){if(this._dotLottieCore===null)return;this._dotLottieCore.stop()&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render(),this._eventManager.dispatch({type:"stop"}));}setFrame(n){if(this._dotLottieCore===null||n<0||n>this._dotLottieCore.totalFrames())return;this._dotLottieCore.seek(n)&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render());}setSpeed(n){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),speed:n});}setBackgroundColor(n){this._dotLottieCore!==null&&(te&&this._canvas instanceof HTMLCanvasElement?this._canvas.style.backgroundColor=n:this._dotLottieCore.setConfig({...this._dotLottieCore.config(),backgroundColor:zt(n)}),this._backgroundColor=n);}setLoop(n){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),loopAnimation:n});}setUseFrameInterpolation(n){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),useFrameInterpolation:n});}addEventListener(n,a){this._eventManager.addEventListener(n,a);}removeEventListener(n,a){this._eventManager.removeEventListener(n,a);}destroy(){this._dotLottieCore?.delete(),this._dotLottieCore=null,this._context=null,this._eventManager.dispatch({type:"destroy"}),this._eventManager.removeAllEventListeners(),this._cleanupStateMachineListeners();}freeze(){this._animationFrameId!==null&&(this._frameManager.cancelAnimationFrame(this._animationFrameId),this._animationFrameId=null,this._isFrozen=!0,this._eventManager.dispatch({type:"freeze"}));}unfreeze(){this._animationFrameId===null&&(this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)),this._isFrozen=!1,this._eventManager.dispatch({type:"unfreeze"}));}resize(){if(te&&this._canvas instanceof HTMLCanvasElement){let a=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1,{height:d,width:w}=this._canvas.getBoundingClientRect();this._canvas.width=w*a,this._canvas.height=d*a;}this._dotLottieCore?.resize(this._canvas.width,this._canvas.height)&&this._render();}setSegment(n,a){this._dotLottieCore===null||M._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),segment:et([n,a],M._wasmModule)});}setMode(n){this._dotLottieCore===null||M._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),mode:Qe(n,M._wasmModule)});}setRenderConfig(n){this._renderConfig=n;}loadAnimation(n){if(this._dotLottieCore===null||this._dotLottieCore.activeAnimationId()===n)return;this._dotLottieCore.loadAnimation(n,this._canvas.width,this._canvas.height)?(this._eventManager.dispatch({type:"load"}),this.resize()):this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to animation :${n}`)});}setMarker(n){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),marker:n});}markers(){let n=this._dotLottieCore?.markers();if(n){let a=[];for(let d=0;d<n.size();d+=1){let w=n.get(d);a.push({name:w.name,time:w.time,duration:w.duration});}return a}return []}loadTheme(n){if(this._dotLottieCore===null)return !1;let a=this._dotLottieCore.loadTheme(n);return this._render(),a}loadThemeData(n){if(this._dotLottieCore===null)return !1;let a=this._dotLottieCore.loadThemeData(n);return this._render(),a}setLayout(n){this._dotLottieCore===null||M._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),layout:{align:qe(n.align,M._wasmModule),fit:Ze(n.fit,M._wasmModule)}});}setViewport(n,a,d,w){return this._dotLottieCore===null?!1:this._dotLottieCore.setViewport(n,a,d,w)}static setWasmUrl(n){X.setWasmUrl(n);}loadStateMachine(n){return this._dotLottieCore?.loadStateMachine(n)??!1}startStateMachine(){let n=this._dotLottieCore?.startStateMachine()??!1;return n&&this._setupStateMachineListeners(),n}stopStateMachine(){let n=this._dotLottieCore?.stopStateMachine()??!1;return n&&this._cleanupStateMachineListeners(),n}_getPointerPosition(n){let a=this._canvas.getBoundingClientRect(),d=this._canvas.width/a.width,w=this._canvas.height/a.height,T=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1,W=(n.clientX-a.left)*d/T,Y=(n.clientY-a.top)*w/T;return {x:W,y:Y}}_onPointerUp(n){let{x:a,y:d}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerUp: ${a} ${d}`);}_onPointerDown(n){let{x:a,y:d}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerDown: ${a} ${d}`);}_onPointerMove(n){let{x:a,y:d}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerMove: ${a} ${d}`);}_onPointerEnter(n){let{x:a,y:d}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerEnter: ${a} ${d}`);}_onPointerLeave(n){let{x:a,y:d}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerExit: ${a} ${d}`);}_onComplete(){this.postStateMachineEvent("OnComplete");}postStateMachineEvent(n){return this._dotLottieCore?.postEventPayload(n)??!1}getStateMachineListeners(){if(!this._dotLottieCore)return [];let n=this._dotLottieCore.stateMachineFrameworkSetup(),a=[];for(let d=0;d<n.size();d+=1)a.push(n.get(d));return a}_setupStateMachineListeners(){if(te&&this._canvas instanceof HTMLCanvasElement&&this._dotLottieCore!==null&&this.isLoaded){let n=this.getStateMachineListeners();n.includes("PointerUp")&&this._canvas.addEventListener("pointerup",this._onPointerUp.bind(this)),n.includes("PointerDown")&&this._canvas.addEventListener("pointerdown",this._onPointerDown.bind(this)),n.includes("PointerMove")&&this._canvas.addEventListener("pointermove",this._onPointerMove.bind(this)),n.includes("PointerEnter")&&this._canvas.addEventListener("pointerenter",this._onPointerEnter.bind(this)),n.includes("PointerExit")&&this._canvas.addEventListener("pointerleave",this._onPointerLeave.bind(this)),n.includes("Complete")&&this.addEventListener("complete",this._onComplete.bind(this));}}_cleanupStateMachineListeners(){te&&this._canvas instanceof HTMLCanvasElement&&(this._canvas.removeEventListener("pointerup",this._onPointerUp.bind(this)),this._canvas.removeEventListener("pointerdown",this._onPointerDown.bind(this)),this._canvas.removeEventListener("pointermove",this._onPointerMove.bind(this)),this._canvas.removeEventListener("pointerenter",this._onPointerEnter.bind(this)),this._canvas.removeEventListener("pointerleave",this._onPointerLeave.bind(this)),this.removeEventListener("complete",this._onComplete.bind(this)));}loadStateMachineData(n){return this._dotLottieCore?.loadStateMachineData(n)??!1}animationSize(){let n=this._dotLottieCore?.animationSize().get(0)??0,a=this._dotLottieCore?.animationSize().get(1)??0;return {width:n,height:a}}setStateMachineBooleanContext(n,a){return this._dotLottieCore?.setStateMachineBooleanContext(n,a)??!1}setStateMachineNumericContext(n,a){return this._dotLottieCore?.setStateMachineNumericContext(n,a)??!1}setStateMachineStringContext(n,a){return this._dotLottieCore?.setStateMachineStringContext(n,a)??!1}};I(M,"_wasmModule",null);var fe=M;var E=new Map,$n={ready:s=>n=>{let a={id:"",method:"onReady",result:{instanceId:s,event:n}};self.postMessage(a);},complete:s=>n=>{let a={id:"",method:"onComplete",result:{instanceId:s,event:n}};self.postMessage(a);},load:s=>n=>{let d={id:"",method:"onLoad",result:{instanceId:s,event:n}};self.postMessage(d);},loadError:s=>n=>{let d={id:"",method:"onLoadError",result:{instanceId:s,event:n}};self.postMessage(d);},loop:s=>n=>{let d={id:"",method:"onLoop",result:{instanceId:s,event:n}};self.postMessage(d);},play:s=>n=>{let d={id:"",method:"onPlay",result:{instanceId:s,event:n}};self.postMessage(d);},pause:s=>n=>{let d={id:"",method:"onPause",result:{instanceId:s,event:n}};self.postMessage(d);},stop:s=>n=>{let d={id:"",method:"onStop",result:{instanceId:s,event:n}};self.postMessage(d);},frame:s=>n=>{let d={id:"",method:"onFrame",result:{instanceId:s,event:n}};self.postMessage(d);},render:s=>n=>{let d={id:"",method:"onRender",result:{instanceId:s,event:n}};self.postMessage(d);},freeze:s=>n=>{let d={id:"",method:"onFreeze",result:{instanceId:s,event:n}};self.postMessage(d);},unfreeze:s=>n=>{let d={id:"",method:"onUnfreeze",result:{instanceId:s,event:n}};self.postMessage(d);},destroy:s=>n=>{let d={id:"",method:"onDestroy",result:{instanceId:s,event:n}};self.postMessage(d);}},Ot={getDotLottieInstanceState(s){let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);return {state:{isLoaded:a.isLoaded,isPaused:a.isPaused,isPlaying:a.isPlaying,isStopped:a.isStopped,isFrozen:a.isFrozen,loop:a.loop,mode:a.mode,speed:a.speed,currentFrame:a.currentFrame,totalFrames:a.totalFrames,duration:a.duration,useFrameInterpolation:a.useFrameInterpolation,renderConfig:a.renderConfig,marker:a.marker,backgroundColor:a.backgroundColor,markers:a.markers(),activeAnimationId:a.activeAnimationId,activeThemeId:a.activeThemeId,autoplay:a.autoplay,segment:a.segment,layout:a.layout,segmentDuration:a.segmentDuration,isReady:a.isReady,manifest:a.manifest}}},setLayout(s){let n=s.params.instanceId,a=s.params.layout,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.setLayout(a),{success:!0}},getStateMachineListeners(s){let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);return a.getStateMachineListeners()},postStateMachineEvent(s){let n=s.params.instanceId,a=s.params.event,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.postStateMachineEvent(a)},startStateMachine(s){let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);return a.startStateMachine()},stopStateMachine(s){let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);return a.stopStateMachine()},loadStateMachine(s){let n=s.params.instanceId,a=s.params.stateMachineId,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.loadStateMachine(a)},create:s=>{let n=s.params.instanceId,a=s.params.config,d=s.params.width,w=s.params.height;if(E.has(n))throw new Error(`Instance with id ${n} already exists.`);let T=new fe(a);return T.canvas.height=w,T.canvas.width=d,E.set(n,T),["complete","frame","load","loadError","loop","pause","play","stop","destroy","freeze","unfreeze","render","ready"].forEach(Y=>{T.addEventListener(Y,$n[Y](n));}),{instanceId:n}},destroy:s=>{let n=s.params.instanceId,a=E.get(n);a&&(a.destroy(),E.delete(n));},freeze:s=>{let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);a.freeze();},load:s=>{let n=s.params.instanceId,a=s.params.config,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.load(a);},loadAnimation:s=>{let n=s.params.instanceId,a=s.params.animationId,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.loadAnimation(a);},loadTheme:s=>{let n=s.params.instanceId,a=s.params.themeId,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.loadTheme(a)},loadThemeData:s=>{let n=s.params.instanceId,a=s.params.themeData,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.loadThemeData(a)},pause:s=>{let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);return a.pause()},play:s=>{let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);return a.play()},resize:s=>{let n=s.params.instanceId,a=s.params.width,d=s.params.height,w=E.get(n);if(!w)throw new Error(`Instance with id ${n} does not exist.`);return w.canvas.height=d,w.canvas.width=a,w.resize(),{success:!0}},setBackgroundColor:s=>{let n=s.params.instanceId,a=s.params.backgroundColor,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setBackgroundColor(a);},setFrame:s=>{let n=s.params.instanceId,a=s.params.frame,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setFrame(a);},setMode:s=>{let n=s.params.instanceId,a=s.params.mode,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setMode(a);},setRenderConfig:s=>{let n=s.params.instanceId,a=s.params.renderConfig,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setRenderConfig(a);},setSegment:s=>{let n=s.params.instanceId,a=s.params.segment,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setSegment(a[0],a[1]);},setSpeed:s=>{let n=s.params.instanceId,a=s.params.speed,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setSpeed(a);},setUseFrameInterpolation:s=>{let n=s.params.instanceId,a=s.params.useFrameInterpolation,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setUseFrameInterpolation(a);},setWasmUrl:s=>{fe.setWasmUrl(s.params.url);},stop:s=>{let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);a.stop();},unfreeze:s=>{let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);a.unfreeze();},setViewport(s){let n=s.params.instanceId,a=s.params.x,d=s.params.y,w=s.params.width,T=s.params.height,W=E.get(n);if(!W)throw new Error(`Instance with id ${n} does not exist.`);return W.setViewport(a,d,w,T)},setMarker(s){let n=s.params.instanceId,a=s.params.marker,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.setMarker(a),{success:!0}},setLoop(s){let n=s.params.instanceId,a=s.params.loop,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.setLoop(a),{success:!0}}};function kn(s){let n=s.method;if(typeof Ot[n]=="function")return Ot[n](s);throw new Error(`Method ${n} is not implemented in commands.`)}self.onmessage=s=>{try{let n=kn(s.data),a={id:s.data.id,method:s.data.method,result:n};self.postMessage(a);}catch(n){let a={id:s.data.id,method:s.data.method,error:n.message};self.postMessage(a);}};var Dn="",lr=Dn;\n\nexport { lr as default };\n',Ri=class{constructor(){F(this,"_workers",new Map),F(this,"_animationWorkerMap",new Map)}_createWorker(s){let n=new Blob([Ti],{type:"application/javascript"});return new Worker(URL.createObjectURL(n),{type:"module",name:s})}getWorker(s){return this._workers.has(s)||this._workers.set(s,this._createWorker(s)),this._workers.get(s)}assignAnimationToWorker(s,n){this._animationWorkerMap.set(s,n)}unassignAnimationFromWorker(s){this._animationWorkerMap.delete(s)}sendMessage(s,n,a){this.getWorker(s).postMessage(n,a||[])}terminateWorker(s){let n=this._workers.get(s);n&&(n.terminate(),this._workers.delete(s))}};function Ca(s){if(s instanceof OffscreenCanvas)return{width:s.width,height:s.height};let{height:n,width:a}=s.getBoundingClientRect();return{width:a*window.devicePixelRatio,height:n*window.devicePixelRatio}}function wa(){return Date.now().toString(36)+Math.random().toString(36).substr(2,9)}var Sa=class Pt{constructor(n){F(this,"_eventManager",new La),F(this,"_id"),F(this,"_worker"),F(this,"_canvas"),F(this,"_dotLottieInstanceState",{markers:[],autoplay:!1,backgroundColor:"",currentFrame:0,duration:0,loop:!1,mode:"forward",segment:[0,0],segmentDuration:0,speed:1,totalFrames:0,isLoaded:!1,isPlaying:!1,isPaused:!1,isStopped:!0,isFrozen:!1,useFrameInterpolation:!1,renderConfig:{devicePixelRatio:window.devicePixelRatio},activeAnimationId:"",activeThemeId:"",layout:void 0,marker:void 0,isReady:!1,manifest:null}),F(this,"_created",!1),this._canvas=n.canvas,this._id=`dotlottie-${wa()}`;let a=n.workerId||"defaultWorker";this._worker=Pt._workerManager.getWorker(a),Pt._workerManager.assignAnimationToWorker(this._id,a),Pt._wasmUrl&&this._sendMessage("setWasmUrl",{url:Pt._wasmUrl}),this._create(n),this._worker.addEventListener("message",this._handleWorkerEvent.bind(this))}_handleWorkerEvent(n){return M(this,null,function*(){let a=n.data;a.id||(a.method==="onLoad"&&a.result.instanceId===this._id&&(yield this._updateDotLottieInstanceState(),this._eventManager.dispatch(a.result.event)),a.method==="onComplete"&&a.result.instanceId===this._id&&(yield this._updateDotLottieInstanceState(),this._eventManager.dispatch(a.result.event)),a.method==="onDestroy"&&a.result.instanceId===this._id&&this._eventManager.dispatch(a.result.event),a.method==="onUnfreeze"&&a.result.instanceId===this._id&&(yield this._updateDotLottieInstanceState(),this._dotLottieInstanceState.isFrozen=!1,this._eventManager.dispatch(a.result.event)),a.method==="onFrame"&&a.result.instanceId===this._id&&(this._dotLottieInstanceState.currentFrame=a.result.event.currentFrame,this._eventManager.dispatch(a.result.event)),a.method==="onRender"&&a.result.instanceId===this._id&&this._eventManager.dispatch(a.result.event),a.method==="onFreeze"&&a.result.instanceId===this._id&&(yield this._updateDotLottieInstanceState(),this._eventManager.dispatch(a.result.event)),a.method==="onPause"&&a.result.instanceId===this._id&&(yield this._updateDotLottieInstanceState(),this._eventManager.dispatch(a.result.event)),a.method==="onPlay"&&a.result.instanceId===this._id&&(yield this._updateDotLottieInstanceState(),this._eventManager.dispatch(a.result.event)),a.method==="onStop"&&a.result.instanceId===this._id&&(yield this._updateDotLottieInstanceState(),this._eventManager.dispatch(a.result.event)),a.method==="onLoadError"&&a.result.instanceId===this._id&&(yield this._updateDotLottieInstanceState(),this._eventManager.dispatch(a.result.event)),a.method==="onReady"&&a.result.instanceId===this._id&&(yield this._updateDotLottieInstanceState(),this._eventManager.dispatch(a.result.event)))})}_create(n){return M(this,null,function*(){let a;this._canvas instanceof HTMLCanvasElement?a=this._canvas.transferControlToOffscreen():a=this._canvas;let{instanceId:c}=yield this._sendMessage("create",x({instanceId:this._id,config:T(x({},n),{canvas:a})},Ca(this._canvas)),[a]);if(c!==this._id)throw new Error("Instance ID mismatch");this._created=!0,yield this._updateDotLottieInstanceState()})}get isLoaded(){return this._dotLottieInstanceState.isLoaded}get isPlaying(){return this._dotLottieInstanceState.isPlaying}get isPaused(){return this._dotLottieInstanceState.isPaused}get isStopped(){return this._dotLottieInstanceState.isStopped}get currentFrame(){return this._dotLottieInstanceState.currentFrame}get isFrozen(){return this._dotLottieInstanceState.isFrozen}get segmentDuration(){return this._dotLottieInstanceState.segmentDuration}get totalFrames(){return this._dotLottieInstanceState.totalFrames}get segment(){return this._dotLottieInstanceState.segment}get speed(){return this._dotLottieInstanceState.speed}get duration(){return this._dotLottieInstanceState.duration}get isReady(){return this._dotLottieInstanceState.isReady}get mode(){return this._dotLottieInstanceState.mode}get canvas(){return this._canvas}get autoplay(){return this._dotLottieInstanceState.autoplay}get backgroundColor(){return this._dotLottieInstanceState.backgroundColor}get loop(){return this._dotLottieInstanceState.loop}get useFrameInterpolation(){return this._dotLottieInstanceState.useFrameInterpolation}get renderConfig(){return this._dotLottieInstanceState.renderConfig}get manifest(){return this._dotLottieInstanceState.manifest}get activeAnimationId(){return this._dotLottieInstanceState.activeAnimationId}get marker(){return this._dotLottieInstanceState.marker}get activeThemeId(){return this._dotLottieInstanceState.activeThemeId}get layout(){return this._dotLottieInstanceState.layout}play(){return M(this,null,function*(){this._created&&(yield this._sendMessage("play",{instanceId:this._id}),yield this._updateDotLottieInstanceState())})}pause(){return M(this,null,function*(){this._created&&(yield this._sendMessage("pause",{instanceId:this._id}),yield this._updateDotLottieInstanceState())})}stop(){return M(this,null,function*(){this._created&&(yield this._sendMessage("stop",{instanceId:this._id}),yield this._updateDotLottieInstanceState())})}setSpeed(n){return M(this,null,function*(){this._created&&(yield this._sendMessage("setSpeed",{instanceId:this._id,speed:n}),yield this._updateDotLottieInstanceState())})}setMode(n){return M(this,null,function*(){this._created&&(yield this._sendMessage("setMode",{instanceId:this._id,mode:n}),yield this._updateDotLottieInstanceState())})}setFrame(n){return M(this,null,function*(){this._created&&(yield this._sendMessage("setFrame",{frame:n,instanceId:this._id}),yield this._updateDotLottieInstanceState())})}setSegment(n,a){return M(this,null,function*(){this._created&&(yield this._sendMessage("setSegment",{instanceId:this._id,segment:[n,a]}),yield this._updateDotLottieInstanceState())})}setRenderConfig(n){return M(this,null,function*(){this._created&&(yield this._sendMessage("setRenderConfig",{instanceId:this._id,renderConfig:n}),yield this._updateDotLottieInstanceState())})}setUseFrameInterpolation(n){return M(this,null,function*(){this._created&&(yield this._sendMessage("setUseFrameInterpolation",{instanceId:this._id,useFrameInterpolation:n}),yield this._updateDotLottieInstanceState())})}loadTheme(n){return M(this,null,function*(){if(!this._created)return!1;let a=this._sendMessage("loadTheme",{instanceId:this._id,themeId:n});return yield this._updateDotLottieInstanceState(),a})}load(n){return M(this,null,function*(){this._created&&(yield this._sendMessage("load",{config:n,instanceId:this._id}),yield this._updateDotLottieInstanceState())})}setLoop(n){return M(this,null,function*(){this._created&&(yield this._sendMessage("setLoop",{instanceId:this._id,loop:n}),yield this._updateDotLottieInstanceState())})}resize(){return M(this,null,function*(){if(!this._created)return;let{height:n,width:a}=Ca(this._canvas);this._canvas.width=a,this._canvas.height=n,yield this._sendMessage("resize",{height:n,instanceId:this._id,width:a}),yield this._updateDotLottieInstanceState()})}destroy(){return M(this,null,function*(){this._created&&(this._created=!1,yield this._sendMessage("destroy",{instanceId:this._id}),this._cleanupStateMachineListeners(),Pt._workerManager.unassignAnimationFromWorker(this._id),this._eventManager.removeAllEventListeners())})}freeze(){return M(this,null,function*(){this._created&&(yield this._sendMessage("freeze",{instanceId:this._id}),yield this._updateDotLottieInstanceState())})}unfreeze(){return M(this,null,function*(){this._created&&(yield this._sendMessage("unfreeze",{instanceId:this._id}),yield this._updateDotLottieInstanceState())})}setBackgroundColor(n){return M(this,null,function*(){this._created&&(yield this._sendMessage("setBackgroundColor",{instanceId:this._id,backgroundColor:n}),yield this._updateDotLottieInstanceState())})}loadAnimation(n){return M(this,null,function*(){this._created&&(yield this._sendMessage("loadAnimation",{animationId:n,instanceId:this._id}),yield this._updateDotLottieInstanceState())})}setLayout(n){return M(this,null,function*(){this._created&&(yield this._sendMessage("setLayout",{instanceId:this._id,layout:n}),yield this._updateDotLottieInstanceState())})}_updateDotLottieInstanceState(){return M(this,null,function*(){if(!this._created)return;let n=yield this._sendMessage("getDotLottieInstanceState",{instanceId:this._id});this._dotLottieInstanceState=n.state})}markers(){return this._dotLottieInstanceState.markers}setMarker(n){return M(this,null,function*(){this._created&&(yield this._sendMessage("setMarker",{instanceId:this._id,marker:n}),yield this._updateDotLottieInstanceState())})}loadThemeData(n){return M(this,null,function*(){if(!this._created)return!1;let a=yield this._sendMessage("loadThemeData",{instanceId:this._id,themeData:n});return yield this._updateDotLottieInstanceState(),a})}setViewport(n,a,c,p){return M(this,null,function*(){return this._created?this._sendMessage("setViewport",{x:n,y:a,width:c,height:p,instanceId:this._id}):!1})}_sendMessage(n,a,c){return M(this,null,function*(){let p={id:`dotlottie-request-${wa()}`,method:n,params:a};return this._worker.postMessage(p,c||[]),new Promise((_,q)=>{let rt=V=>{let xt=V.data;xt.id===p.id&&(this._worker.removeEventListener("message",rt),xt.error?q(new Error(`Failed to execute method ${n}: ${xt.error}`)):_(xt.result))};this._worker.addEventListener("message",rt)})})}addEventListener(n,a){this._eventManager.addEventListener(n,a)}removeEventListener(n,a){this._eventManager.removeEventListener(n,a)}static setWasmUrl(n){Pt._wasmUrl=n}loadStateMachine(n){return M(this,null,function*(){if(!this._created)return!1;let a=yield this._sendMessage("loadStateMachine",{instanceId:this._id,stateMachineId:n});return yield this._updateDotLottieInstanceState(),a})}startStateMachine(){return M(this,null,function*(){if(!this._created)return!1;this._setupStateMachineListeners();let n=yield this._sendMessage("startStateMachine",{instanceId:this._id});return yield this._updateDotLottieInstanceState(),n})}stopStateMachine(){return M(this,null,function*(){return this._created?(this._cleanupStateMachineListeners(),this._sendMessage("stopStateMachine",{instanceId:this._id})):!1})}postStateMachineEvent(n){return M(this,null,function*(){return this._created?this._sendMessage("postStateMachineEvent",{event:n,instanceId:this._id}):!1})}getStateMachineListeners(){return M(this,null,function*(){return this._created?this._sendMessage("getStateMachineListeners",{instanceId:this._id}):[]})}_getPointerPosition(n){let a=this._canvas.getBoundingClientRect(),c=this._canvas.width/a.width,p=this._canvas.height/a.height,_=this._dotLottieInstanceState.renderConfig.devicePixelRatio||window.devicePixelRatio||1,q=(n.clientX-a.left)*c/_,rt=(n.clientY-a.top)*p/_;return{x:q,y:rt}}_onPointerUp(n){let{x:a,y:c}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerUp: ${a} ${c}`)}_onPointerDown(n){let{x:a,y:c}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerDown: ${a} ${c}`)}_onPointerMove(n){let{x:a,y:c}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerMove: ${a} ${c}`)}_onPointerEnter(n){let{x:a,y:c}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerEnter: ${a} ${c}`)}_onPointerLeave(n){let{x:a,y:c}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerExit: ${a} ${c}`)}_onComplete(){this.postStateMachineEvent("OnComplete")}_setupStateMachineListeners(){return M(this,null,function*(){if(Et&&this._canvas instanceof HTMLCanvasElement&&this.isLoaded){let n=yield this._sendMessage("getStateMachineListeners",{instanceId:this._id});n.includes("PointerUp")&&this._canvas.addEventListener("pointerup",this._onPointerUp.bind(this)),n.includes("PointerDown")&&this._canvas.addEventListener("pointerdown",this._onPointerDown.bind(this)),n.includes("PointerMove")&&this._canvas.addEventListener("pointermove",this._onPointerMove.bind(this)),n.includes("PointerEnter")&&this._canvas.addEventListener("pointerenter",this._onPointerEnter.bind(this)),n.includes("PointerExit")&&this._canvas.addEventListener("pointerleave",this._onPointerLeave.bind(this)),n.includes("Complete")&&this.addEventListener("complete",this._onComplete.bind(this))}})}_cleanupStateMachineListeners(){Et&&this._canvas instanceof HTMLCanvasElement&&(this._canvas.removeEventListener("pointerup",this._onPointerUp.bind(this)),this._canvas.removeEventListener("pointerdown",this._onPointerDown.bind(this)),this._canvas.removeEventListener("pointermove",this._onPointerMove.bind(this)),this._canvas.removeEventListener("pointerenter",this._onPointerEnter.bind(this)),this._canvas.removeEventListener("pointerleave",this._onPointerLeave.bind(this)),this.removeEventListener("complete",this._onComplete.bind(this)))}};F(Sa,"_workerManager",new Ri),F(Sa,"_wasmUrl","");function Aa(s,n){let a=s.ngOnInit;s.ngOnInit=function(){if(this[n]===void 0||this[n]===null)throw new Error(`Required input '${n}' was not provided in ${s.constructor.name}.`);if(a)return a.apply(this)}}var jt=function(s){return s.QUANTIZATION="quant",s.PRUNING="pruning",s}(jt||{});var Ia={[jt.PRUNING]:{path:"assets/animations/pruning.lottie",speed:.15,className:"pruning"},[jt.QUANTIZATION]:{path:"assets/animations/quantization.lottie",speed:.07,className:"quant"}};var ki=["dotlottieCanvas"],dt,ee=(dt=class{constructor(n,a,c){this.scriptFacadeService=n,this.el=a,this.renderer=c}ngOnInit(){let n=Ia[this.animationType];if(!n)throw new Error(`Unknown animation type: ${this.animationType}`);this.initializeAnimation(n)}initializeAnimation(n){this.dotLottie=new ba({autoplay:!1,loop:!0,canvas:this.dotlottieCanvas.nativeElement,src:n.path,speed:n.speed||1}),this.dotLottie.addEventListener("load",()=>{this.listenToScriptStateChanges()}),this.renderer.addClass(this.el.nativeElement,n.className)}listenToScriptStateChanges(){this.scriptFacadeService.scriptStatus$.pipe($t(this)).subscribe(n=>{Ae(n)?this.playAnimation():this.stopAnimation()})}playAnimation(){this.dotLottie?.play()}stopAnimation(){this.dotLottie?.stop()}},dt.\u0275fac=function(a){return new(a||dt)(W(Ut),W(Jn),W(ta))},dt.\u0275cmp=G({type:dt,selectors:[["ms-running-animation"]],viewQuery:function(a,c){if(a&1&&ea(ki,7),a&2){let p;na(p=aa())&&(c.dotlottieCanvas=p.first)}},inputs:{animationType:"animationType"},decls:3,vars:0,consts:[["dotlottieCanvas",""],[1,"parent-container"],["id","dotlottie-canvas"]],template:function(a,c){a&1&&(w(0,"div",1),P(1,"canvas",2,0),v())},styles:[".parent-container[_ngcontent-%COMP%]{overflow:hidden;height:300px;border-radius:10px;margin-bottom:10px;position:relative;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}canvas[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;position:absolute;top:50%;left:0;transform:translateY(-50%)}.pruning[_nghost-%COMP%]   .parent-container[_ngcontent-%COMP%]{background-color:#b2ddff}@media (max-width: 1000px){.pruning[_nghost-%COMP%]   .parent-container[_ngcontent-%COMP%]{height:180px}}@media (min-width: 1200px){.pruning[_nghost-%COMP%]   canvas[_ngcontent-%COMP%]{width:900px;left:calc((100% - 900px)/2)}}.quant[_nghost-%COMP%]   .parent-container[_ngcontent-%COMP%]{background-color:#1649a8}@media (max-width: 1000px){.quant[_nghost-%COMP%]   .parent-container[_ngcontent-%COMP%]{height:180px}}@media (min-width: 1100px){.quant[_nghost-%COMP%]   canvas[_ngcontent-%COMP%]{width:900px;left:calc((100% - 900px)/2)}}"],changeDetection:0}),dt);lt([Aa],ee.prototype,"animationType",void 0);ee=lt([_t()],ee);var j=function(s){return s.ACCURACY="accuracy",s.LOSS="loss",s}(j||{}),Ui=100,ne=(s,n,a=!1)=>s.map(c=>({datasetIndex:c.datasetIndex,values:(a?c.testing:c.steps).map(p=>p[n])||[]})),Pa=s=>{let n=s.flatMap(a=>a.sparsity).filter(a=>a!=null);return[{datasetIndex:0,values:[Ui,...n]}]},mn=(s,n)=>[{datasetIndex:0,values:s.steps.map(a=>a[n]).filter(a=>a!=null)}],pn=(s,n)=>n===j.LOSS?s.map((a,c)=>({datasetIndex:c,values:a.steps.map(p=>p?.loss).filter(p=>p!=null)})):[{datasetIndex:0,values:s.map(a=>a.accuracy).filter(a=>a!=null)}],gn=(s,n)=>s.epochs.map((a,c)=>({datasetIndex:c,values:a.steps.map(p=>p[n])})),fn=(s,n)=>s.tests.map((a,c)=>({datasetIndex:c,values:a.steps.map(p=>p[n])}));var Fa=(()=>{let n=class n{constructor(c){this.chartsFacadeService=c,this.RealtimeUpdateMetric=U,this.initialAccuracyChartData=[],this.accuracyChartDisplaySettings={chartDataStructure:H.SINGLE_PHASE_X_AXIS,xAxisDataPointsCount:159,isXAxisDynamic:!0,datasetLabelPrefix:"Epoch:",xAxisLabelPrefix:"Step",xAxisRepetitionCount:1,yAxisMinimumValue:0,yAxisMaximumValue:100,zoomRangeLimits:{max:100},datasetColorSettingsKey:B.GREEN,realtimeUpdateMetric:U.ACCURACY},this.initialAccuracyTestingChartData=[],this.testingAccuracyChartDisplaySettings={chartDataStructure:H.SINGLE_PHASE_X_AXIS,xAxisDataPointsCount:159,isXAxisVisible:!0,isXAxisDynamic:!0,xAxisLabelPrefix:"Step",datasetLabelPrefix:"Test:",xAxisRepetitionCount:1,yAxisMinimumValue:0,yAxisMaximumValue:100,zoomRangeLimits:{max:100},datasetColorSettingsKey:B.YELLOW,realtimeUpdateMetric:U.TESTING_ACCURACY},this.initialLossChartData=[],this.lossChartDisplaySettings={chartDataStructure:H.SINGLE_PHASE_X_AXIS,xAxisDataPointsCount:159,isXAxisVisible:!0,isXAxisDynamic:!0,xAxisLabelPrefix:"Step",datasetLabelPrefix:"Epoch:",xAxisRepetitionCount:1,yAxisMinimumValue:0,isYAxisDynamic:!0,datasetColorSettingsKey:B.RED,realtimeUpdateMetric:U.LOSS},this.initialLossTestingChartData=[],this.testingLossChartDisplaySettings={chartDataStructure:H.SINGLE_PHASE_X_AXIS,xAxisDataPointsCount:159,isXAxisVisible:!0,isXAxisDynamic:!0,xAxisLabelPrefix:"Step",datasetLabelPrefix:"Test:",xAxisRepetitionCount:1,yAxisMinimumValue:0,isYAxisDynamic:!0,dynamicYAxisGrowthOffset:1,dynamicYAxisGrowthRoundFactor:2,datasetColorSettingsKey:B.YELLOW,realtimeUpdateMetric:U.TESTING_LOSS}}ngOnInit(){this.loadChartSettings(),this.loadLatestChartsData()}loadChartSettings(){this.chartsFacadeService.dispatch(yt.getCurrentMachineUnlearningChartData())}loadLatestChartsData(){this.chartsFacadeService.machineUnlearningProgress$.pipe(Z(1),ot(c=>!Ie(c)),Q(1)).subscribe(c=>{this.initialAccuracyChartData=gn(c,j.ACCURACY),this.initialLossChartData=gn(c,j.LOSS),this.initialAccuracyTestingChartData=fn(c,j.ACCURACY),this.initialLossTestingChartData=fn(c,j.LOSS)})}};n.\u0275fac=function(p){return new(p||n)(W(Wt))},n.\u0275cmp=G({type:n,selectors:[["ms-running-machine-unlearning-charts"]],decls:19,vars:8,consts:[[1,"charts"],[1,"ms-chart-display","accuracy-chart"],[1,"epochs"],[1,"paragraph-bold-p3-small-bold","p-2"],[3,"data","settings"],[1,"testing"],[1,"ms-chart-display","loss-chart"]],template:function(p,_){p&1&&(w(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),A(4,"Accuracy Training"),v(),P(5,"ms-line-chart",4),v(),w(6,"div",5)(7,"p",3),A(8,"Accuracy Test"),v(),P(9,"ms-line-chart",4),v()(),w(10,"div",6)(11,"div",2)(12,"p",3),A(13,"Loss Training"),v(),P(14,"ms-line-chart",4),v(),w(15,"div",5)(16,"p",3),A(17,"Loss Test"),v(),P(18,"ms-line-chart",4),v()()()),p&2&&(S(5),L("data",_.initialAccuracyChartData)("settings",_.accuracyChartDisplaySettings),S(4),L("data",_.initialAccuracyTestingChartData)("settings",_.testingAccuracyChartDisplaySettings),S(5),L("data",_.initialLossChartData)("settings",_.lossChartDisplaySettings),S(4),L("data",_.initialLossTestingChartData)("settings",_.testingLossChartDisplaySettings))},dependencies:[Ct],styles:[".charts[_ngcontent-%COMP%]   .ms-chart-display[_ngcontent-%COMP%]{display:flex}.charts[_ngcontent-%COMP%]   .ms-chart-display.accuracy-chart[_ngcontent-%COMP%], .charts[_ngcontent-%COMP%]   .ms-chart-display.loss-chart[_ngcontent-%COMP%]{background-color:var(--backgrounds-80);border-radius:20px;padding:10px;margin:10px 0}.charts[_ngcontent-%COMP%]   .ms-chart-display[_ngcontent-%COMP%]   .epochs[_ngcontent-%COMP%]{flex:0 0 70%}.charts[_ngcontent-%COMP%]   .ms-chart-display[_ngcontent-%COMP%]   .testing[_ngcontent-%COMP%]{border-left:1px solid var(--foregrounds-300);padding-left:10px;margin-left:10px;flex:0 0 28.5%}"]});let s=n;return s})();var it=function(s){return s.SPARSITY_PRUNING="sparsityPruning",s.ACCURACY_PRUNING="accuracyPruning",s.ACCURACY_QUANTIZATION="accuracyQuantization",s.ACCURACY_MACHINE_UNLEARNING="accuracyMachineUnlearning",s.LOSS_QUANTIZATION="lossQuantization",s.LOSS_PRUNING="lossPruning",s.LOSS_MACHINE_UNLEARNING="lossMachineUnlearning",s.TESTING_ACCURACY_CHART="testing_accuracyChart",s.TESTING_LOSS_CHART="testing_lossChart",s}(it||{});var mt,Oe=(mt=class{constructor(n){this.chartsFacadeService=n,this.RealtimeUpdateMetric=U,this.initialLossChartData=[],this.lossPruningChartSettings={},this.lossChartDisplaySettings=T(x({},Nt),{yAxisMinimumValue:0,yAxisTickInterval:2,chartDataStructure:H.MUlTI_PHASE_X_AXIS,xAxisDataPointsCount:cn,isYAxisDynamic:!0,dynamicYAxisGrowthOffset:2,datasetColorSettingsKey:B.RED,realtimeUpdateMetric:U.LOSS}),this.initialLossTestingChartData=[],this.testingLossChartDisplaySettings=T(x({},Nt),{yAxisMinimumValue:0,yAxisTickInterval:2,chartDataStructure:H.MUlTI_PHASE_X_AXIS,xAxisDataPointsCount:Fe,isYAxisDynamic:!0,dynamicYAxisGrowthOffset:2,datasetColorSettingsKey:B.YELLOW,realtimeUpdateMetric:U.TESTING_LOSS}),this.initialAccuracyChartData=[],this.accuracyPruningChartSettings={},this.accuracyChartDisplaySettings=T(x({},Nt),{chartDataStructure:H.MUlTI_PHASE_X_AXIS,xAxisDataPointsCount:cn,yAxisMaximumValue:100,zoomRangeLimits:{max:100},datasetColorSettingsKey:B.GREEN,realtimeUpdateMetric:U.ACCURACY}),this.initialAccuracyTestingChartData=[],this.testingAccuracyChartDisplaySettings=T(x({},Nt),{yAxisTickInterval:20,chartDataStructure:H.MUlTI_PHASE_X_AXIS,xAxisDataPointsCount:Fe,yAxisMaximumValue:100,zoomRangeLimits:{max:100},datasetColorSettingsKey:B.YELLOW,realtimeUpdateMetric:U.TESTING_ACCURACY}),this.initialSparsityChartData=[],this.sparsityPruningChartSettings={},this.sparsityChartDisplaySettings=T(x({},Nt),{xAxisLabelPrefix:"Pruning",isDatasetLabelVisible:!1,yAxisTickInterval:100,chartDataStructure:H.SINGLE_PHASE_X_AXIS_SKIP_ONE,zoomRangeLimits:{max:100},datasetColorSettingsKey:B.BLUE,useSteppedLines:!0,realtimeUpdateMetric:U.SPARSITY})}ngOnInit(){this.loadChartSettings(),this.loadLatestChartsData()}loadChartSettings(){this.chartsFacadeService.settings$.pipe(Z(1),Q(1)).subscribe(n=>{n&&(this.accuracyPruningChartSettings=n[it.ACCURACY_PRUNING]||{},this.accuracyChartDisplaySettings=T(x({},this.accuracyChartDisplaySettings),{xAxisRepetitionCount:Number(this.accuracyPruningChartSettings.epochs)}),this.testingAccuracyChartDisplaySettings=T(x({},this.testingAccuracyChartDisplaySettings),{xAxisRepetitionCount:Number(this.accuracyPruningChartSettings.epochs)}),this.lossPruningChartSettings=T(x({},n[it.LOSS_PRUNING]||{}),{testingSteps:Fe}),this.lossChartDisplaySettings=T(x({},this.lossChartDisplaySettings),{xAxisRepetitionCount:Number(this.lossPruningChartSettings.epochs)}),this.testingLossChartDisplaySettings=T(x({},this.testingLossChartDisplaySettings),{xAxisRepetitionCount:Number(this.lossPruningChartSettings.epochs)}),this.sparsityPruningChartSettings=x({},n[it.SPARSITY_PRUNING]||{}),this.sparsityChartDisplaySettings=T(x({},this.sparsityChartDisplaySettings),{xAxisDataPointsCount:this.sparsityPruningChartSettings.pruningTimes+1}),this.chartsFacadeService.dispatch(yt.getCurrentPruningChartData()))}),this.chartsFacadeService.dispatch(yt.getChartConfigurationSettings({chartTypes:[it.ACCURACY_PRUNING,it.LOSS_PRUNING,it.SPARSITY_PRUNING]}))}loadLatestChartsData(){this.chartsFacadeService.pruningProgress.pipe(Z(1),ot(n=>!!n&&n.length>0),Q(1)).subscribe(n=>{this.initialLossChartData=ne(n,j.LOSS),this.initialLossTestingChartData=ne(n,j.LOSS,!0),this.initialAccuracyChartData=ne(n,j.ACCURACY),this.initialAccuracyTestingChartData=ne(n,j.ACCURACY,!0),this.initialSparsityChartData=Pa(n)})}},mt.\u0275fac=function(a){return new(a||mt)(W(Wt))},mt.\u0275cmp=G({type:mt,selectors:[["ms-running-pruning-charts"]],decls:23,vars:10,consts:[[1,"charts"],[1,"ms-chart-display","accuracy-chart"],[1,"epochs"],[1,"paragraph-bold-p3-small-bold","p-2"],[3,"data","settings"],[1,"testing"],[1,"ms-chart-display","loss-chart"],[1,"ms-chart-display","sparsity-chart"]],template:function(a,c){a&1&&(w(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),A(4,"Accuracy Training"),v(),P(5,"ms-line-chart",4),v(),w(6,"div",5)(7,"p",3),A(8,"Accuracy Test"),v(),P(9,"ms-line-chart",4),v()(),w(10,"div",6)(11,"div",2)(12,"p",3),A(13,"Loss Training"),v(),P(14,"ms-line-chart",4),v(),w(15,"div",5)(16,"p",3),A(17,"Loss Test"),v(),P(18,"ms-line-chart",4),v()(),w(19,"div",7)(20,"p",3),A(21,"Sparsity Training"),v(),P(22,"ms-line-chart",4),v()()),a&2&&(S(5),L("data",c.initialAccuracyChartData)("settings",c.accuracyChartDisplaySettings),S(4),L("data",c.initialAccuracyTestingChartData)("settings",c.testingAccuracyChartDisplaySettings),S(5),L("data",c.initialLossChartData)("settings",c.lossChartDisplaySettings),S(4),L("data",c.initialLossTestingChartData)("settings",c.testingLossChartDisplaySettings),S(4),L("data",c.initialSparsityChartData)("settings",c.sparsityChartDisplaySettings))},dependencies:[Ct],styles:[".charts[_ngcontent-%COMP%]   .ms-chart-display[_ngcontent-%COMP%]{display:flex}.charts[_ngcontent-%COMP%]   .ms-chart-display.sparsity-chart[_ngcontent-%COMP%]{flex-direction:column}.charts[_ngcontent-%COMP%]   .ms-chart-display.sparsity-chart[_ngcontent-%COMP%], .charts[_ngcontent-%COMP%]   .ms-chart-display.accuracy-chart[_ngcontent-%COMP%], .charts[_ngcontent-%COMP%]   .ms-chart-display.loss-chart[_ngcontent-%COMP%]{background-color:var(--backgrounds-80);border-radius:20px;padding:10px;margin:10px 0}.charts[_ngcontent-%COMP%]   .ms-chart-display[_ngcontent-%COMP%]   .epochs[_ngcontent-%COMP%]{flex:0 0 70%}.charts[_ngcontent-%COMP%]   .ms-chart-display[_ngcontent-%COMP%]   .testing[_ngcontent-%COMP%]{border-left:1px solid var(--foregrounds-300);padding-left:10px;flex:0 0 30%}"]}),mt);Oe=lt([_t()],Oe);var Da=(()=>{let n=class n{constructor(c){this.chartsFacadeService=c,this.RealtimeUpdateMetric=U,this.initialLossChartData=[],this.initialLossTestingChartData=[],this.initialAccuracyChartData=[],this.initialAccuracyTestingChartData=[],this.lossChartDisplaySettings={yAxisMinimumValue:0,xAxisDataPointsCount:40,datasetLabelPrefix:"Reconstruction:",xAxisLabelPrefix:"Step",chartDataStructure:H.SINGLE_PHASE_X_AXIS,isXAxisVisible:!0,isXAxisDynamic:!0,isYAxisDynamic:!0,dynamicYAxisGrowthOffset:50,datasetColorSettingsKey:B.RED,realtimeUpdateMetric:U.LOSS},this.lossTestingChartDisplaySettings={yAxisMinimumValue:0,xAxisDataPointsCount:78,isDatasetLabelVisible:!1,xAxisLabelPrefix:"Step",chartDataStructure:H.SINGLE_PHASE_X_AXIS,isXAxisVisible:!0,isXAxisDynamic:!0,isYAxisDynamic:!0,datasetColorSettingsKey:B.YELLOW,dynamicYAxisGrowthRoundFactor:2,realtimeUpdateMetric:U.TESTING_LOSS},this.accuracyChartDisplaySettings={yAxisMaximumValue:100,yAxisMinimumValue:0,xAxisLabelPrefix:"Recon.",isDatasetLabelVisible:!1,isXAxisVisible:!0,xAxisInitialLabelValue:0,chartDataStructure:H.SINGLE_PHASE_X_AXIS,zoomRangeLimits:{max:100},datasetColorSettingsKey:B.GREEN,isXAxisDynamic:!0,realtimeUpdateMetric:U.ACCURACY,enhanceSinglePhaseXAxisWebsocketEvent:!0},this.accuracyTestingChartDisplaySettings={yAxisMaximumValue:100,yAxisMinimumValue:0,xAxisDataPointsCount:78,isDatasetLabelVisible:!1,xAxisLabelPrefix:"Step",chartDataStructure:H.SINGLE_PHASE_X_AXIS,isXAxisVisible:!0,isXAxisDynamic:!0,zoomRangeLimits:{max:100},datasetColorSettingsKey:B.YELLOW,realtimeUpdateMetric:U.TESTING_ACCURACY}}ngOnInit(){this.loadChartSettings(),this.loadLatestChartsData()}loadChartSettings(){this.chartsFacadeService.settings$.pipe(Z(1),Q(1)).subscribe(c=>{c&&(this.accuracyChartDisplaySettings=T(x({},this.accuracyChartDisplaySettings),{xAxisDataPointsCount:c[it.ACCURACY_QUANTIZATION]?.reconstructions}),this.chartsFacadeService.dispatch(yt.getCurrentQuantizationChartData()))}),this.chartsFacadeService.dispatch(yt.getChartConfigurationSettings({chartTypes:[it.ACCURACY_QUANTIZATION]}))}loadLatestChartsData(){this.chartsFacadeService.quantizationProgress$.pipe(Z(1),ot(c=>!!c),Q(1)).subscribe(c=>this.processChartData(c))}processChartData(c){this.initialLossChartData=pn(c.reconstructions,j.LOSS),this.initialAccuracyChartData=pn(c.reconstructions,j.ACCURACY),this.initialLossTestingChartData=mn(c.testing,j.LOSS),this.initialAccuracyTestingChartData=mn(c.testing,j.ACCURACY)}};n.\u0275fac=function(p){return new(p||n)(W(Wt))},n.\u0275cmp=G({type:n,selectors:[["ms-running-quantization-charts"]],decls:19,vars:8,consts:[[1,"charts"],[1,"ms-chart-display","accuracy-chart"],[1,"reconstructions"],[1,"paragraph-bold-p3-small-bold","p-2"],[3,"data","settings"],[1,"testing"],[1,"ms-chart-display","loss-chart"]],template:function(p,_){p&1&&(w(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),A(4,"Accuracy Training"),v(),P(5,"ms-line-chart",4),v(),w(6,"div",5)(7,"p",3),A(8,"Accuracy Test"),v(),P(9,"ms-line-chart",4),v()(),w(10,"div",6)(11,"div",2)(12,"p",3),A(13,"Loss Training"),v(),P(14,"ms-line-chart",4),v(),w(15,"div",5)(16,"p",3),A(17,"Loss Test"),v(),P(18,"ms-line-chart",4),v()()()),p&2&&(S(5),L("data",_.initialAccuracyChartData)("settings",_.accuracyChartDisplaySettings),S(4),L("data",_.initialAccuracyTestingChartData)("settings",_.accuracyTestingChartDisplaySettings),S(5),L("data",_.initialLossChartData)("settings",_.lossChartDisplaySettings),S(4),L("data",_.initialLossTestingChartData)("settings",_.lossTestingChartDisplaySettings))},dependencies:[Ct],styles:[".charts[_ngcontent-%COMP%]   .ms-chart-display[_ngcontent-%COMP%]{display:flex}.charts[_ngcontent-%COMP%]   .ms-chart-display.accuracy-chart[_ngcontent-%COMP%], .charts[_ngcontent-%COMP%]   .ms-chart-display.loss-chart[_ngcontent-%COMP%]{background-color:var(--backgrounds-80);border-radius:20px;padding:10px;margin:10px 0}.charts[_ngcontent-%COMP%]   .ms-chart-display[_ngcontent-%COMP%]   .reconstructions[_ngcontent-%COMP%]{flex:0 0 70%}.charts[_ngcontent-%COMP%]   .ms-chart-display[_ngcontent-%COMP%]   .testing[_ngcontent-%COMP%]{border-left:1px solid var(--foregrounds-300);padding-left:10px;margin-left:10px;flex:0 0 28.5%}"]});let s=n;return s})();var Ta=(()=>{let n=class n{constructor(){this.keyMap={forget_acc:"Forget Accuracy",retain_acc:"Retain Accuracy",test_acc:"Test Accuracy",val_acc:"Validation Accuracy"}}transform(c){if(!c)return c;let p=c.split("_");if(p.length<3)return c;let _=p.slice(0,-2).join("_"),q=p[p.length-1];return`${this.keyMap[_]||_.split("_").map(V=>V.charAt(0).toUpperCase()+V.slice(1)).join(" ")} (Test #${q})`}};n.\u0275fac=function(p){return new(p||n)},n.\u0275pipe=Zn({name:"readableStatisticsLabel",type:n,pure:!0});let s=n;return s})();var Vi=s=>({stats:s});function Gi(s,n){if(s&1&&(w(0,"div",7)(1,"span",8),A(2),we(3,"readableStatisticsLabel"),v(),w(4,"span",9),A(5),v()()),s&2){let a=n.$implicit;S(2),Ce("",Se(3,2,a.key),":"),S(3),ia(a.value)}}function Xi(s,n){if(s&1&&(bt(0),w(1,"div",5),J(2,Gi,6,4,"div",6),v(),At()),s&2){let a=ht().ngIf;S(2),L("ngForOf",a.stats)}}function qi(s,n){s&1&&P(0,"ms-empty-state",10)}function Ki(s,n){if(s&1&&(bt(0),J(1,Xi,3,1,"ng-container",4)(2,qi,1,0,"ng-template",null,0,Le),At()),s&2){let a=n.ngIf,c=ye(3);S(),L("ngIf",a.stats==null?null:a.stats.length)("ngIfElse",c)}}var Oa=(()=>{let n=class n{constructor(c){this.statisticsFacadeService=c,this.statistics$=this.statisticsFacadeService.statistics$}ngOnInit(){this.statisticsFacadeService.dispatch(ya.getStatistics())}};n.\u0275fac=function(p){return new(p||n)(W(_a))},n.\u0275cmp=G({type:n,selectors:[["ms-running-statistics"]],decls:6,vars:7,consts:[["noStatistics",""],[1,"ms-card"],[1,"heading-section-title"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"key-value-container","dense"],["class","key-value-pair",4,"ngFor","ngForOf"],[1,"key-value-pair"],[1,"key-value-key"],[1,"key-value-value"],["title","No statistics available."]],template:function(p,_){p&1&&(w(0,"mat-card",1)(1,"p",2),A(2,"Statistics"),v(),J(3,Ki,4,2,"ng-container",3),we(4,"async"),we(5,"keyvalue"),v()),p&2&&(S(3),L("ngIf",ra(5,Vi,Se(5,3,Se(4,1,_.statistics$)))))},dependencies:[oa,kt,Ee,xe,la,ha,Ta]});let s=n;return s})();function tr(s,n){if(s&1){let a=_e();w(0,"div",18)(1,"button",19),Ot("click",function(){fe(a);let p=ht();return ve(p.runStopScript())}),A(2," Stop "),v()()}}function er(s,n){s&1&&(w(0,"div",20)(1,"div",13),A(2,"\u2014"),v(),w(3,"div",14),A(4,"Sparsity"),v()())}var pt,ke=(pt=class{constructor(n,a){this.scriptFacadeService=n,this.chartToolsGlobalSignalsService=a,this.isScriptActive=!1,this.enableTooltips=!1,this.enableZoom=!1}ngOnInit(){this.listenToScriptStateChanges(),this.subscribeToChartToolsSignals()}listenToScriptStateChanges(){this.scriptFacadeService.dispatch(te.getCurrentOrLastActiveScriptDetails()),this.scriptFacadeService.scriptDetails$.pipe(Z(1),Q(1),ot(n=>!Pe(n?.algKey))).subscribe(n=>{this.scriptDetails=n}),this.scriptFacadeService.scriptStatus$.pipe($t(this)).subscribe(n=>{this.isScriptActive=Ae(n)})}toggleTooltip(n){this.chartToolsGlobalSignalsService.toggleTooltips=n.checked}toggleZoom(n){this.chartToolsGlobalSignalsService.toggleZoom=n.checked}get isSparsityVisible(){return this.scriptDetails?.type===It.PRUNING}subscribeToChartToolsSignals(){this.chartToolsGlobalSignalsService.toggleTooltips$.pipe($t(this)).subscribe(n=>{this.enableTooltips=n}),this.chartToolsGlobalSignalsService.toggleZoom$.pipe($t(this)).subscribe(n=>{this.enableZoom=n})}runStopScript(){this.scriptFacadeService.dispatch(te.stopScript())}},pt.\u0275fac=function(a){return new(a||pt)(W(Ut),W(De))},pt.\u0275cmp=G({type:pt,selectors:[["ms-running-status-bar"]],decls:33,vars:7,consts:[[1,"training-status","mb-2"],[1,"status-bar"],[1,"runnning-title-container"],[1,"model-name","heading-sub-section-title"],["class","ml-2",4,"ngIf"],[1,"mt-2","flex"],["color","primary",3,"ngModelChange","change","ngModel","disabled"],[1,"flex"],["color","primary",1,"ml-2",3,"ngModelChange","change","ngModel","disabled"],[1,"ml-1"],["fontSet","ms","fontIcon","icon-Info","matTooltip","Use mouse wheel or touchpad pinch to zoom in/out. Drag to select an area for specific zoom, or use touchpad gestures to navigate."],[1,"metrics"],[1,"metric","accuracy"],[1,"metric-value"],[1,"metric-name","paragraph-semibold-p2-large-emphasis"],[1,"metric","loss"],["class","metric sparsity",4,"ngIf"],[1,"metric","testing"],[1,"ml-2"],["mat-raised-button","","color","warn","matTooltip","Stop current process.",3,"click"],[1,"metric","sparsity"]],template:function(a,c){a&1&&(w(0,"div",0)(1,"div",1)(2,"div")(3,"div",2)(4,"div",3),A(5),v(),J(6,tr,3,0,"div",4),v(),w(7,"div",5)(8,"div")(9,"mat-slide-toggle",6),on("ngModelChange",function(_){return rn(c.enableTooltips,_)||(c.enableTooltips=_),_}),Ot("change",function(_){return c.toggleTooltip(_)}),A(10," Enable tooltips "),v()(),w(11,"div",7)(12,"mat-slide-toggle",8),on("ngModelChange",function(_){return rn(c.enableZoom,_)||(c.enableZoom=_),_}),Ot("change",function(_){return c.toggleZoom(_)}),A(13," Enable zoom "),v(),w(14,"div",9),P(15,"mat-icon",10),v()()()()(),w(16,"div",11)(17,"div",12)(18,"div",13),A(19,"\u2014"),v(),w(20,"div",14),A(21,"Accuracy"),v()(),w(22,"div",15)(23,"div",13),A(24,"\u2014"),v(),w(25,"div",14),A(26,"Loss"),v()(),J(27,er,5,0,"div",16),w(28,"div",17)(29,"div",13),A(30,"\u2014"),v(),w(31,"div",14),A(32,"Test"),v()()()()),a&2&&(S(5),Ce("Algorithm: ",(c.scriptDetails==null?null:c.scriptDetails.algKey)||"None",""),S(),L("ngIf",c.isScriptActive),S(3),an("ngModel",c.enableTooltips),L("disabled",!(c.scriptDetails!=null&&c.scriptDetails.algKey)),S(3),an("ngModel",c.enableZoom),L("disabled",!(c.scriptDetails!=null&&c.scriptDetails.algKey)),S(15),L("ngIf",c.isSparsityVisible))},dependencies:[kt,Me,be,pa,ga,ua,ma],styles:[".training-status[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.training-status[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.training-status[_ngcontent-%COMP%]   .runnning-title-container[_ngcontent-%COMP%]{display:flex;align-items:center}.training-status[_ngcontent-%COMP%]   .metrics[_ngcontent-%COMP%], .training-status[_ngcontent-%COMP%]   .metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]{display:flex;gap:10px}.training-status[_ngcontent-%COMP%]   .metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:1.25rem}.training-status[_ngcontent-%COMP%]   .metrics[_ngcontent-%COMP%]   .metric.sparsity[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-weight:700;color:var(--metrics-sparsity)}.training-status[_ngcontent-%COMP%]   .metrics[_ngcontent-%COMP%]   .metric.accuracy[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-weight:700;color:var(--metrics-accuracy)}.training-status[_ngcontent-%COMP%]   .metrics[_ngcontent-%COMP%]   .metric.loss[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-weight:700;color:var(--metrics-loss)}.training-status[_ngcontent-%COMP%]   .metrics[_ngcontent-%COMP%]   .metric.testing[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-weight:700;color:var(--metrics-testing)}"]}),pt);ke=lt([_t()],ke);function ar(s,n){if(s&1&&P(0,"ms-running-animation",10),s&2){let a=ht();L("animationType",a.AnimationType.QUANTIZATION)}}function ir(s,n){if(s&1&&P(0,"ms-running-animation",10),s&2){let a=ht();L("animationType",a.AnimationType.PRUNING)}}function rr(s,n){if(s&1&&P(0,"ms-running-animation",10),s&2){let a=ht();L("animationType",a.AnimationType.PRUNING)}}function or(s,n){s&1&&P(0,"ms-running-quantization-charts")}function sr(s,n){s&1&&P(0,"ms-running-pruning-charts")}function cr(s,n){s&1&&P(0,"ms-running-machine-unlearning-charts")}function lr(s,n){if(s&1&&(bt(0)(1,2),J(2,or,1,0,"ms-running-quantization-charts",11)(3,sr,1,0,"ms-running-pruning-charts",11)(4,cr,1,0,"ms-running-machine-unlearning-charts",11),At()()),s&2){let a=ht();S(),L("ngSwitch",a.scriptDetails==null?null:a.scriptDetails.type),S(),L("ngSwitchCase",a.AlgorithmType.QUANTIZATION),S(),L("ngSwitchCase",a.AlgorithmType.PRUNING),S(),L("ngSwitchCase",a.AlgorithmType.MACHINE_UNLEARNING)}}function hr(s,n){s&1&&P(0,"ms-empty-state",12)}function dr(s,n){s&1&&(bt(0),w(1,"div",13),P(2,"ms-running-statistics"),v(),At())}var gt,$e=(gt=class{constructor(n,a){this.navigationService=n,this.scriptFacadeService=a,this.AlgorithmType=It,this.AnimationType=jt}ngOnInit(){this.listenToScriptStateChanges()}listenToScriptStateChanges(){this.scriptFacadeService.dispatch(te.getCurrentOrLastActiveScriptDetails()),this.scriptFacadeService.scriptDetails$.pipe(Z(1),Q(1),ot(n=>!Pe(n?.algKey))).subscribe(n=>{this.scriptDetails=n})}get isChartVisible(){return!Ie(this.scriptDetails?.algKey)&&this.scriptDetails?.type!==It.TRAIN&&this.scriptDetails?.type!==It.AWQ&&this.scriptDetails?.type!==It.MULTIFLOW}},gt.\u0275fac=function(a){return new(a||gt)(W(va),W(Ut))},gt.\u0275cmp=G({type:gt,selectors:[["ms-running"]],decls:16,vars:7,consts:[["noChartData",""],[1,"heading-primary-title","title"],[3,"ngSwitch"],[3,"animationType",4,"ngSwitchCase"],[1,"ms-card","running-prunning"],[4,"ngIf","ngIfElse"],[4,"ngIf"],[1,"mt-4"],["mat-stroked-button","","color","primary",3,"click"],["fontSet","ms","fontIcon","icon-ArrowLeft"],[3,"animationType"],[4,"ngSwitchCase"],["title","No Chart Data Available","message","Please run the appropriate script to generate chart data."],[1,"mt-2"]],template:function(a,c){if(a&1){let p=_e();w(0,"p",1),A(1,"Running"),v(),bt(2,2),J(3,ar,1,1,"ms-running-animation",3)(4,ir,1,1,"ms-running-animation",3)(5,rr,1,1,"ms-running-animation",3),At(),w(6,"mat-card",4),P(7,"ms-running-status-bar"),J(8,lr,5,4,"ng-container",5)(9,hr,1,0,"ng-template",null,0,Le),v(),J(11,dr,3,0,"ng-container",6),w(12,"div",7)(13,"button",8),Ot("click",function(){return fe(p),ve(c.navigationService.goToPreviousPage())}),P(14,"mat-icon",9),A(15," Go back "),v()()}if(a&2){let p=ye(10);S(2),L("ngSwitch",c.scriptDetails==null?null:c.scriptDetails.type),S(),L("ngSwitchCase",c.AlgorithmType.QUANTIZATION),S(),L("ngSwitchCase",c.AlgorithmType.PRUNING),S(),L("ngSwitchCase",c.AlgorithmType.MACHINE_UNLEARNING),S(3),L("ngIf",c.isChartVisible)("ngIfElse",p),S(3),L("ngIf",(c.scriptDetails==null?null:c.scriptDetails.type)===c.AlgorithmType.MACHINE_UNLEARNING)}},dependencies:[kt,sa,ca,Me,be,Ee,xe,Oe,Da,Fa,ee,Oa,ke]}),gt);$e=lt([_t()],$e);var ur=[{path:"",component:$e}],ka=(()=>{let n=class n{};n.\u0275fac=function(p){return new(p||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=pe({imports:[sn.forChild(ur),sn]});let s=n;return s})();var es=(()=>{let n=class n{};n.\u0275fac=function(p){return new(p||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=pe({providers:[De],imports:[ka,da,fa,Ct]});let s=n;return s})();export{es as RunningModule};
