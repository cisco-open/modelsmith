import{a as vt,e as xt,g as fn,h as ze,i as Ge}from"./chunk-XRJNBIV4.js";import{a as _n,b as bt,c as Cn}from"./chunk-5SIVJEFD.js";import{a as Ct}from"./chunk-USYF7I4C.js";import{a as Gt,d as Ui,e as Qi,f as vn,g as xn}from"./chunk-ZOQENCXL.js";import{a as tn,b as nn,c as on,d as rn,e as an,f as sn,g as ln,h as cn,i as dn,j as pn,k as mn,l as hn,m as un,n as ye,o as gn,p as _t,q as je}from"./chunk-ESI2MXKK.js";import{a as Ji,b as en}from"./chunk-XL74M3A7.js";import{a as Xi,b as Wi}from"./chunk-Y3MTSOK6.js";import{a as ft,b as Zi}from"./chunk-MNE6DP2E.js";import{a as ji,b as zi}from"./chunk-GYAAXGUQ.js";import{a as at,b as Ti}from"./chunk-HDPWJQCH.js";import{c as Le,e as gt,f as zt,g as R}from"./chunk-RENQI7JV.js";import{a as ut}from"./chunk-CMCNYU7P.js";import{a as Ki,b as qi}from"./chunk-5JTKICYY.js";import"./chunk-3UC4T722.js";import{a as be,b as L}from"./chunk-3XBILL7M.js";import"./chunk-IJM4QX5I.js";import{b as Gi,d as Yi,e as $i,l as ht}from"./chunk-I3MTJCFW.js";import{a as pt,h as mt,i as Hi}from"./chunk-NU3OOYKN.js";import{A as Ni,B as Vi,m as yi,y as Bi}from"./chunk-3ESPD3TC.js";import{$a as f,$d as Ii,Aa as ri,Ab as Rt,Ba as ai,Bb as Z,Ca as si,Cb as N,Cc as Vt,D as Tt,Da as li,Db as V,E as Ee,Eb as gi,Fb as u,Fc as We,Ga as ge,Gb as _e,Gc as Re,Gd as rt,Ha as y,Hb as w,I as ii,Ia as ci,Ib as Ce,J as de,Jb as ve,Jc as k,Ka as Ft,Kb as xe,Kc as Ue,La as di,Lb as H,Lc as Ht,Ma as It,Mb as it,Mc as Be,Md as Pi,Na as c,Nd as ki,Oa as p,Ob as Bt,Oc as Qe,Pc as Lt,Pd as Te,Qa as pi,Qb as D,Qd as Ke,Ra as mi,Rb as M,Sb as fi,Sd as we,Td as Ne,Ub as _i,Ud as st,W as Pt,Wb as J,X as kt,Xa as hi,Xd as Fi,Yb as ee,Yd as lt,Za as Ot,Zb as Ci,_a as ie,_d as ct,a as Ae,ab as et,ac as vi,b as Xe,bb as h,be as Ve,cb as B,da as ni,db as q,dc as xi,de as dt,ea as pe,eb as ui,ec as Nt,ed as Si,ee as Oi,fa as Y,fc as nt,fe as Ri,g as Ze,ga as me,hb as S,hc as Oe,he as He,ia as he,ib as ne,ic as bi,ie as Li,j as Me,ja as oi,jb as X,jc as wi,k as Et,kb as W,kc as ot,l as ei,lb as s,mb as l,md as Di,nb as g,o as ti,oa as A,ob as U,p as ce,pa as $,pb as Q,qa as P,qd as Ai,ra as Je,rb as E,ub as _,ud as Mi,vd as Ei,wa as ue,wb as m,wd as jt,xa as v,xb as tt,ya as x,yb as fe,za as Ie}from"./chunk-YQNKZLSG.js";var Un=["hueSlider"],Qn=["alphaSlider"];function Kn(n,i){if(n&1){let e=E();s(0,"div",10),_("newValue",function(o){v(e);let r=m();return x(r.onSliderChange("saturation-lightness",o))}),s(1,"div",11),g(2,"div"),l()()}if(n&2){let e=m();B("background-color",e.hueSliderColor),h("rgX",1)("rgY",1),c(),B("top",e.slider==null?null:e.slider.v,"px")("left",e.slider==null?null:e.slider.s,"px")}}function qn(n,i){if(n&1&&(s(0,"div",12),g(1,"div",13)(2,"div",14),l()),n&2){let e=m();c(2),B("background-color",e.selectedColor)}}function Zn(n,i){if(n&1){let e=E();s(0,"div",15,1),_("newValue",function(o){v(e);let r=m();return x(r.onSliderChange("hue",o))}),s(2,"div",16)(3,"div"),g(4,"div"),l()()()}if(n&2){let e=m();h("rgX",1),c(2),B("left",e.slider==null?null:e.slider.h,"px")}}function Jn(n,i){if(n&1){let e=E();s(0,"div",17,2),_("newValue",function(o){v(e);let r=m();return x(r.onSliderChange("alpha",o))}),g(2,"div",18),s(3,"div",16)(4,"div"),g(5,"div"),l()()()}if(n&2){let e=m();h("rgX",1),c(2),h("ngStyle",e.getBackgroundColor(e.alphaSliderColor)),c(),B("left",e.slider==null?null:e.slider.a,"px")}}var eo=["dialog"],yn=n=>({background:n});function to(n,i){n&1&&g(0,"div",12)}function io(n,i){if(n&1){let e=E();U(0),s(1,"div",9)(2,"div",10),_("click",function(){let o=v(e).$implicit,r=m(2);return x(r.onColorClick(o))}),f(3,to,1,0,"div",11),l()(),Q()}if(n&2){let e=i.$implicit,t=i.index,o=m(2);c(2),q("colornull",!e),h("ngStyle",o.getBackgroundColor(e)),c(),h("ngIf",t==o.indexSeleccionado)}}function no(n,i){if(n&1&&g(0,"div",18),n&2){let e=m(3);h("ngStyle",e.getBackgroundColor(e.color))}}function oo(n,i){if(n&1){let e=E();s(0,"div",13),_("click",function(){v(e);let o=m(2);return x(o.addColor())}),f(1,no,1,1,"div",14),Ie(),s(2,"svg",15),g(3,"path",16)(4,"path",17),l()()}if(n&2){let e=m(2);c(),h("ngIf",e.indexSeleccionado===void 0)}}function ro(n,i){if(n&1){let e=E();s(0,"color-picker",19),_("colorChange",function(o){v(e);let r=m(2);return x(r.onChangeColorPicker(o))})("onAlphaChange",function(o){v(e);let r=m(2);return x(r.onAlphaChange(o))}),l()}if(n&2){let e=m(2);h("controls",e.colorPickerControls)("color",e.hsva)}}function ao(n,i){if(n&1&&(U(0),s(1,"div",5),f(2,io,4,4,"ng-container",6)(3,oo,5,1,"div",7)(4,ro,1,2,"color-picker",8),l(),Q()),n&2){let e=m();c(),h("@colorsAnimation",e.colorsAnimationEffect),c(),h("ngForOf",e.palette),c(),h("ngIf",!e.hideColorPicker&&e.colorPickerControls!="only-alpha"),c(),h("ngIf",!e.hideColorPicker&&e.colorPickerControls=="only-alpha")}}function so(n,i){n&1&&g(0,"div",12)}function lo(n,i){if(n&1){let e=E();U(0),s(1,"div",9)(2,"div",25),_("click",function(){let o=v(e).$implicit,r=m(2);return x(r.changeColor(o))}),f(3,so,1,0,"div",11),l()(),Q()}if(n&2){let e=i.$implicit,t=m(2);c(2),q("colornull",!e),h("ngStyle",Bt(4,yn,e)),c(),h("ngIf",t.isSelected(e))}}function co(n,i){if(n&1){let e=E();U(0),s(1,"div",5)(2,"div",20)(3,"div",21),_("click",function(){v(e);let o=m();return x(o.onClickBack())}),Ie(),s(4,"svg",22),g(5,"path",23)(6,"path",24),l()()(),f(7,lo,4,6,"ng-container",6),l(),Q()}if(n&2){let e=m();c(),h("@colorsAnimation",e.colorsAnimationEffect),c(6),h("ngForOf",e.variants)}}function po(n,i){if(n&1){let e=E();U(0),s(1,"div",26)(2,"div",27),_("click",function(){v(e);let o=m();return x(o.onClickBack())}),Ie(),s(3,"svg",22),g(4,"path",23)(5,"path",24),l()(),ri(),s(6,"button",28),_("click",function(){v(e);let o=m();return x(o.emitClose("cancel"))}),u(7),l(),s(8,"button",28),_("click",function(){v(e);let o=m();return x(o.emitClose("accept"))}),u(9),l()(),s(10,"div",29)(11,"color-picker",30),_("sliderChange",function(o){v(e);let r=m();return x(r.onChangeColorPicker(o))}),l()(),Q()}if(n&2){let e=m();c(7),w(" ",e.cancelLabel," "),c(2),w(" ",e.acceptLabel," "),c(2),h("controls",e.colorPickerControls)("color",e.hsva)}}function mo(n,i){if(n&1){let e=E();s(0,"div",31)(1,"p",32),_("click",function(){v(e);let o=m();return x(o.nextFormat())}),u(2),l(),s(3,"div",33)(4,"input",34,1),_("keyup",function(){v(e);let o=gi(5),r=m();return x(r.changeColorManual(o.value))})("keydown.enter",function(){v(e);let o=m();return x(o.emitClose("accept"))}),l()()()}if(n&2){let e=m();c(2),_e(e.colorFormats[e.format]),c(2),B("font-size",e.color&&e.color.length>23?9:10,"px")("letter-spacing",e.color&&e.color.length>16?0:1.5,"px"),h("placeholder",e.placeholder)("value",e.color)}}var Yt=["hex","rgba","hsla","cmyk"],F=function(n){return n[n.HEX=0]="HEX",n[n.RGBA=1]="RGBA",n[n.HSLA=2]="HSLA",n[n.CMYK=3]="CMYK",n}(F||{}),bn=[{color:"rojo",preview:"#E57373",variants:["#FFEBEE","#FFCDD2","#EF9A9A","#E57373","#EF5350","#F44336","#E53935","#D32F2F","#C62828"]},{color:"rosa",preview:"#F06292",variants:["#FCE4EC","#F8BBD0","#F48FB1","#F06292","#EC407A","#E91E63","#D81B60","#C2185B","#AD1457"]},{color:"purpura",preview:"#BA68C8",variants:["#F3E5F5","#E1BEE7","#CE93D8","#BA68C8","#AB47BC","#9C27B0","#8E24AA","#7B1FA2","#6A1B9A"]},{color:"purpura oscuro",preview:"#9575CD",variants:["#EDE7F6","#D1C4E9","#B39DDB","#9575CD","#7E57C2","#673AB7","#5E35B1","#512DA8","#4527A0"]},{color:"indigo",preview:"#7986CB",variants:["#E8EAF6","#C5CAE9","#9FA8DA","#7986CB","#5C6BC0","#3F51B5","#3949AB","#303F9F","#283593"]},{color:"azul",preview:"#64B5F6",variants:["#E3F2FD","#BBDEFB","#90CAF9","#64B5F6","#42A5F5","#2196F3","#1E88E5","#1976D2","#1565C0"]},{color:"celeste",preview:"#4FC3F7",variants:["#E1F5FE","#B3E5FC","#81D4FA","#4FC3F7","#29B6F6","#03A9F4","#039BE5","#0288D1","#0277BD"]},{color:"cyan",preview:"#4DD0E1",variants:["#E0F7FA","#B2EBF2","#80DEEA","#4DD0E1","#26C6DA","#00BCD4","#00ACC1","#0097A7","#00838F"]},{color:"color",preview:"#4DB6AC",variants:["#E0F2F1","#B2DFDB","#80CBC4","#4DB6AC","#26A69A","#009688","#00897B","#00796B","#00695C"]},{color:"verde",preview:"#81C784",variants:["#E8F5E9","#C8E6C9","#A5D6A7","#81C784","#66BB6A","#4CAF50","#43A047","#388E3C","#2E7D32"]},{color:"verde claro",preview:"#AED581",variants:["#F1F8E9","#DCEDC8","#C5E1A5","#AED581","#9CCC65","#8BC34A","#7CB342","#689F38","#558B2F"]},{color:"lima",preview:"#DCE775",variants:["#F9FBE7","#F0F4C3","#E6EE9C","#DCE775","#D4E157","#CDDC39","#C0CA33","#AFB42B","#9E9D24"]},{color:"amarillo",preview:"#FFF176",variants:["#FFFDE7","#FFF9C4","#FFF59D","#FFF176","#FFEE58","#FFEB3B","#FDD835","#FBC02D","#F9A825"]},{color:"ambar",preview:"#FFD54F",variants:["#FFF8E1","#FFECB3","#FFE082","#FFD54F","#FFCA28","#FFC107","#FFB300","#FFA000","#FF8F00"]},{color:"naranja",preview:"#FFB74D",variants:["#FFF3E0","#FFE0B2","#FFCC80","#FFB74D","#FFA726","#FF9800","#FB8C00","#F57C00","#EF6C00"]},{color:"naranja oscuro",preview:"#FF8A65",variants:["#FBE9E7","#FFCCBC","#FFAB91","#FF8A65","#FF7043","#FF5722","#F4511E","#E64A19","#D84315"]},{color:"marron",preview:"#A1887F",variants:["#EFEBE9","#D7CCC8","#BCAAA4","#A1887F","#8D6E63","#795548","#6D4C41","#5D4037","#4E342E"]},{color:"escala de grises",preview:"#E0E0E0",variants:["#FFFFFF","#FAFAFA","#F5F5F5","#EEEEEE","#E0E0E0","#BDBDBD","#9E9E9E","#757575","#616161","#424242","#000000"]},{color:"azul gris",preview:"#90A4AE",variants:["#ECEFF1","#CFD8DC","#B0BEC5","#90A4AE","#78909C","#607D8B","#546E7A","#455A64","#37474F"]}],te=class{constructor(i,e,t,o){this.r=i,this.g=e,this.b=t,this.a=o}denormalize(){return this.r=Math.round(this.r*255),this.g=Math.round(this.g*255),this.b=Math.round(this.b*255),this}toString(){return this.denormalize(),"rgb"+(this.a!=1?"a(":"(")+this.r+", "+this.g+", "+this.b+(this.a!=1?", "+this.a.toPrecision(2)+")":")")}},K=class{constructor(i,e,t,o){this.h=i,this.s=e,this.v=t,this.a=o,this.onChange=new y(!0)}onColorChange(i){this.s=i.s/i.rgX,this.v=i.v/i.rgY}onHueChange(i){this.h=i.v/i.rgX}onValueChange(i){this.v=i.v/i.rgX}onAlphaChange(i){this.a=i.v/i.rgX}},Pe=class{constructor(i,e,t,o){this.h=i,this.s=e,this.l=t,this.a=o}denormalize(){return this.h=Math.round(this.h*360),this.s=Math.round(this.s*100),this.l=Math.round(this.l*100),this}toString(){return"hsl"+(this.a!=1?"a(":"(")+this.h+", "+this.s+"%, "+this.l+"%"+(this.a!=1?", "+this.a.toPrecision(2)+")":")")}},Se=class{constructor(i,e,t,o,r=1){this.c=i,this.m=e,this.y=t,this.k=o,this.a=r}denormalize(){return this.c=Math.round(this.c*100),this.m=Math.round(this.m*100),this.y=Math.round(this.y*100),this.k=Math.round(this.k*100),this}toString(){return this.denormalize(),"cmyk("+this.c+", "+this.m+", "+this.y+", "+this.k+")"}},$t=class{constructor(i){i&&(this.preview=i.preview,this.variants=i.variants)}},yt=(()=>{class n{constructor(){}toFormat(e,t){var o="";if(e)switch(t){case F.HEX:var a=this.hsvaToRgba(e);a.denormalize();var o=this.rgbaToHex(a,!0);break;case F.HSLA:var r=this.hsva2hsla(e);r.denormalize();var o=r.toString();break;case F.RGBA:var a=this.hsvaToRgba(e),o=a.toString();break;case F.CMYK:var d=this.hsvaToCmyk(e),o=d.toString();break}return o}stringToFormat(e,t){var o=this.stringToHsva(e,!0);return this.toFormat(o,t)}hsva2hsla(e){let t=e.h,o=e.s,r=e.v,a=e.a;if(r===0)return new Pe(t,0,0,a);if(o===0&&r===1)return new Pe(t,1,1,a);{let d=r*(2-o)/2;return new Pe(t,r*o/(1-Math.abs(2*d-1)),d,a)}}hsla2hsva(e){let t=Math.min(e.h,1),o=Math.min(e.s,1),r=Math.min(e.l,1),a=Math.min(e.a,1);if(r===0)return new K(t,0,0,a);{let d=r+o*(1-Math.abs(2*r-1))/2;return new K(t,2*(d-r)/d,d,a)}}hsvaToRgba(e){let t,o,r,a=e.h,d=e.s,C=e.v,b=e.a,G=Math.floor(a*6),I=a*6-G,O=C*(1-d),$e=C*(1-I*d),De=C*(1-(1-I)*d);switch(G%6){case 0:t=C,o=De,r=O;break;case 1:t=$e,o=C,r=O;break;case 2:t=O,o=C,r=De;break;case 3:t=O,o=$e,r=C;break;case 4:t=De,o=O,r=C;break;case 5:t=C,o=O,r=$e;break;default:t=0,o=0,r=0}return new te(t,o,r,b)}cmykToRgb(e){let t=(1-e.c)*(1-e.k),o=(1-e.m)*(1-e.k),r=(1-e.y)*(1-e.k);return new te(t,o,r,e.a)}rgbaToCmyk(e){let t=1-Math.max(e.r,e.g,e.b);if(t===1)return new Se(0,0,0,1,e.a);{let o=(1-e.r-t)/(1-t),r=(1-e.g-t)/(1-t),a=(1-e.b-t)/(1-t);return new Se(o,r,a,t,e.a)}}hsvaToCmyk(e){let t=this.hsvaToRgba(e);return this.rgbaToCmyk(t)}rgbaToHsva(e){let t,o,r=Math.min(e.r,1),a=Math.min(e.g,1),d=Math.min(e.b,1),C=Math.min(e.a,1),b=Math.max(r,a,d),G=Math.min(r,a,d),I=b,O=b-G;if(o=b===0?0:O/b,b===G)t=0;else{switch(b){case r:t=(a-d)/O+(a<d?6:0);break;case a:t=(d-r)/O+2;break;case d:t=(r-a)/O+4;break;default:t=0}t/=6}return new K(t,o,I,C)}rgbaToHex(e,t){let o="#"+(16777216|e.r<<16|e.g<<8|e.b).toString(16).substr(1);return e.a!=1&&(o+=(256|Math.round(e.a*255)).toString(16).substr(1)),o}normalizeCMYK(e){return new Se(e.c/100,e.m/100,e.y/100,e.k/100,e.a)}denormalizeCMYK(e){return new Se(Math.floor(e.c*100),Math.floor(e.m*100),Math.floor(e.y*100),Math.floor(e.k*100),e.a)}denormalizeRGBA(e){return new te(Math.round(e.r*255),Math.round(e.g*255),Math.round(e.b*255),e.a)}stringToHsva(e="",t=!0){let o=null;e=(e||"").toLowerCase();let r=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return new te(parseInt(a[2],10)/255,parseInt(a[3],10)/255,parseInt(a[4],10)/255,isNaN(parseFloat(a[5]))?1:parseFloat(a[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return new Pe(parseInt(a[2],10)/360,parseInt(a[3],10)/100,parseInt(a[4],10)/100,isNaN(parseFloat(a[5]))?1:parseFloat(a[5]))}},{re:/cmyk?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return new Se(parseInt(a[1],10)/100,parseInt(a[2],10)/100,parseInt(a[3],10)/100,parseInt(a[4],10)/100)}}];t?r.push({re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(a){return new te(parseInt(a[1],16)/255,parseInt(a[2],16)/255,parseInt(a[3],16)/255,parseInt(a[4]||"FF",16)/255)}}):r.push({re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(a){return new te(parseInt(a[1],16)/255,parseInt(a[2],16)/255,parseInt(a[3],16)/255,1)}}),r.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(a){return new te(parseInt(a[1]+a[1],16)/255,parseInt(a[2]+a[2],16)/255,parseInt(a[3]+a[3],16)/255,1)}});for(let a in r)if(r.hasOwnProperty(a)){let d=r[a],C=d.re.exec(e),b=C&&d.parse(C);if(b){if(b instanceof te)o=this.rgbaToHsva(b);else if(b instanceof Pe)o=this.hsla2hsva(b);else if(b instanceof Se){let G=this.cmykToRgb(b);o=this.rgbaToHsva(G)}return o}}return o}outputFormat(e){return this.hsvaToRgba(e).toString()}getFormatByString(e){if(e){e=e.toLowerCase();let t=/(#([\da-f]{3}(?:[\da-f]{3})?(?:[\da-f]{2})?))/,o=/(rgba\((\d{1,3},\s?){3}(1|0?\.\d+)\)|rgb\(\d{1,3}(,\s?\d{1,3}){2}\))/,r=/(hsla\((\d{1,3}%?,\s?){3}(1|0?\.\d+)\)|hsl\(\d{1,3}%?(,\s?\d{1,3}%?){2}\))/,a=/(cmyk\(\d{1,3}(,\s?\d{1,3}){3}\))/;if(t.test(e))return"hex";if(o.test(e))return"rgba";if(r.test(e))return"hsla";if(a.test(e))return"cmyk"}return"hex"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=pe({token:n,factory:n.\u0275fac}),n})(),wt=class{constructor(i,e,t,o){this.h=i,this.s=e,this.v=t,this.a=o}},Xt=class{constructor(i,e,t,o){this.h=i,this.s=e,this.v=t,this.a=o}},ho=(()=>{class n{mouseDown(e){this.start(e)}touchStart(e){this.start(e)}constructor(e){this.elRef=e,this.dragEnd=new y,this.dragStart=new y,this.newValue=new y,this.listenerMove=t=>this.move(t),this.listenerStop=()=>this.stop()}move(e){e.preventDefault(),this.setCursor(e)}start(e){this.setCursor(e),e.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()}stop(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()}getX(e){let t=this.elRef.nativeElement.getBoundingClientRect();return(e.pageX!==void 0?e.pageX:e.touches[0].pageX)-t.left-window.pageXOffset}getY(e){let t=this.elRef.nativeElement.getBoundingClientRect();return(e.pageY!==void 0?e.pageY:e.touches[0].pageY)-t.top-window.pageYOffset}setCursor(e){let t=this.elRef.nativeElement.offsetWidth,o=this.elRef.nativeElement.offsetHeight,r=Math.max(0,Math.min(this.getX(e),t)),a=Math.max(0,Math.min(this.getY(e),o));this.rgX!==void 0&&this.rgY!==void 0?this.newValue.emit({s:r/t,v:1-a/o,rgX:this.rgX,rgY:this.rgY}):this.rgX===void 0&&this.rgY!==void 0?this.newValue.emit({v:a/o,rgY:this.rgY}):this.rgX!==void 0&&this.rgY===void 0&&this.newValue.emit({v:r/t,rgX:this.rgX})}}return n.\u0275fac=function(e){return new(e||n)(p(ge))},n.\u0275dir=P({type:n,selectors:[["","slider",""]],hostBindings:function(e,t){e&1&&_("mousedown",function(r){return t.mouseDown(r)})("touchstart",function(r){return t.touchStart(r)})},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}}),n})(),uo=(()=>{class n{constructor(e,t){this.service=e,this.cdr=t,this.color=new K(0,1,1,1),this.controls="default",this.sliderChange=new y(!1),this.onAlphaChange=new y(!1),this.hsva=new K(0,1,1,1),this.selectedColor="#000000",this.fallbackColor="#000000"}ngOnInit(){this.color||(this.color=new K(0,1,1,1)),this.slider=new wt(0,0,0,0),this.update()}ngOnDestroy(){}ngOnChanges(e){e.color&&this.color&&this.update()}ngAfterViewInit(){let e=this.hueSlider?.nativeElement.offsetWidth||140,t=this.alphaSlider?.nativeElement.offsetWidth||140;this.sliderDimMax=new Xt(e,220,130,t),this.update()}onSliderChange(e,t){switch(e){case"saturation-lightness":this.hsva.onColorChange(t);break;case"hue":this.hsva.onHueChange(t);break;case"alpha":this.hsva.onAlphaChange(t),this.onAlphaChange.emit(t);break;case"value":this.hsva.onValueChange(t);break}this.update(),this.setColor(this.outputColor)}setColor(e){this.color=e,this.sliderChange.emit(this.color)}getBackgroundColor(e){return{background:"linear-gradient(90deg, rgba(36,0,0,0) 0%, "+e+" 100%)"}}update(){if(this.hsva=this.color,this.sliderDimMax){let e=this.service.hsvaToRgba(this.hsva).denormalize(),t=this.service.hsvaToRgba(new K(this.hsva.h,1,1,1)).denormalize();this.hueSliderColor="rgb("+t.r+","+t.g+","+t.b+")",this.alphaSliderColor="rgb("+e.r+","+e.g+","+e.b+")",this.outputColor=this.hsva,this.selectedColor=this.service.hsvaToRgba(this.hsva).toString(),this.slider=new wt(this.hsva.h*this.sliderDimMax.h-5,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-5),this.cdr.detectChanges()}}}return n.\u0275fac=function(e){return new(e||n)(p(yt),p(J))},n.\u0275cmp=A({type:n,selectors:[["color-picker"]],viewQuery:function(e,t){if(e&1&&(Z(Un,5),Z(Qn,5)),e&2){let o;N(o=V())&&(t.hueSlider=o.first),N(o=V())&&(t.alphaSlider=o.first)}},inputs:{color:"color",controls:"controls"},outputs:{sliderChange:"sliderChange",onAlphaChange:"onAlphaChange"},features:[ue],decls:8,vars:4,consts:[["dialogPopup",""],["hueSlider",""],["alphaSlider",""],[1,"color-picker",3,"click"],["class","saturation-lightness",3,"slider","rgX","rgY","background-color","newValue",4,"ngIf"],[1,"hue-alpha","box"],["class","left",4,"ngIf"],[1,"right"],["class","hue",3,"slider","rgX","newValue",4,"ngIf"],["class","alpha",3,"slider","rgX","newValue",4,"ngIf"],[1,"saturation-lightness",3,"newValue","slider","rgX","rgY"],[1,"cursor"],[1,"left"],[1,"selected-color-background"],[1,"selected-color"],[1,"hue",3,"newValue","slider","rgX"],[1,"sliderCursor"],[1,"alpha",3,"newValue","slider","rgX"],[1,"alpha-gradient",3,"ngStyle"]],template:function(e,t){if(e&1){let o=E();s(0,"div",3,0),_("click",function(a){return v(o),x(a.stopPropagation())}),f(2,Kn,3,8,"div",4),s(3,"div",5),f(4,qn,3,2,"div",6),s(5,"div",7),f(6,Zn,5,3,"div",8)(7,Jn,6,4,"div",9),l()()()}e&2&&(c(2),h("ngIf",t.controls!="only-alpha"),c(2),h("ngIf",t.controls!="only-alpha"),c(2),h("ngIf",t.controls!="only-alpha"),c(),h("ngIf",t.controls!="no-alpha"))},dependencies:[Nt,nt,ho],styles:[`.color-picker{position:relative;z-index:1000;width:220px;height:auto;cursor:default;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;touch-action:none}.color-picker *{box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:invalid,.color-picker input:-moz-ui-invalid,.color-picker input:-moz-submit-invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .sliderCursor{width:10px;border-radius:5px;position:absolute;margin-top:-3px;border:1px solid black}.color-picker .sliderCursor>div{border:2px solid white;border-radius:5px}.color-picker .sliderCursor>div>div{border-radius:5px;border:1px solid black;height:24px}.color-picker .cursor{position:absolute;width:21px;border:3px solid black;border-radius:100%;margin:-2px 0 0 -2px}.color-picker .cursor>div{height:15px;border:3px solid white;border-radius:100%}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{flex:1 1 auto;display:flex;flex-direction:column;gap:10px;padding:12px 8px}.color-picker .hue-alpha{display:flex;align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:24px;border:none;border-radius:5px;position:relative;cursor:pointer;background-size:100% 100%;background:linear-gradient(to right,red 0%,#ff0 17%,lime 33%,cyan 50%,blue 66%,#f0f 83%,red 100%)}.color-picker .alpha{direction:ltr;position:relative;width:100%;height:24px;border:none;border-radius:5px;cursor:pointer;background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}.color-picker .alpha-gradient{width:100%;height:100%;border-radius:5px;position:absolute}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;box-shadow:0 1px 1px 1px #00000026;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}.color-picker .saturation-lightness{direction:ltr;cursor:crosshair;width:100%;position:relative;height:130px;border:none;touch-action:manipulation;background-image:linear-gradient(to top,#000 0%,transparent 100%),linear-gradient(to right,#fff 0%,transparent 100%)}
`],encapsulation:2}),n})(),go=(()=>{class n{click(e){this.isOutside(e)&&this.emitClose("cancel")}onScroll(){this.onScreenMovement()}onResize(){this.onScreenMovement()}constructor(e,t){this.service=e,this.cdr=t,this.color="#000000",this.previewColor="#000000",this.hsva=new K(0,1,1,1),this.colorsAnimationEffect="slide-in",this.palette=bn,this.variants=[],this.userFormats=[],this.colorFormats=Yt,this.format=F.HEX,this.formatMap={hex:F.HEX,rgba:F.RGBA,hsla:F.HSLA,cmyk:F.CMYK},this.canChangeFormat=!0,this.menu=1,this.hideColorPicker=!1,this.hideTextInput=!1,this.colorPickerControls="default",this.placeholder="#FFFFFF"}ngOnInit(){this.setPosition(),this.hsva=this.service.stringToHsva(this.color),this.indexSeleccionado=this.findIndexSelectedColor(this.palette)}ngAfterViewInit(){this.setPositionY()}onScreenMovement(){this.setPosition(),this.setPositionY(),this.panelRef.nativeElement.style.transition||(this.panelRef.nativeElement.style.transition="transform 0.5s ease-out")}findIndexSelectedColor(e){let t;if(this.color)for(let o=0;o<e.length;o++){let r=e[o];typeof r=="string"?this.service.stringToFormat(this.color,F.HEX)==this.service.stringToFormat(r,F.HEX)&&(t=o):r===void 0?this.color=void 0:this.findIndexSelectedColor(r.variants)!=null&&(t=o)}return t}iniciate(e,t,o,r,a,d,C,b,G,I,O,$e,De=[]){if(this.colorPickerControls=O,this.triggerInstance=e,this.TriggerBBox=t,this.color=o,this.hideColorPicker=b,this.hideTextInput=C,this.acceptLabel=G,this.cancelLabel=I,De.length&&De.every(Wn=>Yt.includes(Wn))&&(this.colorFormats=De),d?this.colorFormats.includes(d)?(this.format=this.colorFormats.indexOf(d.toLowerCase()),this.canChangeFormat=!1,this.service.getFormatByString(this.color)!=d.toLowerCase()&&this.setColor(this.service.stringToHsva(this.color))):(console.error("Format provided is invalid, using HEX"),this.format=F.HEX):(this.format=this.colorFormats.indexOf(this.service.getFormatByString(this.color)),this.format<0&&(this.format=0)),this.previewColor=this.color,this.palette=r??bn,this.colorsAnimationEffect=a,$e=="top"){let Jt=this.TriggerBBox.nativeElement.getBoundingClientRect();this.positionString="transform: translateY(calc( -100% - "+Jt.height+"px ))"}}setPosition(){if(this.TriggerBBox){let t=this.TriggerBBox.nativeElement.getBoundingClientRect();this.top=t.top+t.height,t.left+250>window.innerWidth?this.left=t.right<250?window.innerWidth/2-250/2:t.right-250:this.left=t.left}}setPositionY(){let e=this.TriggerBBox.nativeElement.getBoundingClientRect(),t=this.panelRef.nativeElement.getBoundingClientRect(),o=t.height;e.bottom+o>window.innerHeight?this.positionString=e.top<t.height?"transform: translateY(-"+e.bottom+"px );":"transform: translateY(calc( -100% - "+e.height+"px ));":this.positionString="",this.cdr.detectChanges()}hasVariant(e){return this.previewColor?typeof e!="string"&&e.variants.some(t=>t.toUpperCase()==this.previewColor.toUpperCase()):!1}isSelected(e){return this.previewColor?typeof e=="string"&&e.toUpperCase()==this.previewColor.toUpperCase():!1}getBackgroundColor(e){return typeof e=="string"?{background:e}:{background:e?.preview}}onAlphaChange(e){this.palette=this.ChangeAlphaOnPalette(e,this.palette)}ChangeAlphaOnPalette(e,t){var o=[];for(let r=0;r<t.length;r++){let a=t[r];if(typeof a=="string"){let d=this.service.stringToHsva(a);d.onAlphaChange(e),o.push(this.service.toFormat(d,this.format))}else{let d=new $t,C=this.service.stringToHsva(a.preview);C.onAlphaChange(e),d.preview=this.service.toFormat(C,this.format),d.variants=this.ChangeAlphaOnPalette(e,a.variants),o.push(d)}}return o}changeColor(e){this.setColor(this.service.stringToHsva(e)),this.emitClose("accept")}onChangeColorPicker(e){this.temporalColor=e,this.color=this.service.toFormat(e,this.format),this.triggerInstance.sliderChange(this.service.toFormat(e,this.format))}changeColorManual(e){this.previewColor=e,this.color=e,this.hsva=this.service.stringToHsva(e),this.setPreviewColor(this.hsva),this.temporalColor=this.hsva,this.triggerInstance.setColor(this.color,this.previewColor)}setColor(e,t=-1){this.hsva=e;let o=this.colorFormats[this.format],r=t;r<0&&(r=this.formatMap[o]),this.color=this.service.toFormat(e,r),this.setPreviewColor(e),this.triggerInstance.setColor(this.color,this.previewColor)}setPreviewColor(e){this.previewColor=e?this.service.hsvaToRgba(e).toString():void 0}onChange(){}onColorClick(e){typeof e=="string"||e===void 0?this.changeColor(e):(this.variants=e.variants,this.menu=2)}addColor(){this.menu=3,this.backupColor=this.color,this.temporalColor=this.service.stringToHsva(this.color)}nextFormat(){if(this.canChangeFormat){this.format=(this.format+1)%this.colorFormats.length;let e=this.colorFormats[this.format],t=this.formatMap[e];this.setColor(this.hsva,t),this.placeholder=this.service.toFormat(new K(0,0,1,1),t)}}emitClose(e){this.menu==3&&(e=="cancel"||e=="accept"&&this.setColor(this.temporalColor)),this.triggerInstance.closePanel()}onClickBack(){this.menu==3&&(this.color=this.backupColor,this.hsva=this.service.stringToHsva(this.color)),this.indexSeleccionado=this.findIndexSelectedColor(this.palette),this.menu=1}isOutside(e){return e.target.classList.contains("ngx-colors-overlay")}}return n.\u0275fac=function(e){return new(e||n)(p(yt),p(J))},n.\u0275cmp=A({type:n,selectors:[["ngx-colors-panel"]],viewQuery:function(e,t){if(e&1&&Z(eo,5),e&2){let o;N(o=V())&&(t.panelRef=o.first)}},hostVars:4,hostBindings:function(e,t){e&1&&_("mousedown",function(r){return t.click(r)},!1,It)("scroll",function(){return t.onScroll()},!1,It)("resize",function(){return t.onResize()},!1,di),e&2&&B("top",t.top,"px")("left",t.left,"px")},decls:6,vars:6,consts:[["dialog",""],["paintInput",""],[1,"opened"],[4,"ngIf"],["class","manual-input-wrapper",4,"ngIf"],[1,"colors"],[4,"ngFor","ngForOf"],["style","background: rgb(245 245 245); position: relative","class","circle button",3,"click",4,"ngIf"],[3,"controls","color","colorChange","onAlphaChange",4,"ngIf"],[1,"circle","wrapper","color"],[1,"circle","color","circle-border",3,"click","ngStyle"],["class","selected",4,"ngIf"],[1,"selected"],[1,"circle","button",2,"background","rgb(245 245 245)","position","relative",3,"click"],["style",`
            position: absolute;
            height: 7px;
            width: 7px;
            border: 1px solid rgba(0, 0, 0, 0.03);
            border-radius: 100%;
            top: 0;
            right: 0;
          `,3,"ngStyle",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#222222"],["d","M24 24H0V0h24v24z","fill","none","opacity",".87"],["d","M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"],[2,"position","absolute","height","7px","width","7px","border","1px solid rgba(0, 0, 0, 0.03)","border-radius","100%","top","0","right","0",3,"ngStyle"],[3,"colorChange","onAlphaChange","controls","color"],[1,"circle","wrapper"],[1,"add",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["d","M0 0h24v24H0z","fill","none"],["d","M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"],[1,"circle","circle-border",3,"click","ngStyle"],[1,"nav-wrapper"],[1,"round-button","button",2,"float","left",3,"click"],[2,"float","right",3,"click"],[1,"color-picker-wrapper"],[3,"sliderChange","controls","color"],[1,"manual-input-wrapper"],[2,"cursor","pointer",3,"click"],[1,"g-input"],["type","text",3,"keyup","keydown.enter","placeholder","value"]],template:function(e,t){e&1&&(s(0,"div",2,0),f(2,ao,5,4,"ng-container",3)(3,co,8,2,"ng-container",3)(4,po,12,4,"ng-container",3)(5,mo,6,7,"div",4),l()),e&2&&(ui(t.positionString),c(2),h("ngIf",t.menu==1),c(),h("ngIf",t.menu==2),c(),h("ngIf",t.menu==3),c(),h("ngIf",!t.hideTextInput))},dependencies:[xi,Nt,nt,uo],styles:["[_nghost-%COMP%]{position:fixed;z-index:2001}.hidden[_ngcontent-%COMP%]{display:none}.button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.top[_ngcontent-%COMP%]{transform:translateY(-100%)}.opened[_ngcontent-%COMP%]{box-sizing:border-box;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;background:#fff;width:250px;border-radius:5px;position:absolute}.opened[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-family:inherit;font-size:12px;background-color:unset;-webkit-user-select:none;user-select:none;padding:10px;letter-spacing:1px;color:#222;border-radius:3px;line-height:20px}.opened[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .opened[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{background-color:#0000000d;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1);transition-property:opacity,background-color;transition-duration:.2s,.2s;transition-timing-function:cubic-bezier(.35,0,.25,1),cubic-bezier(.35,0,.25,1);transition-delay:0s,0s}.opened[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:none}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;margin:15px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{height:34px;width:34px;box-sizing:border-box;border-radius:100%;cursor:pointer}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{font-size:20px;line-height:45px;text-align:center}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{border:2px solid white;border-radius:100%;height:28px;width:28px;box-sizing:border-box;margin:2px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.colornull[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(236,236,236,.7) 0%,rgba(236,236,236,.7) 45%,#de0f00 50%,rgba(236,236,236,.7) 55%,rgba(236,236,236,.7) 100%)}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.wrapper[_ngcontent-%COMP%]{margin:0 5px 5px;flex:34px 0 0}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.button[_ngcontent-%COMP%]{margin:0 5px 5px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.wrapper.color[_ngcontent-%COMP%]{background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.03)}.opened[_ngcontent-%COMP%]   .color-picker-wrapper[_ngcontent-%COMP%]{margin:5px 15px}.opened[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{overflow:hidden;margin:5px}.opened[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   .round-button[_ngcontent-%COMP%]{padding:5px 0;width:40px;height:40px;box-sizing:border-box;border-radius:100%;text-align:center;line-height:45px}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]{display:flex;margin:15px;font-family:sans-serif}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-align:center;font-size:10px;letter-spacing:1.5px;text-transform:uppercase;line-height:48px;width:145px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]   .g-input[_ngcontent-%COMP%]{border:1px solid #e8ebed;height:45px;border-radius:5px;width:100%}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]   .g-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:9px;border:none;width:100%;text-transform:uppercase;outline:none;text-align:center;letter-spacing:1px;color:#595b65;height:100%;border-radius:5px;margin:0;padding:0}"],data:{animation:[We("colorsAnimation",[Be("void => slide-in",[Qe(":enter",k({opacity:0}),{optional:!0}),Qe(":enter",Lt("10ms",[Re(".3s ease-in",Ht([k({opacity:0,transform:"translatex(-50%)",offset:0}),k({opacity:.5,transform:"translatex(-10px) scale(1.1)",offset:.3}),k({opacity:1,transform:"translatex(0)",offset:1})]))]),{optional:!0})]),Be("void => popup",[Qe(":enter",k({opacity:0,transform:"scale(0)"}),{optional:!0}),Qe(":enter",Lt("10ms",[Re("500ms ease-out",Ht([k({opacity:.5,transform:"scale(.5)",offset:.3}),k({opacity:1,transform:"scale(1.1)",offset:.8}),k({opacity:1,transform:"scale(1)",offset:1})]))]),{optional:!0})])])]}}),n})(),wn={position:"fixed",height:"100%",width:"100%","z-index":2e3,top:0,left:0},Sn=(()=>{class n{constructor(e,t,o){this.resolver=e,this.applicationRef=t,this.injector=o}createPanel(e,t){this.componentRef!=null&&this.removePanel();let o=this.resolver.resolveComponentFactory(go);this.componentRef=o.create(this.injector),this.applicationRef.attachView(this.componentRef.hostView);let r=this.componentRef.hostView.rootNodes[0];return this.overlay=document.createElement("div"),this.overlay.id="ngx-colors-overlay",this.overlay.classList.add("ngx-colors-overlay"),this.overlay.classList.add(t),Object.keys(wn).forEach(a=>{this.overlay.style[a]=wn[a]}),e?document.getElementById(e).appendChild(this.overlay):document.body.appendChild(this.overlay),this.overlay.appendChild(r),this.componentRef}removePanel(){this.applicationRef.detachView(this.componentRef.hostView),this.componentRef.destroy(),this.overlay.remove()}}return n.\u0275fac=function(e){return new(e||n)(he(mi),he(_i),he(li))},n.\u0275prov=pe({token:n,factory:n.\u0275fac}),n})(),Ut=(()=>{class n{onClick(){this.openPanel()}constructor(e,t,o){this.triggerRef=e,this.panelFactory=t,this.service=o,this.color="",this.colorsAnimation="slide-in",this.position="bottom",this.attachTo=void 0,this.overlayClassName=void 0,this.colorPickerControls="default",this.acceptLabel="ACCEPT",this.cancelLabel="CANCEL",this.change=new y,this.input=new y,this.slider=new y,this.close=new y,this.open=new y,this.isDisabled=!1,this.onTouchedCallback=()=>{},this.onChangeCallback=()=>{}}ngOnDestroy(){this.panelRef&&this.panelFactory.removePanel()}openPanel(){this.isDisabled||(this.panelRef=this.panelFactory.createPanel(this.attachTo,this.overlayClassName),this.panelRef.instance.iniciate(this,this.triggerRef,this.color,this.palette,this.colorsAnimation,this.format,this.hideTextInput,this.hideColorPicker,this.acceptLabel,this.cancelLabel,this.colorPickerControls,this.position,this.formats)),this.open.emit(this.color)}closePanel(){this.panelFactory.removePanel(),this.onTouchedCallback(),this.close.emit(this.color)}setDisabledState(e){this.isDisabled=e,this.triggerRef.nativeElement.style.opacity=e?.5:1}setColor(e,t=""){this.writeValue(e,t),this.onChangeCallback(e),this.input.emit(e)}sliderChange(e){this.slider.emit(e)}get value(){return this.color}set value(e){this.setColor(e),this.onChangeCallback(e)}writeValue(e,t=""){if(e!==this.color){if(this.format){let r=Yt.indexOf(this.format.toLowerCase());e=this.service.stringToFormat(e,r)}this.color=e;let o=!1;e&&e.startsWith("cmyk")&&(o=!0,t||(t=this.service.stringToFormat(e,F.RGBA))),this.change.emit(o?t:e)}}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}}return n.\u0275fac=function(e){return new(e||n)(p(ge),p(Sn),p(yt))},n.\u0275dir=P({type:n,selectors:[["","ngx-colors-trigger",""]],hostBindings:function(e,t){e&1&&_("click",function(){return t.onClick()})},inputs:{colorsAnimation:"colorsAnimation",palette:"palette",format:"format",formats:"formats",position:"position",hideTextInput:"hideTextInput",hideColorPicker:"hideColorPicker",attachTo:"attachTo",overlayClassName:"overlayClassName",colorPickerControls:"colorPickerControls",acceptLabel:"acceptLabel",cancelLabel:"cancelLabel"},outputs:{change:"change",input:"input",slider:"slider",close:"close",open:"open"},features:[H([{provide:Pi,useExisting:ni(()=>n),multi:!0}])]}),n})(),Dn=(()=>{class n{constructor(e,t){this.cdRef=e,this.triggerDirective=t,this.triggerDirectiveColorChangeSubscription=null,this.color=this.triggerDirective.color}ngOnInit(){this.triggerDirectiveColorChangeSubscription=this.triggerDirective.change.subscribe(e=>{this.color=e,this.cdRef.markForCheck()})}ngOnDestroy(){this.triggerDirectiveColorChangeSubscription&&this.triggerDirectiveColorChangeSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(p(J),p(Ut,1))},n.\u0275cmp=A({type:n,selectors:[["ngx-colors"]],decls:4,vars:5,consts:[[1,"app-color-picker"],[1,"preview"],[1,"preview-background"],[1,"circle",3,"ngStyle"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"div",1)(2,"div",2),g(3,"div",3),l()()()),e&2&&(c(3),q("colornull",!t.color),h("ngStyle",Bt(3,yn,t.color)))},dependencies:[nt],styles:["[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]{line-height:1px;font-family:sans-serif}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{margin:2px;display:inline-block;box-sizing:border-box;border-radius:100%;background:white;cursor:pointer;padding:3px;box-shadow:0 1px 1px #0003,0 1px 1px 1px #00000024,0 1px 1px 1px #0000001f}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .preview-background[_ngcontent-%COMP%]{background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px;border-radius:100%}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{height:20px;width:20px;box-sizing:border-box;border-radius:100%;cursor:pointer}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .circle.colornull[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(236,236,236,.7) 0%,rgba(236,236,236,.7) 45%,#de0f00 50%,rgba(236,236,236,.7) 55%,rgba(236,236,236,.7) 100%)}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .noselected[_ngcontent-%COMP%]{background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}"]}),n})(),An=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=$({type:n}),n.\u0275inj=Y({providers:[yt,Sn],imports:[ot]}),n})();var Mn=(()=>{let i=class i{get lineClamp(){return this.maxEllipsisLines}onMouseEnter(){this.isTextOverflowing?this.tooltip.show():this.tooltip.hide()}onMouseLeave(){this.tooltip.hide()}constructor(t,o){this.tooltip=t,this.elementRef=o,this.maxEllipsisLines=2,this.display="-webkit-box",this.overflow="hidden",this.boxOrient="vertical",this.textOverflow="ellipsis",this.whiteSpace="normal",this.wordBreak="break-all"}ngAfterViewInit(){setTimeout(()=>{this.tooltip.message=this.elementRef.nativeElement.textContent.trim(),this.tooltip.position="above"},0)}get isTextOverflowing(){let t=parseInt(window.getComputedStyle(this.elementRef.nativeElement).lineHeight),o=this.maxEllipsisLines*t;return this.elementRef.nativeElement.scrollHeight>o}};i.\u0275fac=function(o){return new(o||i)(p(ut),p(ge))},i.\u0275dir=P({type:i,selectors:[["","msUseEllipsis",""]],hostVars:14,hostBindings:function(o,r){o&1&&_("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()}),o&2&&B("display",r.display)("overflow",r.overflow)("-webkit-box-orient",r.boxOrient)("-webkit-line-clamp",r.lineClamp)("text-overflow",r.textOverflow)("white-space",r.whiteSpace)("word-break",r.wordBreak)},inputs:{maxEllipsisLines:"maxEllipsisLines"},standalone:!0,features:[H([ut])]});let n=i;return n})();var vo=0,Qt=new me("CdkAccordion"),En=(()=>{let i=class i{constructor(){this._stateChanges=new Me,this._openCloseAllActions=new Me,this.id=`cdk-accordion-${vo++}`,this.multi=!1}openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}};i.\u0275fac=function(o){return new(o||i)},i.\u0275dir=P({type:i,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",ee]},exportAs:["cdkAccordion"],standalone:!0,features:[H([{provide:Qt,useExisting:i}]),ie,ue]});let n=i;return n})(),xo=0,Tn=(()=>{let i=class i{get expanded(){return this._expanded}set expanded(t){if(this._expanded!==t){if(this._expanded=t,this.expandedChange.emit(t),t){this.opened.emit();let o=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,o)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}constructor(t,o,r){this.accordion=t,this._changeDetectorRef=o,this._expansionDispatcher=r,this._openCloseAllSubscription=Ze.EMPTY,this.closed=new y,this.opened=new y,this.destroyed=new y,this.expandedChange=new y,this.id=`cdk-accordion-child-${xo++}`,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((a,d)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===d&&this.id!==a&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}};i.\u0275fac=function(o){return new(o||i)(p(Qt,12),p(J),p(ht))},i.\u0275dir=P({type:i,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",ee],disabled:[2,"disabled","disabled",ee]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[H([{provide:Qt,useValue:void 0}]),ie]});let n=i;return n})(),Pn=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=$({type:i}),i.\u0275inj=Y({});let n=i;return n})();var yo=["body"],So=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Do=["mat-expansion-panel-header","*","mat-action-row"];function Ao(n,i){}var Mo=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Eo=["mat-panel-title","mat-panel-description","*"];function To(n,i){if(n&1&&(s(0,"span",1),Ie(),s(1,"svg",2),g(2,"path",3),l()()),n&2){let e=m();h("@indicatorRotate",e._getExpandedState())}}var Kt=new me("MAT_ACCORDION"),kn="225ms cubic-bezier(0.4,0.0,0.2,1)",In={indicatorRotate:We("indicatorRotate",[Ue("collapsed, void",k({transform:"rotate(0deg)"})),Ue("expanded",k({transform:"rotate(180deg)"})),Be("expanded <=> collapsed, void => collapsed",Re(kn))]),bodyExpansion:We("bodyExpansion",[Ue("collapsed, void",k({height:"0px",visibility:"hidden"})),Ue("expanded",k({height:"*",visibility:""})),Be("expanded <=> collapsed, void => collapsed",Re(kn))])},On=new me("MAT_EXPANSION_PANEL"),Po=(()=>{let i=class i{constructor(t,o){this._template=t,this._expansionPanel=o}};i.\u0275fac=function(o){return new(o||i)(p(pi),p(On,8))},i.\u0275dir=P({type:i,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0});let n=i;return n})(),ko=0,Rn=new me("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),oe=(()=>{let i=class i extends Tn{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=t}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,o,r,a,d,C,b){super(t,o,r),this._viewContainerRef=a,this._animationMode=C,this._hideToggle=!1,this.afterExpand=new y,this.afterCollapse=new y,this._inputChanges=new Me,this._headerId=`mat-expansion-panel-header-${ko++}`,this.accordion=t,this._document=d,this._animationsDisabled=C==="NoopAnimations",b&&(this.hideToggle=b.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(kt(null),Ee(()=>this.expanded&&!this._portal),de(1)).subscribe(()=>{this._portal=new Gi(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){let t=this._document.activeElement,o=this._body.nativeElement;return t===o||o.contains(t)}return!1}_animationStarted(t){!Fn(t)&&!this._animationsDisabled&&this._body&&this._body?.nativeElement.setAttribute("inert","")}_animationDone(t){Fn(t)||(t.toState==="expanded"?this.afterExpand.emit():t.toState==="collapsed"&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}};i.\u0275fac=function(o){return new(o||i)(p(Kt,12),p(J),p(ht),p(hi),p(vi),p(Ft,8),p(Rn,8))},i.\u0275cmp=A({type:i,selectors:[["mat-expansion-panel"]],contentQueries:function(o,r,a){if(o&1&&Rt(a,Po,5),o&2){let d;N(d=V())&&(r._lazyContent=d.first)}},viewQuery:function(o,r){if(o&1&&Z(yo,5),o&2){let a;N(a=V())&&(r._body=a.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(o,r){o&2&&q("mat-expanded",r.expanded)("_mat-animation-noopable",r._animationsDisabled)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",ee],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[H([{provide:Kt,useValue:void 0},{provide:On,useExisting:i}]),ie,Ot,ue,it],ngContentSelectors:Do,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(o,r){if(o&1){let a=E();tt(So),fe(0),s(1,"div",1,0),_("@bodyExpansion.start",function(C){return v(a),x(r._animationStarted(C))})("@bodyExpansion.done",function(C){return v(a),x(r._animationDone(C))}),s(3,"div",2),fe(4,1),f(5,Ao,0,0,"ng-template",3),l(),fe(6,2),l()}o&2&&(c(),h("@bodyExpansion",r._getExpandedState())("id",r.id),et("aria-labelledby",r._headerId),c(4),h("cdkPortalOutlet",r._portal))},dependencies:[Yi],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[In.bodyExpansion]},changeDetection:0});let n=i;return n})();function Fn(n){return n.fromState==="void"}var ke=(()=>{let i=class i{constructor(t,o,r,a,d,C,b){this.panel=t,this._element=o,this._focusMonitor=r,this._changeDetectorRef=a,this._animationMode=C,this._parentChangeSubscription=Ze.EMPTY,this.tabIndex=0;let G=t.accordion?t.accordion._stateChanges.pipe(Ee(I=>!!(I.hideToggle||I.togglePosition))):ti;this.tabIndex=parseInt(b||"")||0,this._parentChangeSubscription=Tt(t.opened,t.closed,G,t._inputChanges.pipe(Ee(I=>!!(I.hideToggle||I.disabled||I.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(Ee(()=>t._containsFocus())).subscribe(()=>r.focusVia(o,"program")),d&&(this.expandedHeight=d.expandedHeight,this.collapsedHeight=d.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:Si(t)||(t.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t);return}}focus(t,o){t?this._focusMonitor.focusVia(this._element,t,o):this._element.nativeElement.focus(o)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}};i.\u0275fac=function(o){return new(o||i)(p(oe,1),p(ge),p(Ai),p(J),p(Rn,8),p(Ft,8),si("tabindex"))},i.\u0275cmp=A({type:i,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(o,r){o&1&&_("click",function(){return r._toggle()})("keydown",function(d){return r._keydown(d)}),o&2&&(et("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),B("height",r._getHeaderHeight()),q("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after",r._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",r._getTogglePosition()==="before")("_mat-animation-noopable",r._animationMode==="NoopAnimations"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:Ci(t)]},standalone:!0,features:[ie,it],ngContentSelectors:Eo,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(o,r){o&1&&(tt(Mo),s(0,"span",0),fe(1),fe(2,1),fe(3,2),l(),f(4,To,3,1,"span",1)),o&2&&(q("mat-content-hide-toggle",!r._showToggle()),c(4),S(r._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color);display:inline-block;display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color);display:none;display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[In.indicatorRotate]},changeDetection:0});let n=i;return n})();var Ye=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275dir=P({type:i,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0});let n=i;return n})(),Bn=(()=>{let i=class i extends En{constructor(){super(...arguments),this._ownHeaders=new ci,this.hideToggle=!1,this.displayMode="default",this.togglePosition="after"}ngAfterContentInit(){this._headers.changes.pipe(kt(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(o=>o.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Di(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}};i.\u0275fac=(()=>{let t;return function(r){return(t||(t=ai(i)))(r||i)}})(),i.\u0275dir=P({type:i,selectors:[["mat-accordion"]],contentQueries:function(o,r,a){if(o&1&&Rt(a,ke,5),o&2){let d;N(d=V())&&(r._headers=d)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(o,r){o&2&&q("mat-accordion-multi",r.multi)},inputs:{hideToggle:[2,"hideToggle","hideToggle",ee],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],standalone:!0,features:[H([{provide:Kt,useExisting:i}]),ie,Ot]});let n=i;return n})(),Nn=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=$({type:i}),i.\u0275inj=Y({imports:[jt,Pn,$i]});let n=i;return n})();var Vn=(()=>{let i=class i{transform(t){return typeof t=="string"&&t&&t!="None"||typeof t=="number"&&!isNaN(t)?t.toString():"-"}};i.\u0275fac=function(o){return new(o||i)},i.\u0275pipe=Je({name:"emptyTableField",type:i,pure:!0,standalone:!0});let n=i;return n})();var Hn=(()=>{let i=class i{transform(t){return t&&typeof t=="object"&&Object.keys(t).length>0}};i.\u0275fac=function(o){return new(o||i)},i.\u0275pipe=Je({name:"hasKeys",type:i,pure:!0,standalone:!0});let n=i;return n})();var j=function(n){return n.ADD="add",n.EDIT="edit",n.VIEW="view",n}(j||{});var St=(()=>{let i=class i{constructor(t){this.store=t,this.filenames$=this.store.select(Ui),this.summarizedRecord$=this.store.select(Qi)}dispatch(t){this.store.dispatch(t)}};i.\u0275fac=function(o){return new(o||i)(he(yi))},i.\u0275prov=pe({token:i,factory:i.\u0275fac});let n=i;return n})();var z=(()=>{let i=class i{get algorithmType(){return this._algorithmType.value}get algorithmType$(){return this._algorithmType.asObservable()}set algorithmType(t){this._recordsMap.set(this._algorithmType.value,this._records.value),this._algorithmType.next(t);let o=this._recordsMap.get(t)||[];this._records.next(o)}get records(){return this._records.value}get records$(){return this._records.asObservable()}addRecord(t){this.stopTooltips();let r=[...this._records.value,t];this._records.next(r),this._recordsMap.set(this._algorithmType.value,r)}updateRecord(t,o){this.stopTooltips();let r=this._records.value;if(t>=0&&t<r.length){let a=[...r];a[t]=o,this._records.next(a),this._recordsMap.set(this._algorithmType.value,a)}}removeRecord(t){this.stopTooltips();let o=this._records.value;if(t>=0&&t<o.length){let r=o.filter((a,d)=>d!==t);this._records.next(r),this._recordsMap.set(this._algorithmType.value,r)}}stopTooltips(){this.chartToolsGlobalSignalsService.toggleTooltips=!1,this.chartToolsGlobalSignalsService.toggleZoom=!1}constructor(t){this.chartToolsGlobalSignalsService=t,this._recordsMap=new Map,this._records=new Et([]),this._algorithmType=new Et(R.PRUNING)}};i.\u0275fac=function(o){return new(o||i)(he(ze))},i.\u0275prov=pe({token:i,factory:i.\u0275fac});let n=i;return n})();var jn=(()=>{let i=class i{get parentFormGroup(){return this.controlContainer.control}get chartFormGroup(){return this.parentFormGroup.get(this.controlKey)}get borderColorControl(){return this.chartFormGroup.get(this.CHART_BODER_COLOR_CONTROL_NAME)}get backgroundColorControl(){return this.chartFormGroup.get(this.CHART_BACKGROUND_COLOR_CONTROL_NAME)}constructor(t){this.controlContainer=t,this.controlKey="",this.CHART_BODER_COLOR_CONTROL_NAME="borderColor",this.CHART_BACKGROUND_COLOR_CONTROL_NAME="backgroundColor"}ngOnInit(){}};i.\u0275fac=function(o){return new(o||i)(p(Ke))},i.\u0275cmp=A({type:i,selectors:[["ms-chart-colors-form-controls"]],inputs:{controlKey:"controlKey"},features:[H([],[{provide:Ke,useFactory:()=>oi(Ke,{skipSelf:!0})}])],decls:15,vars:5,consts:[[3,"formGroupName"],[1,"form-field-container"],[1,"flex","items-center"],[1,"mr-2"],["ngx-colors-trigger","",3,"formControlName"]],template:function(o,r){o&1&&(U(0,0),s(1,"div",1)(2,"mat-label"),u(3,"Chart border color"),l(),s(4,"div",2)(5,"div",3),g(6,"ngx-colors",4),l(),u(7),l()(),s(8,"div",1)(9,"mat-label"),u(10,"Chart background color"),l(),s(11,"div",2)(12,"div",3),g(13,"ngx-colors",4),l(),u(14),l()(),Q()),o&2&&(h("formGroupName",r.controlKey),c(6),h("formControlName",r.CHART_BODER_COLOR_CONTROL_NAME),c(),w(" ",r.borderColorControl==null?null:r.borderColorControl.value," "),c(6),h("formControlName",r.CHART_BACKGROUND_COLOR_CONTROL_NAME),c(),w(" ",r.backgroundColorControl==null?null:r.backgroundColorControl.value," "))},dependencies:[Dn,Ut,we,Ne,Ve,Ii,pt]});let n=i;return n})();function Go(n,i){if(n&1&&(s(0,"mat-option",5),u(1),l()),n&2){let e=m();c(),w(" No algorithm was yet run. Please run a ",e.algorithmTypeLabel," algorithm. ")}}function Yo(n,i){if(n&1&&(s(0,"mat-option",6),u(1),l()),n&2){let e=i.$implicit;h("value",e.name)("disabled",e.disabled),c(),w(" ",e.name," ")}}function $o(n,i){if(n&1&&X(0,Yo,2,3,"mat-option",6,ne),n&2){let e=m();W(e.files)}}function Xo(n,i){n&1&&(s(0,"div")(1,"div",7),g(2,"mat-spinner",8),l()())}function Wo(n,i){if(n&1&&(u(0),D(1,"readableDuration")),n&2){let e=m().$implicit;w(" ",M(1,1,e.value)," ")}}function Uo(n,i){if(n&1&&u(0),n&2){let e=m().$implicit;w(" ",e.value," ")}}function Qo(n,i){n&1&&(s(0,"div",20),g(1,"mat-divider"),l())}function Ko(n,i){if(n&1&&(s(0,"div",16)(1,"div",17)(2,"div",18),u(3),D(4,"parametersLabel"),l(),s(5,"div",19),f(6,Wo,2,3)(7,Uo,1,1),l()(),f(8,Qo,2,0,"div",20),l()),n&2){let e,t=i.$implicit,o=i.$index,r=i.$count;c(3),w("",M(4,3,t.key),":"),c(3),S((e=t.key)==="duration_seconds"?6:7),c(2),S(o!==r-1?8:-1)}}function qo(n,i){n&1&&X(0,Ko,9,5,"div",16,ne),n&2&&W(i)}function Zo(n,i){n&1&&(s(0,"div",15),u(1,"No data available"),l())}function Jo(n,i){if(n&1&&(u(0),D(1,"adaptiveFileSize")),n&2){let e=m().$implicit;w(" ",M(1,1,e.value)," ")}}function er(n,i){if(n&1&&(u(0),D(1,"date")),n&2){let e=m().$implicit;w(" ",fi(1,1,e.value,"medium")," ")}}function tr(n,i){if(n&1&&(u(0),D(1,"readableDuration")),n&2){let e=m().$implicit;w(" ",M(1,1,e.value)," ")}}function ir(n,i){if(n&1&&u(0),n&2){let e=m().$implicit;w(" ",e.value," ")}}function nr(n,i){n&1&&(s(0,"div",20),g(1,"mat-divider"),l())}function or(n,i){if(n&1&&(s(0,"div",16)(1,"div",17)(2,"div",18),u(3),D(4,"parametersLabel"),l(),s(5,"div",19),f(6,Jo,2,3)(7,er,2,4)(8,tr,2,3)(9,ir,1,1),l()(),f(10,nr,2,0,"div",20),l()),n&2){let e,t=i.$implicit,o=i.$index,r=i.$count;c(3),w("",M(4,3,t.key),":"),c(3),S((e=t.key)==="file_size_bytes"?6:e==="creation_date"?7:e==="training_duration_seconds"?8:9),c(4),S(o!==r-1?10:-1)}}function rr(n,i){if(n&1&&(X(0,or,11,5,"div",16,ne),D(2,"keyvalue")),n&2){let e=m(3);W(M(2,0,e.summarizedRecord.modelTrainingDetails))}}function ar(n,i){n&1&&(s(0,"div",15),u(1,"No data available"),l())}function sr(n,i){n&1&&(s(0,"div",20),g(1,"mat-divider"),l())}function lr(n,i){if(n&1&&(s(0,"div",16)(1,"div",17)(2,"div",18),u(3),D(4,"parametersLabel"),l(),s(5,"div",19),u(6),l()(),f(7,sr,2,0,"div",20),l()),n&2){let e=i.$implicit,t=i.$index,o=i.$count;c(3),w("",M(4,3,e.key),":"),c(3),_e(e.value),c(),S(t!==o-1?7:-1)}}function cr(n,i){n&1&&X(0,lr,8,5,"div",16,ne),n&2&&W(i)}function dr(n,i){n&1&&(s(0,"div",15),u(1,"No data available"),l())}function pr(n,i){if(n&1&&g(0,"ms-chart-colors-form-controls",21)(1,"ms-line-chart",22),n&2){let e=m(3);c(),h("data",e.lastRunAccuracyTestingChartData)("settings",e.testingAccuracyChartDisplaySettings)}}function mr(n,i){n&1&&(s(0,"div",15),u(1,"No data available"),l())}function hr(n,i){if(n&1){let e=E();g(0,"mat-divider"),s(1,"div",10)(2,"mat-label"),u(3,"Set run name"),l(),s(4,"mat-form-field",3),g(5,"input",11),l()(),s(6,"mat-accordion",12)(7,"mat-expansion-panel",13),xe("expandedChange",function(o){v(e);let r=m(2);return ve(r.panelStates.statistics,o)||(r.panelStates.statistics=o),x(o)}),s(8,"mat-expansion-panel-header")(9,"mat-panel-title",14),u(10," Statistics "),l()(),f(11,qo,2,0),D(12,"keyvalue"),f(13,Zo,2,0,"div",15),l(),s(14,"mat-expansion-panel",13),xe("expandedChange",function(o){v(e);let r=m(2);return ve(r.panelStates.modelTrainingDetails,o)||(r.panelStates.modelTrainingDetails=o),x(o)}),s(15,"mat-expansion-panel-header")(16,"mat-panel-title",14),u(17," Model training details "),l()(),f(18,rr,3,2),D(19,"hasKeys"),f(20,ar,2,0,"div",15),l(),s(21,"mat-expansion-panel",13),xe("expandedChange",function(o){v(e);let r=m(2);return ve(r.panelStates.parameters,o)||(r.panelStates.parameters=o),x(o)}),s(22,"mat-expansion-panel-header")(23,"mat-panel-title",14),u(24," Parameters "),l()(),f(25,cr,2,0),D(26,"keyvalue"),f(27,dr,2,0,"div",15),l(),s(28,"mat-expansion-panel",13),xe("expandedChange",function(o){v(e);let r=m(2);return ve(r.panelStates.accuracy,o)||(r.panelStates.accuracy=o),x(o)}),s(29,"mat-expansion-panel-header")(30,"mat-panel-title",14),u(31," Last Accuracy Test Run "),l()(),f(32,pr,2,2),D(33,"keyvalue"),f(34,mr,2,0,"div",15),l()()}if(n&2){let e,t,o,r=m(2);c(7),Ce("expanded",r.panelStates.statistics),c(4),S((e=M(12,8,r.summarizedRecord.statistics))?11:13,e),c(3),Ce("expanded",r.panelStates.modelTrainingDetails),c(4),S(M(19,10,r.summarizedRecord.modelTrainingDetails)?18:20),c(3),Ce("expanded",r.panelStates.parameters),c(4),S((t=M(26,12,r.summarizedRecord.parameters))?25:27,t),c(3),Ce("expanded",r.panelStates.accuracy),c(4),S((o=M(33,14,r.summarizedRecord.parameters))?32:34,o)}}function ur(n,i){n&1&&g(0,"ms-empty-state",9)}function gr(n,i){if(n&1&&f(0,hr,35,16)(1,ur,1,0,"ms-empty-state",9),n&2){let e=m();S(e.summarizedRecord?0:1)}}var re,Fe=(re=class{get chartFormGroup(){return this.form.get("chart")}get selectRunFormControl(){return this.form.get("selectRun")}get runNameFormControl(){return this.form.get("runName")}constructor(i,e,t,o,r,a){this.drawerRef=i,this.drawerConfig=e,this.fb=t,this.recordsFacadeService=o,this.recordsDataService=r,this.customAPILoadingService=a,this.panelStates={statistics:!0,parameters:!0,accuracy:!0,modelTrainingDetails:!0},this.form=new st({}),this.algorithmTypeLabel="",this.files=[],this.isSummarizedRecordLoading$=this.customAPILoadingService.getLoadingObservableForKey(vn.RUN_RECORDS_SUMMARIZED_DATA),this.testingAccuracyChartDisplaySettings={},this.lastRunAccuracyTestingChartData=[]}ngAfterViewInit(){this.restorePanelStates()}ngOnInit(){switch(this.initForm(),this.initChartDisplaySettings(),this.listenToChartColorChanges(),this.algorithmTypeLabel=this.getAlgorithmTypeString(),this.drawerConfig.actionType){case j.ADD:{this.loadData(),this.configureAddTypeActions();break}case j.EDIT:case j.VIEW:{this.configureEditOrViewTypeActions();break}}}getAlgorithmTypeString(){switch(this.recordsDataService.algorithmType){case R.PRUNING:return"pruning";case R.QUANTIZATION:return"quantization";case R.MACHINE_UNLEARNING:return"machine unlearning";default:return"specified"}}initChartDisplaySettings(){let i=0;switch(this.recordsDataService.algorithmType){case R.PRUNING:{i=100;break}case R.QUANTIZATION:{i=79;break}case R.MACHINE_UNLEARNING:{i=36;break}default:break}this.testingAccuracyChartDisplaySettings={yAxisMinimumValue:0,yAxisTickInterval:20,chartDataStructure:xt.SINGLE_PHASE_X_AXIS,xAxisDataPointsCount:i,yAxisMaximumValue:100,isXAxisVisible:!0,isXAxisDynamic:!0,areTooltipsEnabled:!0,xAxisInitialLabelValue:1,xAxisLabelPrefix:"Step:",datasetLabelPrefix:"Test:",isChartWithCustomColorSettings:!0,customChartColors:{datasetColors:[{backgroundColor:"rgba(241, 196, 15, 0.2)",borderColor:"#f1c40f"}]}}}listenToChartColorChanges(){this.chartFormGroup.valueChanges.pipe(ii(300),L(this)).subscribe(i=>{if(Le(i))return;let{backgroundColor:e,borderColor:t}=i;this.testingAccuracyChartDisplaySettings=Xe(Ae({},this.testingAccuracyChartDisplaySettings),{customChartColors:{datasetColors:[{backgroundColor:e,borderColor:t}]}}),this.lastRunAccuracyTestingChartData=[...this.lastRunAccuracyTestingChartData]})}configureEditOrViewTypeActions(){let{recordName:i,recordFilename:e,record:t,chartColors:o}=this.drawerConfig.data;this.drawerConfig.actionType===j.VIEW?this.form.disable():this.drawerConfig.actionType===j.EDIT&&this.selectRunFormControl.disable(),this.files=[{name:e,disabled:!0}],this.form.patchValue({selectRun:e,runName:i,chart:{borderColor:o.borderColor,backgroundColor:o.backgroundColor}}),this.summarizedRecord=t,this.lastRunAccuracyTestingChartData=this.configureChartDataset(t),this.testingAccuracyChartDisplaySettings=Xe(Ae({},this.testingAccuracyChartDisplaySettings),{hasCustomDatasetsLabels:!0,customDatasetsLabels:[i],customChartColors:{datasetColors:[{backgroundColor:o.backgroundColor||"rgba(241, 196, 15, 0.2)",borderColor:o.borderColor||"#f1c40f"}]}})}configureAddTypeActions(){this.listenToSelectRunFormValueChanges(),this.listenToSummarizedRecordChanges()}listenToSelectRunFormValueChanges(){this.selectRunFormControl.valueChanges.pipe(L(this),Ee(i=>!gt(i))).subscribe(i=>{this.runNameFormControl.reset(),this.recordsFacadeService.dispatch(Gt.getRunRecordSummarizedData({algorithmType:this.recordsDataService.algorithmType,filename:i}))})}listenToSummarizedRecordChanges(){this.recordsFacadeService.summarizedRecord$.pipe(L(this),Pt(1)).subscribe(i=>{this.summarizedRecord=i,this.lastRunAccuracyTestingChartData=this.configureChartDataset(i);let e=this.summarizedRecord?.statistics.algorithm_key,t=this.summarizedRecord?.parameters.arch;!gt(e)&&!gt(t)&&this.runNameFormControl.setValue(`${e}_${t}`),this.savePanelStates(),this.restorePanelStates()})}configureChartDataset(i){return[{datasetIndex:0,values:i.lastRunTestingAccuracyData||[]}]}loadData(){this.recordsFacadeService.dispatch(Gt.getRunRecordsFilenames({algorithmType:this.recordsDataService.algorithmType})),this.recordsFacadeService.filenames$.pipe(Pt(1),de(1)).subscribe(i=>{let e=new Set(this.recordsDataService.records.map(t=>t.recordFilename));this.files=i.map(t=>({name:t,disabled:e.has(t)}))})}initForm(){let i=this.getDefaultChartColors();this.form=this.fb.group({selectRun:[null,Te.required],runName:[null,Te.required],chart:this.fb.group({borderColor:[i.borderColor,Te.required],backgroundColor:[i.backgroundColor,Te.required]})})}getDefaultChartColors(){let i=Math.max(this.recordsDataService.records.length,0),e=fn[vt.YELLOW].datasetColors[i];return{borderColor:e.borderColor,backgroundColor:e.backgroundColor}}save(i){if(i!==ye.SAVE)return;let{backgroundColor:e,borderColor:t}=this.form.get("chart")?.getRawValue();this.drawerRef.close({result:{recordName:this.runNameFormControl.value,recordFilename:this.selectRunFormControl.value,record:this.summarizedRecord,chartColors:{backgroundColor:e,borderColor:t}},status:i})}close(){this.drawerRef.close()}savePanelStates(){this.panels.forEach((i,e)=>{this.panelStates[e]=i.expanded})}restorePanelStates(){this.panels.forEach((i,e)=>{this.panelStates[e]!==void 0&&(i.expanded=this.panelStates[e])})}},re.\u0275fac=function(e){return new(e||re)(p(gn),p(un),p(dt),p(St),p(z),p(xn))},re.\u0275cmp=A({type:re,selectors:[["ms-run-drawer-actions"]],viewQuery:function(e,t){if(e&1&&Z(oe,5),e&2){let o;N(o=V())&&(t.panels=o)}},decls:12,vars:7,consts:[[3,"actionEvent","isSaveDisabled"],[3,"formGroup"],[1,"form-field-container"],["appearance","outline"],["formControlName","selectRun","placeholder","Select a run record"],["disabled",""],[3,"value","disabled"],[1,"spinner-wrapper","mt-4"],["diameter","80"],["title","Awaiting Run Record Selection","message","Select a run record from the dropdown to view details and statistics."],[1,"form-field-container","mt-4"],["matInput","","formControlName","runName","placeholder","Set run name"],["multi",""],[3,"expandedChange","expanded"],[1,"paragraph-bold-p3-small-bold"],[1,"no-data-container"],[1,"key-value-container","single"],[1,"key-value-pair","space-between"],[1,"key-value-key"],[1,"key-value-value"],[1,"pt-2"],["controlKey","chart"],[3,"data","settings"]],template:function(e,t){e&1&&(s(0,"ms-drawer",0),_("actionEvent",function(r){return t.save(r)}),s(1,"form",1)(2,"div",2)(3,"mat-label"),u(4,"Select run record"),l(),s(5,"mat-form-field",3)(6,"mat-select",4),f(7,Go,2,1,"mat-option",5)(8,$o,2,0),l()()(),f(9,Xo,3,0,"div"),D(10,"async"),f(11,gr,2,1),l()()),e&2&&(h("isSaveDisabled",t.form.invalid),c(),h("formGroup",t.form),c(6),S(t.files.length===0?7:-1),c(),S(t.files.length>0?8:-1),c(),S(M(10,5,t.isSummarizedRecordLoading$)?9:11))},dependencies:[_t,Ge,Ct,Bn,oe,ke,Ye,lt,ki,we,Ne,ct,Ve,mt,pt,ft,rt,at,Xi,ji,jn,Oe,bi,wi,Cn,bt,_n,Hn],styles:[".spinner-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),re);Fe=ce([be()],Fe);function _r(n,i){if(n&1){let e=E();s(0,"mat-card",1)(1,"div",2)(2,"div",3),u(3),l(),s(4,"div",4)(5,"button",5),_("click",function(){let o=v(e).$implicit,r=m(2);return x(r.viewRecord(o))}),g(6,"mat-icon",6),l(),s(7,"button",5),_("click",function(){let o=v(e),r=o.$implicit,a=o.$index,d=m(2);return x(d.editRecord(a,r))}),g(8,"mat-icon",7),l(),s(9,"button",8),_("click",function(){let o=v(e).$index,r=m(2);return x(r.removeRecord(o))}),s(10,"mat-icon",9),u(11,"delete"),l()()()()()}if(n&2){let e=i.$implicit;c(3),_e(e.recordName)}}function Cr(n,i){n&1&&X(0,_r,12,1,"mat-card",1,ne),n&2&&W(i)}var Yn=(()=>{let i=class i{constructor(t,o){this.recordsDataService=t,this.drawerService=o}removeRecord(t){this.recordsDataService.removeRecord(t)}viewRecord(t){this.drawerService.open(Fe,{title:"View Run",showSaveButton:!1,showCloseButton:!0,closeButtonLabel:"Close",actionType:j.VIEW,data:t})}editRecord(t,o){this.drawerService.open(Fe,{title:"Edit Run",saveButtonLabel:"Update",showCloseButton:!0,closeButtonLabel:"Close",actionType:j.EDIT,data:o}).afterClosed().pipe(de(1)).subscribe(a=>{let{status:d}=a;if(d===ye.DISMISS||d===ye.CLOSE)return;let{result:C}=a;Le(C)||this.recordsDataService.updateRecord(t,C)})}};i.\u0275fac=function(o){return new(o||i)(p(z),p(je))},i.\u0275cmp=A({type:i,selectors:[["ms-algorithm-comparison-list"]],decls:3,vars:3,consts:[[1,"items-wrapper"],[1,"ms-card","comparison-item"],[1,"item-wrapper"],["msUseEllipsis",""],[1,"record-summary-buttons-wrapper"],["mat-icon-button","","color","primary",3,"click"],["fontSet","ms","fontIcon","icon-Eye",1,"mat-primary"],["fontSet","ms","fontIcon","icon-PencilSimple",1,"mat-primary"],["mat-icon-button","","color","error",3,"click"],[1,"mat-error"]],template:function(o,r){if(o&1&&(s(0,"div",0),f(1,Cr,2,0),D(2,"async"),l()),o&2){let a;c(),S((a=M(2,1,r.recordsDataService.records$))?1:-1,a)}},dependencies:[Mn,He,Ki,Ni,Oe],styles:[".items-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));grid-gap:20px;padding:20px 0}.items-wrapper[_ngcontent-%COMP%]   .ms-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #0003}.items-wrapper[_ngcontent-%COMP%]   .comparison-item[_ngcontent-%COMP%]   .item-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.items-wrapper[_ngcontent-%COMP%]   .comparison-item[_ngcontent-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .record-summary-buttons-wrapper[_ngcontent-%COMP%]{display:flex}"]});let n=i;return n})();var ae,Dt=(ae=class{constructor(i,e){this.recordsDataService=i,this.chartToolsGlobalSignalsService=e,this.testingAccuracyChartDisplaySettings={yAxisMinimumValue:0,yAxisMaximumValue:100,yAxisTickInterval:20,chartDataStructure:xt.SINGLE_PHASE_X_AXIS,datasetColorSettingsKey:vt.YELLOW,isXAxisVisible:!0,xAxisLabelPrefix:"Step:",zoomRangeLimits:{min:0,max:100},isXAxisDynamic:!0,hasCustomDatasetsLabels:!0},this.lastRunsAccuracyTestingChartData=[],this.enableTooltips=!1,this.enableZoom=!1}ngOnInit(){this.listenToRecordsChanges(),this.subscribeToChartToolsSignals()}listenToRecordsChanges(){this.recordsDataService.records$.pipe(L(this)).subscribe(i=>{zt(i)||(this.lastRunsAccuracyTestingChartData=this.configureChartDatasets(i),this.testingAccuracyChartDisplaySettings=Xe(Ae({},this.testingAccuracyChartDisplaySettings),{customDatasetsLabels:i.map(e=>e.recordName),xAxisDataPointsCount:i[0].record.lastRunTestingAccuracyData.length,isChartWithCustomColorSettings:!0,customChartColors:{datasetColors:i.map(e=>e.chartColors)}}))})}subscribeToChartToolsSignals(){this.chartToolsGlobalSignalsService.toggleTooltips$.pipe(L(this)).subscribe(i=>{this.enableTooltips=i}),this.chartToolsGlobalSignalsService.toggleZoom$.pipe(L(this)).subscribe(i=>{this.enableZoom=i})}configureChartDatasets(i){let e=[];return i.forEach((t,o)=>{let{record:r}=t;e.push({datasetIndex:o,values:r.lastRunTestingAccuracyData||[]})}),e}toggleTooltip(i){this.chartToolsGlobalSignalsService.toggleTooltips=i.checked}toggleZoom(i){this.chartToolsGlobalSignalsService.toggleZoom=i.checked}},ae.\u0275fac=function(e){return new(e||ae)(p(z),p(ze))},ae.\u0275cmp=A({type:ae,selectors:[["ms-algorithm-comparison-chart"]],decls:14,vars:4,consts:[["expanded","true"],[1,"paragraph-bold-p3-small-bold"],[1,"mt-2","flex"],["color","primary",3,"ngModelChange","change","ngModel"],[1,"flex"],["color","primary",1,"ml-2",3,"ngModelChange","change","ngModel"],[1,"ml-1"],["fontSet","ms","fontIcon","icon-Info","matTooltip","Use mouse wheel or touchpad pinch to zoom in/out. Drag to select an area for specific zoom, or use touchpad gestures to navigate."],[3,"data","settings"]],template:function(e,t){e&1&&(s(0,"mat-expansion-panel",0)(1,"mat-expansion-panel-header")(2,"mat-panel-title",1),u(3," Last Accuracy Test Run "),l()(),s(4,"div",2)(5,"div")(6,"mat-slide-toggle",3),xe("ngModelChange",function(r){return ve(t.enableTooltips,r)||(t.enableTooltips=r),r}),_("change",function(r){return t.toggleTooltip(r)}),u(7," Enable tooltips "),l()(),s(8,"div",4)(9,"mat-slide-toggle",5),xe("ngModelChange",function(r){return ve(t.enableZoom,r)||(t.enableZoom=r),r}),_("change",function(r){return t.toggleZoom(r)}),u(10," Enable zoom "),l(),s(11,"div",6),g(12,"mat-icon",7),l()()(),g(13,"ms-line-chart",8),l()),e&2&&(c(6),Ce("ngModel",t.enableTooltips),c(3),Ce("ngModel",t.enableZoom),c(4),h("data",t.lastRunsAccuracyTestingChartData)("settings",t.testingAccuracyChartDisplaySettings))},dependencies:[Ge,oe,ke,Ye,we,Fi,He,Ji]}),ae);Dt=ce([be()],Dt);var br=new me("MAT_SORT_DEFAULT_OPTIONS"),$n=(()=>{let i=class i{get direction(){return this._direction}set direction(t){this._direction=t}constructor(t){this._defaultOptions=t,this._initializedStream=new ei(1),this.sortables=new Map,this._stateChanges=new Me,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new y,this.initialized=this._initializedStream}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let o=t?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,r=wr(t.start||this.start,o),a=r.indexOf(this.direction)+1;return a>=r.length&&(a=0),r[a]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}};i.\u0275fac=function(o){return new(o||i)(p(br,8))},i.\u0275dir=P({type:i,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",ee],disabled:[2,"matSortDisabled","disabled",ee]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[ie,ue]});let n=i;return n})();function wr(n,i){let e=["asc","desc"];return n=="desc"&&e.reverse(),i||e.push(""),e}var zs=Ei.ENTERING+" "+Mi.STANDARD_CURVE;function yr(n,i){n&1&&(s(0,"th",10),u(1,"Record Name"),l())}function Sr(n,i){if(n&1&&(s(0,"td",11),u(1),l()),n&2){let e=i.$implicit;c(),_e(e.recordName)}}function Dr(n,i){if(n&1&&(s(0,"th",10),u(1),D(2,"parametersLabel"),l()),n&2){let e=m().$implicit;c(),w(" ",M(2,1,e)," ")}}function Ar(n,i){if(n&1&&(s(0,"td",11),u(1),D(2,"emptyTableField"),l()),n&2){let e=i.$implicit,t=m().$implicit;c(),w(" ",M(2,1,e[t])," ")}}function Mr(n,i){if(n&1&&(U(0,7),f(1,Dr,3,3,"th",5)(2,Ar,3,3,"td",6),Q()),n&2){let e=i.$implicit;h("matColumnDef",e)}}function Er(n,i){n&1&&g(0,"tr",12)}function Tr(n,i){n&1&&g(0,"tr",13)}var se,At=(se=class{constructor(i){this.recordsDataService=i,this.dataSource=new hn,this.displayedColumns=[]}ngOnInit(){this.recordsDataService.records$.pipe(L(this)).subscribe(i=>{this.updateDisplayedColumns(i),this.updateDataSource(i)})}ngAfterViewInit(){Le(this.sort)||setTimeout(()=>{this.dataSource.sort=this.sort},1200)}updateDisplayedColumns(i){let e=new Set;i.forEach(t=>{Object.keys(t.record.parameters).forEach(o=>{o!=="save_dir"&&o!=="data"&&e.add(o)})}),this.displayedColumns=["recordName",...Array.from(e)]}updateDataSource(i){let e=i.map(t=>{let o=t.record.parameters;return Ae({recordName:t.recordName},o)});this.dataSource.data=e}},se.\u0275fac=function(e){return new(e||se)(p(z))},se.\u0275cmp=A({type:se,selectors:[["ms-algorithm-comparison-table"]],viewQuery:function(e,t){if(e&1&&Z($n,5),e&2){let o;N(o=V())&&(t.sort=o.first)}},decls:13,vars:3,consts:[["expanded","true"],[1,"paragraph-bold-p3-small-bold"],[1,"table-container"],["mat-table","","matSort","",1,"mat-table",3,"dataSource"],["matColumnDef","recordName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[3,"matColumnDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","hover-highlight",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row","",1,"hover-highlight"]],template:function(e,t){e&1&&(s(0,"mat-expansion-panel",0)(1,"mat-expansion-panel-header")(2,"mat-panel-title",1),u(3," Parameters "),l()(),s(4,"div",2)(5,"table",3),U(6,4),f(7,yr,2,0,"th",5)(8,Sr,2,1,"td",6),Q(),X(9,Mr,3,1,"ng-container",7,ne),f(11,Er,1,0,"tr",8)(12,Tr,1,0,"tr",9),l()()()),e&2&&(c(5),h("dataSource",t.dataSource),c(4),W(t.displayedColumns.slice(1)),c(2),h("matHeaderRowDef",t.displayedColumns),c(),h("matRowDefColumns",t.displayedColumns))},dependencies:[oe,ke,Ye,tn,on,ln,rn,nn,cn,an,sn,dn,pn,bt,Vn],styles:[".table-container[_ngcontent-%COMP%]{overflow:auto}.hover-highlight[_ngcontent-%COMP%]:hover{background-color:var(--backgrounds-80)}.mat-column-disable_8bit_head_stem[_ngcontent-%COMP%]{min-width:200px}.mat-column-workers[_ngcontent-%COMP%], .mat-column-n_bits_w[_ngcontent-%COMP%], .mat-column-channel_wise[_ngcontent-%COMP%], .mat-column-n_bits_a[_ngcontent-%COMP%]{min-width:160px}.mat-column-act_quant[_ngcontent-%COMP%]{min-width:180px}.mat-column-num_samples[_ngcontent-%COMP%], .mat-column-iters_w[_ngcontent-%COMP%]{min-width:160px}.mat-column-keep_cpu[_ngcontent-%COMP%], .mat-column-awq[_ngcontent-%COMP%]{min-width:180px}.mat-column-aaq[_ngcontent-%COMP%], .mat-column-init_wmode[_ngcontent-%COMP%], .mat-column-init_amode[_ngcontent-%COMP%]{min-width:200px}.mat-column-num_indexes_to_replace[_ngcontent-%COMP%]{min-width:185px}.mat-column-unlearn_lr[_ngcontent-%COMP%], .mat-column-alpha[_ngcontent-%COMP%], .mat-column-unlearn_epochs[_ngcontent-%COMP%], .mat-column-train_seed[_ngcontent-%COMP%], .mat-column-class_to_replace[_ngcontent-%COMP%], .mat-column-indexes_to_replace[_ngcontent-%COMP%], .mat-column-no_aug[_ngcontent-%COMP%]{min-width:200px}.mat-column-imagenet_arch[_ngcontent-%COMP%]{min-width:220px}.mat-column-num_workers[_ngcontent-%COMP%]{min-width:180px}"]}),se);At=ce([be()],At);var kr=(n,i)=>i.key;function Fr(n,i){if(n&1&&(s(0,"mat-option",6),u(1),l()),n&2){let e=i.$implicit;h("value",e.key),c(),w(" ",e.value," ")}}function Ir(n,i){n&1&&(g(0,"ms-algorithm-comparison-list"),s(1,"div",7),g(2,"mat-divider"),l(),g(3,"ms-algorithm-comparison-table"),s(4,"div",7),g(5,"mat-divider"),l(),g(6,"ms-algorithm-comparison-chart"))}function Or(n,i){n&1&&(s(0,"div",11),g(1,"ms-empty-state",12),l())}var le,Mt=(le=class{get algorithmTypeFormControl(){return this.form.get(this.ALGORITHM_TYPE_CONTROL_NAME)}constructor(i,e,t){this.drawerService=i,this.recordsDataService=e,this.fb=t,this.form=new st({}),this.algorithmTypesOptions=[{key:R.QUANTIZATION,value:"Quantization"},{key:R.PRUNING,value:"Pruning"},{key:R.MACHINE_UNLEARNING,value:"Machine Unlearning"}],this.ALGORITHM_TYPE_CONTROL_NAME="algorithmType"}openAddRunDrawer(){this.drawerService.open(Fe,{title:"Add Run",saveButtonLabel:"Add",showCloseButton:!0,closeButtonLabel:"Close",actionType:j.ADD}).afterClosed().pipe(de(1)).subscribe(e=>{let{status:t}=e;if(t===ye.DISMISS||t===ye.CLOSE)return;let{result:o}=e;this.recordsDataService.addRecord(o)})}ngOnInit(){this.initForm(),this.listenToAlgorithmTypeChanges()}initForm(){this.form=this.fb.group({[this.ALGORITHM_TYPE_CONTROL_NAME]:[this.recordsDataService.algorithmType,Te.required]})}listenToAlgorithmTypeChanges(){this.algorithmTypeFormControl.valueChanges.pipe(L(this)).subscribe(i=>{this.recordsDataService.algorithmType=i})}},le.\u0275fac=function(e){return new(e||le)(p(je),p(z),p(dt))},le.\u0275cmp=A({type:le,selectors:[["ms-algorithm-comparison"]],decls:19,vars:5,consts:[[1,"title-wrapper"],[1,"heading-primary-title","title"],[1,"ml-2",3,"formGroup"],[1,"form-field-container","w-56","mt-2"],["appearance","outline"],["placeholder","Select a run record",3,"formControlName"],[3,"value"],[1,"mt-4","mb-4"],["mat-stroked-button","","color","primary",3,"click"],["fontSet","ms","fontIcon","icon-Plus"],[1,"mt-4"],[1,"no-data-wrapper"],["title","No data selected"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"p",1),u(2,"Algorithm Comparison for"),l(),s(3,"form",2)(4,"div",3)(5,"mat-form-field",4)(6,"mat-select",5),X(7,Fr,2,2,"mat-option",6,kr),l()()()()(),s(9,"div",7),g(10,"mat-divider"),l(),s(11,"button",8),_("click",function(){return t.openAddRunDrawer()}),g(12,"mat-icon",9),u(13,` Add run
`),l(),s(14,"div",10),g(15,"mat-divider"),l(),f(16,Ir,7,0),D(17,"async"),f(18,Or,2,0,"div",11)),e&2&&(c(3),h("formGroup",t.form),c(3),h("formControlName",t.ALGORITHM_TYPE_CONTROL_NAME),c(),W(t.algorithmTypesOptions),c(9),S(M(17,3,t.recordsDataService.records$).length>0?16:18))},dependencies:[Ct,lt,we,Ne,ct,Ve,mt,ft,rt,at,He,Bi,Yn,Dt,At,Oe],styles:[".no-data-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center}.title-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}"]}),le);Mt=ce([be()],Mt);var Rr=[{path:"",component:Mt}],Xn=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=$({type:i}),i.\u0275inj=Y({imports:[Vt.forChild(Rr),Vt]});let n=i;return n})();var nc=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=$({type:i}),i.\u0275inj=Y({providers:[je,St,z,ze],imports:[ot,Xn,_t,An,Ge,Nn,Oi,Ri,Hi,Zi,Ti,Wi,Li,qi,mn,en,Vi,zi]});let n=i;return n})();export{nc as AlgorithmComparisonModule};
